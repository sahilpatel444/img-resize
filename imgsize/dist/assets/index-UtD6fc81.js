var $6=Object.defineProperty;var Bx=i=>{throw TypeError(i)};var q6=(i,e,t)=>e in i?$6(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var Tt=(i,e,t)=>q6(i,typeof e!="symbol"?e+"":e,t),Py=(i,e,t)=>e.has(i)||Bx("Cannot "+t);var p=(i,e,t)=>(Py(i,e,"read from private field"),t?t.call(i):e.get(i)),Z=(i,e,t)=>e.has(i)?Bx("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,t),z=(i,e,t,n)=>(Py(i,e,"write to private field"),n?n.call(i,t):e.set(i,t),t),ne=(i,e,t)=>(Py(i,e,"access private method"),t);var gs=(i,e,t,n)=>({set _(r){z(i,e,r,t)},get _(){return p(i,e,n)}});function W6(i,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in i)){const s=Object.getOwnPropertyDescriptor(n,r);s&&Object.defineProperty(i,r,s.get?s:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();var E7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function V6(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Ny={exports:{}},jm={},ky={exports:{}},Jt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zx;function G6(){if(zx)return Jt;zx=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;function v(ue){return ue===null||typeof ue!="object"?null:(ue=f&&ue[f]||ue["@@iterator"],typeof ue=="function"?ue:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,x={};function E(ue,k,Y){this.props=ue,this.context=k,this.refs=x,this.updater=Y||g}E.prototype.isReactComponent={},E.prototype.setState=function(ue,k){if(typeof ue!="object"&&typeof ue!="function"&&ue!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ue,k,"setState")},E.prototype.forceUpdate=function(ue){this.updater.enqueueForceUpdate(this,ue,"forceUpdate")};function S(){}S.prototype=E.prototype;function P(ue,k,Y){this.props=ue,this.context=k,this.refs=x,this.updater=Y||g}var F=P.prototype=new S;F.constructor=P,b(F,E.prototype),F.isPureReactComponent=!0;var M=Array.isArray,$=Object.prototype.hasOwnProperty,H={current:null},q={key:!0,ref:!0,__self:!0,__source:!0};function T(ue,k,Y){var te,re={},de=null,me=null;if(k!=null)for(te in k.ref!==void 0&&(me=k.ref),k.key!==void 0&&(de=""+k.key),k)$.call(k,te)&&!q.hasOwnProperty(te)&&(re[te]=k[te]);var we=arguments.length-2;if(we===1)re.children=Y;else if(1<we){for(var _e=Array(we),je=0;je<we;je++)_e[je]=arguments[je+2];re.children=_e}if(ue&&ue.defaultProps)for(te in we=ue.defaultProps,we)re[te]===void 0&&(re[te]=we[te]);return{$$typeof:i,type:ue,key:de,ref:me,props:re,_owner:H.current}}function D(ue,k){return{$$typeof:i,type:ue.type,key:k,ref:ue.ref,props:ue.props,_owner:ue._owner}}function J(ue){return typeof ue=="object"&&ue!==null&&ue.$$typeof===i}function I(ue){var k={"=":"=0",":":"=2"};return"$"+ue.replace(/[=:]/g,function(Y){return k[Y]})}var O=/\/+/g;function X(ue,k){return typeof ue=="object"&&ue!==null&&ue.key!=null?I(""+ue.key):k.toString(36)}function U(ue,k,Y,te,re){var de=typeof ue;(de==="undefined"||de==="boolean")&&(ue=null);var me=!1;if(ue===null)me=!0;else switch(de){case"string":case"number":me=!0;break;case"object":switch(ue.$$typeof){case i:case e:me=!0}}if(me)return me=ue,re=re(me),ue=te===""?"."+X(me,0):te,M(re)?(Y="",ue!=null&&(Y=ue.replace(O,"$&/")+"/"),U(re,k,Y,"",function(je){return je})):re!=null&&(J(re)&&(re=D(re,Y+(!re.key||me&&me.key===re.key?"":(""+re.key).replace(O,"$&/")+"/")+ue)),k.push(re)),1;if(me=0,te=te===""?".":te+":",M(ue))for(var we=0;we<ue.length;we++){de=ue[we];var _e=te+X(de,we);me+=U(de,k,Y,_e,re)}else if(_e=v(ue),typeof _e=="function")for(ue=_e.call(ue),we=0;!(de=ue.next()).done;)de=de.value,_e=te+X(de,we++),me+=U(de,k,Y,_e,re);else if(de==="object")throw k=String(ue),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(ue).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.");return me}function ce(ue,k,Y){if(ue==null)return ue;var te=[],re=0;return U(ue,te,"","",function(de){return k.call(Y,de,re++)}),te}function B(ue){if(ue._status===-1){var k=ue._result;k=k(),k.then(function(Y){(ue._status===0||ue._status===-1)&&(ue._status=1,ue._result=Y)},function(Y){(ue._status===0||ue._status===-1)&&(ue._status=2,ue._result=Y)}),ue._status===-1&&(ue._status=0,ue._result=k)}if(ue._status===1)return ue._result.default;throw ue._result}var j={current:null},G={transition:null},ie={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:G,ReactCurrentOwner:H};function le(){throw Error("act(...) is not supported in production builds of React.")}return Jt.Children={map:ce,forEach:function(ue,k,Y){ce(ue,function(){k.apply(this,arguments)},Y)},count:function(ue){var k=0;return ce(ue,function(){k++}),k},toArray:function(ue){return ce(ue,function(k){return k})||[]},only:function(ue){if(!J(ue))throw Error("React.Children.only expected to receive a single React element child.");return ue}},Jt.Component=E,Jt.Fragment=t,Jt.Profiler=r,Jt.PureComponent=P,Jt.StrictMode=n,Jt.Suspense=c,Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,Jt.act=le,Jt.cloneElement=function(ue,k,Y){if(ue==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ue+".");var te=b({},ue.props),re=ue.key,de=ue.ref,me=ue._owner;if(k!=null){if(k.ref!==void 0&&(de=k.ref,me=H.current),k.key!==void 0&&(re=""+k.key),ue.type&&ue.type.defaultProps)var we=ue.type.defaultProps;for(_e in k)$.call(k,_e)&&!q.hasOwnProperty(_e)&&(te[_e]=k[_e]===void 0&&we!==void 0?we[_e]:k[_e])}var _e=arguments.length-2;if(_e===1)te.children=Y;else if(1<_e){we=Array(_e);for(var je=0;je<_e;je++)we[je]=arguments[je+2];te.children=we}return{$$typeof:i,type:ue.type,key:re,ref:de,props:te,_owner:me}},Jt.createContext=function(ue){return ue={$$typeof:o,_currentValue:ue,_currentValue2:ue,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ue.Provider={$$typeof:s,_context:ue},ue.Consumer=ue},Jt.createElement=T,Jt.createFactory=function(ue){var k=T.bind(null,ue);return k.type=ue,k},Jt.createRef=function(){return{current:null}},Jt.forwardRef=function(ue){return{$$typeof:l,render:ue}},Jt.isValidElement=J,Jt.lazy=function(ue){return{$$typeof:h,_payload:{_status:-1,_result:ue},_init:B}},Jt.memo=function(ue,k){return{$$typeof:d,type:ue,compare:k===void 0?null:k}},Jt.startTransition=function(ue){var k=G.transition;G.transition={};try{ue()}finally{G.transition=k}},Jt.unstable_act=le,Jt.useCallback=function(ue,k){return j.current.useCallback(ue,k)},Jt.useContext=function(ue){return j.current.useContext(ue)},Jt.useDebugValue=function(){},Jt.useDeferredValue=function(ue){return j.current.useDeferredValue(ue)},Jt.useEffect=function(ue,k){return j.current.useEffect(ue,k)},Jt.useId=function(){return j.current.useId()},Jt.useImperativeHandle=function(ue,k,Y){return j.current.useImperativeHandle(ue,k,Y)},Jt.useInsertionEffect=function(ue,k){return j.current.useInsertionEffect(ue,k)},Jt.useLayoutEffect=function(ue,k){return j.current.useLayoutEffect(ue,k)},Jt.useMemo=function(ue,k){return j.current.useMemo(ue,k)},Jt.useReducer=function(ue,k,Y){return j.current.useReducer(ue,k,Y)},Jt.useRef=function(ue){return j.current.useRef(ue)},Jt.useState=function(ue){return j.current.useState(ue)},Jt.useSyncExternalStore=function(ue,k,Y){return j.current.useSyncExternalStore(ue,k,Y)},Jt.useTransition=function(){return j.current.useTransition()},Jt.version="18.3.1",Jt}var Ux;function Yb(){return Ux||(Ux=1,ky.exports=G6()),ky.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hx;function X6(){if(Hx)return jm;Hx=1;var i=Yb(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,r=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,d){var h,f={},v=null,g=null;d!==void 0&&(v=""+d),c.key!==void 0&&(v=""+c.key),c.ref!==void 0&&(g=c.ref);for(h in c)n.call(c,h)&&!s.hasOwnProperty(h)&&(f[h]=c[h]);if(l&&l.defaultProps)for(h in c=l.defaultProps,c)f[h]===void 0&&(f[h]=c[h]);return{$$typeof:e,type:l,key:v,ref:g,props:f,_owner:r.current}}return jm.Fragment=t,jm.jsx=o,jm.jsxs=o,jm}var $x;function Y6(){return $x||($x=1,Ny.exports=X6()),Ny.exports}var be=Y6(),oe=Yb();const yn=V6(oe),N5=W6({__proto__:null,default:yn},[oe]);var O2={},Ty={exports:{}},Us={},Iy={exports:{}},Ry={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qx;function K6(){return qx||(qx=1,function(i){function e(G,ie){var le=G.length;G.push(ie);e:for(;0<le;){var ue=le-1>>>1,k=G[ue];if(0<r(k,ie))G[ue]=ie,G[le]=k,le=ue;else break e}}function t(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var ie=G[0],le=G.pop();if(le!==ie){G[0]=le;e:for(var ue=0,k=G.length,Y=k>>>1;ue<Y;){var te=2*(ue+1)-1,re=G[te],de=te+1,me=G[de];if(0>r(re,le))de<k&&0>r(me,re)?(G[ue]=me,G[de]=le,ue=de):(G[ue]=re,G[te]=le,ue=te);else if(de<k&&0>r(me,le))G[ue]=me,G[de]=le,ue=de;else break e}}return ie}function r(G,ie){var le=G.sortIndex-ie.sortIndex;return le!==0?le:G.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;i.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();i.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,f=null,v=3,g=!1,b=!1,x=!1,E=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(G){for(var ie=t(d);ie!==null;){if(ie.callback===null)n(d);else if(ie.startTime<=G)n(d),ie.sortIndex=ie.expirationTime,e(c,ie);else break;ie=t(d)}}function M(G){if(x=!1,F(G),!b)if(t(c)!==null)b=!0,B($);else{var ie=t(d);ie!==null&&j(M,ie.startTime-G)}}function $(G,ie){b=!1,x&&(x=!1,S(T),T=-1),g=!0;var le=v;try{for(F(ie),f=t(c);f!==null&&(!(f.expirationTime>ie)||G&&!I());){var ue=f.callback;if(typeof ue=="function"){f.callback=null,v=f.priorityLevel;var k=ue(f.expirationTime<=ie);ie=i.unstable_now(),typeof k=="function"?f.callback=k:f===t(c)&&n(c),F(ie)}else n(c);f=t(c)}if(f!==null)var Y=!0;else{var te=t(d);te!==null&&j(M,te.startTime-ie),Y=!1}return Y}finally{f=null,v=le,g=!1}}var H=!1,q=null,T=-1,D=5,J=-1;function I(){return!(i.unstable_now()-J<D)}function O(){if(q!==null){var G=i.unstable_now();J=G;var ie=!0;try{ie=q(!0,G)}finally{ie?X():(H=!1,q=null)}}else H=!1}var X;if(typeof P=="function")X=function(){P(O)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,ce=U.port2;U.port1.onmessage=O,X=function(){ce.postMessage(null)}}else X=function(){E(O,0)};function B(G){q=G,H||(H=!0,X())}function j(G,ie){T=E(function(){G(i.unstable_now())},ie)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_continueExecution=function(){b||g||(b=!0,B($))},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_getFirstCallbackNode=function(){return t(c)},i.unstable_next=function(G){switch(v){case 1:case 2:case 3:var ie=3;break;default:ie=v}var le=v;v=ie;try{return G()}finally{v=le}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(G,ie){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var le=v;v=G;try{return ie()}finally{v=le}},i.unstable_scheduleCallback=function(G,ie,le){var ue=i.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?ue+le:ue):le=ue,G){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=le+k,G={id:h++,callback:ie,priorityLevel:G,startTime:le,expirationTime:k,sortIndex:-1},le>ue?(G.sortIndex=le,e(d,G),t(c)===null&&G===t(d)&&(x?(S(T),T=-1):x=!0,j(M,le-ue))):(G.sortIndex=k,e(c,G),b||g||(b=!0,B($))),G},i.unstable_shouldYield=I,i.unstable_wrapCallback=function(G){var ie=v;return function(){var le=v;v=ie;try{return G.apply(this,arguments)}finally{v=le}}}}(Ry)),Ry}var Wx;function Q6(){return Wx||(Wx=1,Iy.exports=K6()),Iy.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vx;function J6(){if(Vx)return Us;Vx=1;var i=Yb(),e=Q6();function t(a){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+a,m=1;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,r={};function s(a,u){o(a,u),o(a+"Capture",u)}function o(a,u){for(r[a]=u,a=0;a<u.length;a++)n.add(u[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function v(a){return c.call(f,a)?!0:c.call(h,a)?!1:d.test(a)?f[a]=!0:(h[a]=!0,!1)}function g(a,u,m,w){if(m!==null&&m.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return w?!1:m!==null?!m.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function b(a,u,m,w){if(u===null||typeof u>"u"||g(a,u,m,w))return!0;if(w)return!1;if(m!==null)switch(m.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function x(a,u,m,w,L,N,Q){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=w,this.attributeNamespace=L,this.mustUseProperty=m,this.propertyName=a,this.type=u,this.sanitizeURL=N,this.removeEmptyString=Q}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){E[a]=new x(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var u=a[0];E[u]=new x(u,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){E[a]=new x(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){E[a]=new x(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){E[a]=new x(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){E[a]=new x(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){E[a]=new x(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){E[a]=new x(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){E[a]=new x(a,5,!1,a.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function P(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var u=a.replace(S,P);E[u]=new x(u,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var u=a.replace(S,P);E[u]=new x(u,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var u=a.replace(S,P);E[u]=new x(u,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){E[a]=new x(a,1,!1,a.toLowerCase(),null,!1,!1)}),E.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){E[a]=new x(a,1,!1,a.toLowerCase(),null,!0,!0)});function F(a,u,m,w){var L=E.hasOwnProperty(u)?E[u]:null;(L!==null?L.type!==0:w||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(b(u,m,L,w)&&(m=null),w||L===null?v(u)&&(m===null?a.removeAttribute(u):a.setAttribute(u,""+m)):L.mustUseProperty?a[L.propertyName]=m===null?L.type===3?!1:"":m:(u=L.attributeName,w=L.attributeNamespace,m===null?a.removeAttribute(u):(L=L.type,m=L===3||L===4&&m===!0?"":""+m,w?a.setAttributeNS(w,u,m):a.setAttribute(u,m))))}var M=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),H=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),I=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),ce=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),j=Symbol.for("react.offscreen"),G=Symbol.iterator;function ie(a){return a===null||typeof a!="object"?null:(a=G&&a[G]||a["@@iterator"],typeof a=="function"?a:null)}var le=Object.assign,ue;function k(a){if(ue===void 0)try{throw Error()}catch(m){var u=m.stack.trim().match(/\n( *(at )?)/);ue=u&&u[1]||""}return`
`+ue+a}var Y=!1;function te(a,u){if(!a||Y)return"";Y=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(Re){var w=Re}Reflect.construct(a,[],u)}else{try{u.call()}catch(Re){w=Re}a.call(u.prototype)}else{try{throw Error()}catch(Re){w=Re}a()}}catch(Re){if(Re&&w&&typeof Re.stack=="string"){for(var L=Re.stack.split(`
`),N=w.stack.split(`
`),Q=L.length-1,ge=N.length-1;1<=Q&&0<=ge&&L[Q]!==N[ge];)ge--;for(;1<=Q&&0<=ge;Q--,ge--)if(L[Q]!==N[ge]){if(Q!==1||ge!==1)do if(Q--,ge--,0>ge||L[Q]!==N[ge]){var Ae=`
`+L[Q].replace(" at new "," at ");return a.displayName&&Ae.includes("<anonymous>")&&(Ae=Ae.replace("<anonymous>",a.displayName)),Ae}while(1<=Q&&0<=ge);break}}}finally{Y=!1,Error.prepareStackTrace=m}return(a=a?a.displayName||a.name:"")?k(a):""}function re(a){switch(a.tag){case 5:return k(a.type);case 16:return k("Lazy");case 13:return k("Suspense");case 19:return k("SuspenseList");case 0:case 2:case 15:return a=te(a.type,!1),a;case 11:return a=te(a.type.render,!1),a;case 1:return a=te(a.type,!0),a;default:return""}}function de(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case q:return"Fragment";case H:return"Portal";case D:return"Profiler";case T:return"StrictMode";case X:return"Suspense";case U:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case I:return(a.displayName||"Context")+".Consumer";case J:return(a._context.displayName||"Context")+".Provider";case O:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case ce:return u=a.displayName||null,u!==null?u:de(a.type)||"Memo";case B:u=a._payload,a=a._init;try{return de(a(u))}catch{}}return null}function me(a){var u=a.type;switch(a.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=u.render,a=a.displayName||a.name||"",u.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return de(u);case 8:return u===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function we(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function _e(a){var u=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function je(a){var u=_e(a)?"checked":"value",m=Object.getOwnPropertyDescriptor(a.constructor.prototype,u),w=""+a[u];if(!a.hasOwnProperty(u)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var L=m.get,N=m.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return L.call(this)},set:function(Q){w=""+Q,N.call(this,Q)}}),Object.defineProperty(a,u,{enumerable:m.enumerable}),{getValue:function(){return w},setValue:function(Q){w=""+Q},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}function ze(a){a._valueTracker||(a._valueTracker=je(a))}function Xe(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var m=u.getValue(),w="";return a&&(w=_e(a)?a.checked?"true":"false":a.value),a=w,a!==m?(u.setValue(a),!0):!1}function Je(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function pt(a,u){var m=u.checked;return le({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??a._wrapperState.initialChecked})}function Ie(a,u){var m=u.defaultValue==null?"":u.defaultValue,w=u.checked!=null?u.checked:u.defaultChecked;m=we(u.value!=null?u.value:m),a._wrapperState={initialChecked:w,initialValue:m,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function pe(a,u){u=u.checked,u!=null&&F(a,"checked",u,!1)}function lt(a,u){pe(a,u);var m=we(u.value),w=u.type;if(m!=null)w==="number"?(m===0&&a.value===""||a.value!=m)&&(a.value=""+m):a.value!==""+m&&(a.value=""+m);else if(w==="submit"||w==="reset"){a.removeAttribute("value");return}u.hasOwnProperty("value")?He(a,u.type,m):u.hasOwnProperty("defaultValue")&&He(a,u.type,we(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(a.defaultChecked=!!u.defaultChecked)}function Ze(a,u,m){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var w=u.type;if(!(w!=="submit"&&w!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+a._wrapperState.initialValue,m||u===a.value||(a.value=u),a.defaultValue=u}m=a.name,m!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,m!==""&&(a.name=m)}function He(a,u,m){(u!=="number"||Je(a.ownerDocument)!==a)&&(m==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+m&&(a.defaultValue=""+m))}var We=Array.isArray;function Ge(a,u,m,w){if(a=a.options,u){u={};for(var L=0;L<m.length;L++)u["$"+m[L]]=!0;for(m=0;m<a.length;m++)L=u.hasOwnProperty("$"+a[m].value),a[m].selected!==L&&(a[m].selected=L),L&&w&&(a[m].defaultSelected=!0)}else{for(m=""+we(m),u=null,L=0;L<a.length;L++){if(a[L].value===m){a[L].selected=!0,w&&(a[L].defaultSelected=!0);return}u!==null||a[L].disabled||(u=a[L])}u!==null&&(u.selected=!0)}}function Ke(a,u){if(u.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},u,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function rt(a,u){var m=u.value;if(m==null){if(m=u.children,u=u.defaultValue,m!=null){if(u!=null)throw Error(t(92));if(We(m)){if(1<m.length)throw Error(t(93));m=m[0]}u=m}u==null&&(u=""),m=u}a._wrapperState={initialValue:we(m)}}function at(a,u){var m=we(u.value),w=we(u.defaultValue);m!=null&&(m=""+m,m!==a.value&&(a.value=m),u.defaultValue==null&&a.defaultValue!==m&&(a.defaultValue=m)),w!=null&&(a.defaultValue=""+w)}function At(a){var u=a.textContent;u===a._wrapperState.initialValue&&u!==""&&u!==null&&(a.value=u)}function Rt(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wt(a,u){return a==null||a==="http://www.w3.org/1999/xhtml"?Rt(u):a==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Ft,xt=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,m,w,L){MSApp.execUnsafeLocalFunction(function(){return a(u,m,w,L)})}:a}(function(a,u){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=u;else{for(Ft=Ft||document.createElement("div"),Ft.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Ft.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;u.firstChild;)a.appendChild(u.firstChild)}});function wt(a,u){if(u){var m=a.firstChild;if(m&&m===a.lastChild&&m.nodeType===3){m.nodeValue=u;return}}a.textContent=u}var Qe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bn=["Webkit","ms","Moz","O"];Object.keys(Qe).forEach(function(a){bn.forEach(function(u){u=u+a.charAt(0).toUpperCase()+a.substring(1),Qe[u]=Qe[a]})});function Ut(a,u,m){return u==null||typeof u=="boolean"||u===""?"":m||typeof u!="number"||u===0||Qe.hasOwnProperty(a)&&Qe[a]?(""+u).trim():u+"px"}function Un(a,u){a=a.style;for(var m in u)if(u.hasOwnProperty(m)){var w=m.indexOf("--")===0,L=Ut(m,u[m],w);m==="float"&&(m="cssFloat"),w?a.setProperty(m,L):a[m]=L}}var tn=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fn(a,u){if(u){if(tn[a]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(t(137,a));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(t(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(t(61))}if(u.style!=null&&typeof u.style!="object")throw Error(t(62))}}function Ei(a,u){if(a.indexOf("-")===-1)return typeof u.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qt=null;function Cs(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var pn=null,Tr=null,Hn=null;function an(a){if(a=Vc(a)){if(typeof pn!="function")throw Error(t(280));var u=a.stateNode;u&&(u=Ad(u),pn(a.stateNode,a.type,u))}}function Ct(a){Tr?Hn?Hn.push(a):Hn=[a]:Tr=a}function Kt(){if(Tr){var a=Tr,u=Hn;if(Hn=Tr=null,an(a),u)for(a=0;a<u.length;a++)an(u[a])}}function Qs(a,u){return a(u)}function Rn(){}var hr=!1;function Js(a,u,m){if(hr)return a(u,m);hr=!0;try{return Qs(a,u,m)}finally{hr=!1,(Tr!==null||Hn!==null)&&(Rn(),Kt())}}function Et(a,u){var m=a.stateNode;if(m===null)return null;var w=Ad(m);if(w===null)return null;m=w[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(a=a.type,w=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!w;break e;default:a=!1}if(a)return null;if(m&&typeof m!="function")throw Error(t(231,u,typeof m));return m}var ns=!1;if(l)try{var Li={};Object.defineProperty(Li,"passive",{get:function(){ns=!0}}),window.addEventListener("test",Li,Li),window.removeEventListener("test",Li,Li)}catch{ns=!1}function Ci(a,u,m,w,L,N,Q,ge,Ae){var Re=Array.prototype.slice.call(arguments,3);try{u.apply(m,Re)}catch(Ve){this.onError(Ve)}}var $n=!1,qn=null,Yr=!1,el=null,ao={onError:function(a){$n=!0,qn=a}};function Zs(a,u,m,w,L,N,Q,ge,Ae){$n=!1,qn=null,Ci.apply(ao,arguments)}function ea(a,u,m,w,L,N,Q,ge,Ae){if(Zs.apply(this,arguments),$n){if($n){var Re=qn;$n=!1,qn=null}else throw Error(t(198));Yr||(Yr=!0,el=Re)}}function Br(a){var u=a,m=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,u.flags&4098&&(m=u.return),a=u.return;while(a)}return u.tag===3?m:null}function ta(a){if(a.tag===13){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function rs(a){if(Br(a)!==a)throw Error(t(188))}function ka(a){var u=a.alternate;if(!u){if(u=Br(a),u===null)throw Error(t(188));return u!==a?null:a}for(var m=a,w=u;;){var L=m.return;if(L===null)break;var N=L.alternate;if(N===null){if(w=L.return,w!==null){m=w;continue}break}if(L.child===N.child){for(N=L.child;N;){if(N===m)return rs(L),a;if(N===w)return rs(L),u;N=N.sibling}throw Error(t(188))}if(m.return!==w.return)m=L,w=N;else{for(var Q=!1,ge=L.child;ge;){if(ge===m){Q=!0,m=L,w=N;break}if(ge===w){Q=!0,w=L,m=N;break}ge=ge.sibling}if(!Q){for(ge=N.child;ge;){if(ge===m){Q=!0,m=N,w=L;break}if(ge===w){Q=!0,w=N,m=L;break}ge=ge.sibling}if(!Q)throw Error(t(189))}}if(m.alternate!==w)throw Error(t(190))}if(m.tag!==3)throw Error(t(188));return m.stateNode.current===m?a:u}function tl(a){return a=ka(a),a!==null?eu(a):null}function eu(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var u=eu(a);if(u!==null)return u;a=a.sibling}return null}var tu=e.unstable_scheduleCallback,nu=e.unstable_cancelCallback,mc=e.unstable_shouldYield,lp=e.unstable_requestPaint,Wn=e.unstable_now,vm=e.unstable_getCurrentPriorityLevel,nl=e.unstable_ImmediatePriority,ed=e.unstable_UserBlockingPriority,vc=e.unstable_NormalPriority,td=e.unstable_LowPriority,up=e.unstable_IdlePriority,ru=null,Ps=null;function yc(a){if(Ps&&typeof Ps.onCommitFiberRoot=="function")try{Ps.onCommitFiberRoot(ru,a,void 0,(a.current.flags&128)===128)}catch{}}var is=Math.clz32?Math.clz32:hp,sr=Math.log,cp=Math.LN2;function hp(a){return a>>>=0,a===0?32:31-(sr(a)/cp|0)|0}var iu=64,rl=4194304;function su(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Pi(a,u){var m=a.pendingLanes;if(m===0)return 0;var w=0,L=a.suspendedLanes,N=a.pingedLanes,Q=m&268435455;if(Q!==0){var ge=Q&~L;ge!==0?w=su(ge):(N&=Q,N!==0&&(w=su(N)))}else Q=m&~L,Q!==0?w=su(Q):N!==0&&(w=su(N));if(w===0)return 0;if(u!==0&&u!==w&&!(u&L)&&(L=w&-w,N=u&-u,L>=N||L===16&&(N&4194240)!==0))return u;if(w&4&&(w|=m&16),u=a.entangledLanes,u!==0)for(a=a.entanglements,u&=w;0<u;)m=31-is(u),L=1<<m,w|=a[m],u&=~L;return w}function wc(a,u){switch(a){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ni(a,u){for(var m=a.suspendedLanes,w=a.pingedLanes,L=a.expirationTimes,N=a.pendingLanes;0<N;){var Q=31-is(N),ge=1<<Q,Ae=L[Q];Ae===-1?(!(ge&m)||ge&w)&&(L[Q]=wc(ge,u)):Ae<=u&&(a.expiredLanes|=ge),N&=~ge}}function au(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function nd(){var a=iu;return iu<<=1,!(iu&4194240)&&(iu=64),a}function rd(a){for(var u=[],m=0;31>m;m++)u.push(a);return u}function il(a,u,m){a.pendingLanes|=u,u!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,u=31-is(u),a[u]=m}function ym(a,u){var m=a.pendingLanes&~u;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=u,a.mutableReadLanes&=u,a.entangledLanes&=u,u=a.entanglements;var w=a.eventTimes;for(a=a.expirationTimes;0<m;){var L=31-is(m),N=1<<L;u[L]=0,w[L]=-1,a[L]=-1,m&=~N}}function bc(a,u){var m=a.entangledLanes|=u;for(a=a.entanglements;m;){var w=31-is(m),L=1<<w;L&u|a[w]&u&&(a[w]|=u),m&=~L}}var un=0;function Ac(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var dp,id,fp,Ta,ou,sl=!1,lu=[],Vn=null,Ia=null,na=null,kt=new Map,uu=new Map,Ra=[],Fa="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sd(a,u){switch(a){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":Ia=null;break;case"mouseover":case"mouseout":na=null;break;case"pointerover":case"pointerout":kt.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":uu.delete(u.pointerId)}}function al(a,u,m,w,L,N){return a===null||a.nativeEvent!==N?(a={blockedOn:u,domEventName:m,eventSystemFlags:w,nativeEvent:N,targetContainers:[L]},u!==null&&(u=Vc(u),u!==null&&id(u)),a):(a.eventSystemFlags|=w,u=a.targetContainers,L!==null&&u.indexOf(L)===-1&&u.push(L),a)}function xc(a,u,m,w,L){switch(u){case"focusin":return Vn=al(Vn,a,u,m,w,L),!0;case"dragenter":return Ia=al(Ia,a,u,m,w,L),!0;case"mouseover":return na=al(na,a,u,m,w,L),!0;case"pointerover":var N=L.pointerId;return kt.set(N,al(kt.get(N)||null,a,u,m,w,L)),!0;case"gotpointercapture":return N=L.pointerId,uu.set(N,al(uu.get(N)||null,a,u,m,w,L)),!0}return!1}function Sc(a){var u=vl(a.target);if(u!==null){var m=Br(u);if(m!==null){if(u=m.tag,u===13){if(u=ta(m),u!==null){a.blockedOn=u,ou(a.priority,function(){fp(m)});return}}else if(u===3&&m.stateNode.current.memoizedState.isDehydrated){a.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}a.blockedOn=null}function _c(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;0<u.length;){var m=Lc(a.domEventName,a.eventSystemFlags,u[0],a.nativeEvent);if(m===null){m=a.nativeEvent;var w=new m.constructor(m.type,m);Qt=w,m.target.dispatchEvent(w),Qt=null}else return u=Vc(m),u!==null&&id(u),a.blockedOn=m,!1;u.shift()}return!0}function pp(a,u,m){_c(a)&&m.delete(u)}function wm(){sl=!1,Vn!==null&&_c(Vn)&&(Vn=null),Ia!==null&&_c(Ia)&&(Ia=null),na!==null&&_c(na)&&(na=null),kt.forEach(pp),uu.forEach(pp)}function oo(a,u){a.blockedOn===u&&(a.blockedOn=null,sl||(sl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,wm)))}function ra(a){function u(L){return oo(L,a)}if(0<lu.length){oo(lu[0],a);for(var m=1;m<lu.length;m++){var w=lu[m];w.blockedOn===a&&(w.blockedOn=null)}}for(Vn!==null&&oo(Vn,a),Ia!==null&&oo(Ia,a),na!==null&&oo(na,a),kt.forEach(u),uu.forEach(u),m=0;m<Ra.length;m++)w=Ra[m],w.blockedOn===a&&(w.blockedOn=null);for(;0<Ra.length&&(m=Ra[0],m.blockedOn===null);)Sc(m),m.blockedOn===null&&Ra.shift()}var ss=M.ReactCurrentBatchConfig,Ec=!0;function cu(a,u,m,w){var L=un,N=ss.transition;ss.transition=null;try{un=1,ol(a,u,m,w)}finally{un=L,ss.transition=N}}function ad(a,u,m,w){var L=un,N=ss.transition;ss.transition=null;try{un=4,ol(a,u,m,w)}finally{un=L,ss.transition=N}}function ol(a,u,m,w){if(Ec){var L=Lc(a,u,m,w);if(L===null)yd(a,u,w,hu,m),sd(a,w);else if(xc(L,a,u,m,w))w.stopPropagation();else if(sd(a,w),u&4&&-1<Fa.indexOf(a)){for(;L!==null;){var N=Vc(L);if(N!==null&&dp(N),N=Lc(a,u,m,w),N===null&&yd(a,u,w,hu,m),N===L)break;L=N}L!==null&&w.stopPropagation()}else yd(a,u,w,null,m)}}var hu=null;function Lc(a,u,m,w){if(hu=null,a=Cs(w),a=vl(a),a!==null)if(u=Br(a),u===null)a=null;else if(m=u.tag,m===13){if(a=ta(u),a!==null)return a;a=null}else if(m===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;a=null}else u!==a&&(a=null);return hu=a,null}function od(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vm()){case nl:return 1;case ed:return 4;case vc:case td:return 16;case up:return 536870912;default:return 16}default:return 16}}var ia=null,Ns=null,ks=null;function gp(){if(ks)return ks;var a,u=Ns,m=u.length,w,L="value"in ia?ia.value:ia.textContent,N=L.length;for(a=0;a<m&&u[a]===L[a];a++);var Q=m-a;for(w=1;w<=Q&&u[m-w]===L[N-w];w++);return ks=L.slice(a,1<w?1-w:void 0)}function sa(a){var u=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),32<=a||a===13?a:0}function ki(){return!0}function Cc(){return!1}function br(a){function u(m,w,L,N,Q){this._reactName=m,this._targetInst=L,this.type=w,this.nativeEvent=N,this.target=Q,this.currentTarget=null;for(var ge in a)a.hasOwnProperty(ge)&&(m=a[ge],this[ge]=m?m(N):N[ge]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?ki:Cc,this.isPropagationStopped=Cc,this}return le(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),u}var ll={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ul=br(ll),du=le({},ll,{view:0,detail:0}),ld=br(du),fu,Pc,Ma,cl=le({},du,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:st,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ma&&(Ma&&a.type==="mousemove"?(fu=a.screenX-Ma.screenX,Pc=a.screenY-Ma.screenY):Pc=fu=0,Ma=a),fu)},movementY:function(a){return"movementY"in a?a.movementY:Pc}}),Nc=br(cl),mp=le({},cl,{dataTransfer:0}),bm=br(mp),kc=le({},du,{relatedTarget:0}),lo=br(kc),ud=le({},ll,{animationName:0,elapsedTime:0,pseudoElement:0}),hl=br(ud),cd=le({},ll,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),_=br(cd),V=le({},ll,{data:0}),fe=br(V),ve={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ce={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Me={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $e(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):(a=Me[a])?!!u[a]:!1}function st(){return $e}var _t=le({},du,{key:function(a){if(a.key){var u=ve[a.key]||a.key;if(u!=="Unidentified")return u}return a.type==="keypress"?(a=sa(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Ce[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:st,charCode:function(a){return a.type==="keypress"?sa(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?sa(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Ht=br(_t),Bt=le({},cl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nn=br(Bt),Gn=le({},du,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:st}),Zn=br(Gn),dr=le({},ll,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kr=br(dr),Ir=le({},cl,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),aa=br(Ir),as=[9,13,27,32],Ts=l&&"CompositionEvent"in window,dl=null;l&&"documentMode"in document&&(dl=document.documentMode);var hd=l&&"TextEvent"in window&&!dl,Tc=l&&(!Ts||dl&&8<dl&&11>=dl),pu=" ",Ic=!1;function Rc(a,u){switch(a){case"keyup":return as.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gu(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var er=!1;function Fc(a,u){switch(a){case"compositionend":return gu(u);case"keypress":return u.which!==32?null:(Ic=!0,pu);case"textInput":return a=u.data,a===pu&&Ic?null:a;default:return null}}function Mc(a,u){if(er)return a==="compositionend"||!Ts&&Rc(a,u)?(a=gp(),ks=Ns=ia=null,er=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Tc&&u.locale!=="ko"?null:u.data;default:return null}}var Oc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dc(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!Oc[a.type]:u==="textarea"}function hi(a,u,m,w){Ct(w),u=bp(u,"onChange"),0<u.length&&(m=new ul("onChange","change",null,m,w),a.push({event:m,listeners:u}))}var mu=null,uo=null;function vp(a){md(a,0)}function di(a){var u=Eu(a);if(Xe(u))return a}function jc(a,u){if(a==="change")return u}var dd=!1;if(l){var Bc;if(l){var Oa="oninput"in document;if(!Oa){var fl=document.createElement("div");fl.setAttribute("oninput","return;"),Oa=typeof fl.oninput=="function"}Bc=Oa}else Bc=!1;dd=Bc&&(!document.documentMode||9<document.documentMode)}function fi(){mu&&(mu.detachEvent("onpropertychange",Qr),uo=mu=null)}function Qr(a){if(a.propertyName==="value"&&di(uo)){var u=[];hi(u,uo,a,Cs(a)),Js(vp,u)}}function pl(a,u,m){a==="focusin"?(fi(),mu=u,uo=m,mu.attachEvent("onpropertychange",Qr)):a==="focusout"&&fi()}function co(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return di(uo)}function ho(a,u){if(a==="click")return di(u)}function zc(a,u){if(a==="input"||a==="change")return di(u)}function fo(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var cn=typeof Object.is=="function"?Object.is:fo;function po(a,u){if(cn(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var m=Object.keys(a),w=Object.keys(u);if(m.length!==w.length)return!1;for(w=0;w<m.length;w++){var L=m[w];if(!c.call(u,L)||!cn(a[L],u[L]))return!1}return!0}function Jr(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function os(a,u){var m=Jr(a);a=0;for(var w;m;){if(m.nodeType===3){if(w=a+m.textContent.length,a<=u&&w>=u)return{node:m,offset:u-a};a=w}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=Jr(m)}}function vu(a,u){return a&&u?a===u?!0:a&&a.nodeType===3?!1:u&&u.nodeType===3?vu(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1:!1}function fd(){for(var a=window,u=Je();u instanceof a.HTMLIFrameElement;){try{var m=typeof u.contentWindow.location.href=="string"}catch{m=!1}if(m)a=u.contentWindow;else break;u=Je(a.document)}return u}function yu(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}function wu(a){var u=fd(),m=a.focusedElem,w=a.selectionRange;if(u!==m&&m&&m.ownerDocument&&vu(m.ownerDocument.documentElement,m)){if(w!==null&&yu(m)){if(u=w.start,a=w.end,a===void 0&&(a=u),"selectionStart"in m)m.selectionStart=u,m.selectionEnd=Math.min(a,m.value.length);else if(a=(u=m.ownerDocument||document)&&u.defaultView||window,a.getSelection){a=a.getSelection();var L=m.textContent.length,N=Math.min(w.start,L);w=w.end===void 0?N:Math.min(w.end,L),!a.extend&&N>w&&(L=w,w=N,N=L),L=os(m,N);var Q=os(m,w);L&&Q&&(a.rangeCount!==1||a.anchorNode!==L.node||a.anchorOffset!==L.offset||a.focusNode!==Q.node||a.focusOffset!==Q.offset)&&(u=u.createRange(),u.setStart(L.node,L.offset),a.removeAllRanges(),N>w?(a.addRange(u),a.extend(Q.node,Q.offset)):(u.setEnd(Q.node,Q.offset),a.addRange(u)))}}for(u=[],a=m;a=a.parentNode;)a.nodeType===1&&u.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<u.length;m++)a=u[m],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var bu=l&&"documentMode"in document&&11>=document.documentMode,ls=null,go=null,Da=null,mo=!1;function vo(a,u,m){var w=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;mo||ls==null||ls!==Je(w)||(w=ls,"selectionStart"in w&&yu(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),Da&&po(Da,w)||(Da=w,w=bp(go,"onSelect"),0<w.length&&(u=new ul("onSelect","select",null,u,m),a.push({event:u,listeners:w}),u.target=ls)))}function gl(a,u){var m={};return m[a.toLowerCase()]=u.toLowerCase(),m["Webkit"+a]="webkit"+u,m["Moz"+a]="moz"+u,m}var zr={animationend:gl("Animation","AnimationEnd"),animationiteration:gl("Animation","AnimationIteration"),animationstart:gl("Animation","AnimationStart"),transitionend:gl("Transition","TransitionEnd")},Ti={},Pn={};l&&(Pn=document.createElement("div").style,"AnimationEvent"in window||(delete zr.animationend.animation,delete zr.animationiteration.animation,delete zr.animationstart.animation),"TransitionEvent"in window||delete zr.transitionend.transition);function An(a){if(Ti[a])return Ti[a];if(!zr[a])return a;var u=zr[a],m;for(m in u)if(u.hasOwnProperty(m)&&m in Pn)return Ti[a]=u[m];return a}var tr=An("animationend"),fr=An("animationiteration"),ja=An("animationstart"),Uc=An("transitionend"),Au=new Map,pd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ba(a,u){Au.set(a,u),s(u,[a])}for(var Hc=0;Hc<pd.length;Hc++){var pi=pd[Hc],Is=pi.toLowerCase(),yp=pi[0].toUpperCase()+pi.slice(1);Ba(Is,"on"+yp)}Ba(tr,"onAnimationEnd"),Ba(fr,"onAnimationIteration"),Ba(ja,"onAnimationStart"),Ba("dblclick","onDoubleClick"),Ba("focusin","onFocus"),Ba("focusout","onBlur"),Ba(Uc,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n2=new Set("cancel close invalid load scroll toggle".split(" ").concat(ml));function gd(a,u,m){var w=a.type||"unknown-event";a.currentTarget=m,ea(w,u,void 0,a),a.currentTarget=null}function md(a,u){u=(u&4)!==0;for(var m=0;m<a.length;m++){var w=a[m],L=w.event;w=w.listeners;e:{var N=void 0;if(u)for(var Q=w.length-1;0<=Q;Q--){var ge=w[Q],Ae=ge.instance,Re=ge.currentTarget;if(ge=ge.listener,Ae!==N&&L.isPropagationStopped())break e;gd(L,ge,Re),N=Ae}else for(Q=0;Q<w.length;Q++){if(ge=w[Q],Ae=ge.instance,Re=ge.currentTarget,ge=ge.listener,Ae!==N&&L.isPropagationStopped())break e;gd(L,ge,Re),N=Ae}}}if(Yr)throw a=el,Yr=!1,el=null,a}function Nn(a,u){var m=u[Ri];m===void 0&&(m=u[Ri]=new Set);var w=a+"__bubble";m.has(w)||(vd(u,a,2,!1),m.add(w))}function wp(a,u,m){var w=0;u&&(w|=4),vd(m,a,w,u)}var $c="_reactListening"+Math.random().toString(36).slice(2);function xu(a){if(!a[$c]){a[$c]=!0,n.forEach(function(m){m!=="selectionchange"&&(n2.has(m)||wp(m,!1,a),wp(m,!0,a))});var u=a.nodeType===9?a:a.ownerDocument;u===null||u[$c]||(u[$c]=!0,wp("selectionchange",!1,u))}}function vd(a,u,m,w){switch(od(u)){case 1:var L=cu;break;case 4:L=ad;break;default:L=ol}m=L.bind(null,u,m,a),L=void 0,!ns||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(L=!0),w?L!==void 0?a.addEventListener(u,m,{capture:!0,passive:L}):a.addEventListener(u,m,!0):L!==void 0?a.addEventListener(u,m,{passive:L}):a.addEventListener(u,m,!1)}function yd(a,u,m,w,L){var N=w;if(!(u&1)&&!(u&2)&&w!==null)e:for(;;){if(w===null)return;var Q=w.tag;if(Q===3||Q===4){var ge=w.stateNode.containerInfo;if(ge===L||ge.nodeType===8&&ge.parentNode===L)break;if(Q===4)for(Q=w.return;Q!==null;){var Ae=Q.tag;if((Ae===3||Ae===4)&&(Ae=Q.stateNode.containerInfo,Ae===L||Ae.nodeType===8&&Ae.parentNode===L))return;Q=Q.return}for(;ge!==null;){if(Q=vl(ge),Q===null)return;if(Ae=Q.tag,Ae===5||Ae===6){w=N=Q;continue e}ge=ge.parentNode}}w=w.return}Js(function(){var Re=N,Ve=Cs(m),Ye=[];e:{var qe=Au.get(a);if(qe!==void 0){var ut=ul,gt=a;switch(a){case"keypress":if(sa(m)===0)break e;case"keydown":case"keyup":ut=Ht;break;case"focusin":gt="focus",ut=lo;break;case"focusout":gt="blur",ut=lo;break;case"beforeblur":case"afterblur":ut=lo;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ut=Nc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ut=bm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ut=Zn;break;case tr:case fr:case ja:ut=hl;break;case Uc:ut=Kr;break;case"scroll":ut=ld;break;case"wheel":ut=aa;break;case"copy":case"cut":case"paste":ut=_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ut=nn}var vt=(u&4)!==0,_r=!vt&&a==="scroll",ke=vt?qe!==null?qe+"Capture":null:qe;vt=[];for(var Ee=Re,Te;Ee!==null;){Te=Ee;var et=Te.stateNode;if(Te.tag===5&&et!==null&&(Te=et,ke!==null&&(et=Et(Ee,ke),et!=null&&vt.push(wd(Ee,et,Te)))),_r)break;Ee=Ee.return}0<vt.length&&(qe=new ut(qe,gt,null,m,Ve),Ye.push({event:qe,listeners:vt}))}}if(!(u&7)){e:{if(qe=a==="mouseover"||a==="pointerover",ut=a==="mouseout"||a==="pointerout",qe&&m!==Qt&&(gt=m.relatedTarget||m.fromElement)&&(vl(gt)||gt[Zr]))break e;if((ut||qe)&&(qe=Ve.window===Ve?Ve:(qe=Ve.ownerDocument)?qe.defaultView||qe.parentWindow:window,ut?(gt=m.relatedTarget||m.toElement,ut=Re,gt=gt?vl(gt):null,gt!==null&&(_r=Br(gt),gt!==_r||gt.tag!==5&&gt.tag!==6)&&(gt=null)):(ut=null,gt=Re),ut!==gt)){if(vt=Nc,et="onMouseLeave",ke="onMouseEnter",Ee="mouse",(a==="pointerout"||a==="pointerover")&&(vt=nn,et="onPointerLeave",ke="onPointerEnter",Ee="pointer"),_r=ut==null?qe:Eu(ut),Te=gt==null?qe:Eu(gt),qe=new vt(et,Ee+"leave",ut,m,Ve),qe.target=_r,qe.relatedTarget=Te,et=null,vl(Ve)===Re&&(vt=new vt(ke,Ee+"enter",gt,m,Ve),vt.target=Te,vt.relatedTarget=_r,et=vt),_r=et,ut&&gt)t:{for(vt=ut,ke=gt,Ee=0,Te=vt;Te;Te=Su(Te))Ee++;for(Te=0,et=ke;et;et=Su(et))Te++;for(;0<Ee-Te;)vt=Su(vt),Ee--;for(;0<Te-Ee;)ke=Su(ke),Te--;for(;Ee--;){if(vt===ke||ke!==null&&vt===ke.alternate)break t;vt=Su(vt),ke=Su(ke)}vt=null}else vt=null;ut!==null&&r2(Ye,qe,ut,vt,!1),gt!==null&&_r!==null&&r2(Ye,_r,gt,vt,!0)}}e:{if(qe=Re?Eu(Re):window,ut=qe.nodeName&&qe.nodeName.toLowerCase(),ut==="select"||ut==="input"&&qe.type==="file")var yt=jc;else if(Dc(qe))if(dd)yt=zc;else{yt=co;var Pt=pl}else(ut=qe.nodeName)&&ut.toLowerCase()==="input"&&(qe.type==="checkbox"||qe.type==="radio")&&(yt=ho);if(yt&&(yt=yt(a,Re))){hi(Ye,yt,m,Ve);break e}Pt&&Pt(a,qe,Re),a==="focusout"&&(Pt=qe._wrapperState)&&Pt.controlled&&qe.type==="number"&&He(qe,"number",qe.value)}switch(Pt=Re?Eu(Re):window,a){case"focusin":(Dc(Pt)||Pt.contentEditable==="true")&&(ls=Pt,go=Re,Da=null);break;case"focusout":Da=go=ls=null;break;case"mousedown":mo=!0;break;case"contextmenu":case"mouseup":case"dragend":mo=!1,vo(Ye,m,Ve);break;case"selectionchange":if(bu)break;case"keydown":case"keyup":vo(Ye,m,Ve)}var Nt;if(Ts)e:{switch(a){case"compositionstart":var jt="onCompositionStart";break e;case"compositionend":jt="onCompositionEnd";break e;case"compositionupdate":jt="onCompositionUpdate";break e}jt=void 0}else er?Rc(a,m)&&(jt="onCompositionEnd"):a==="keydown"&&m.keyCode===229&&(jt="onCompositionStart");jt&&(Tc&&m.locale!=="ko"&&(er||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&er&&(Nt=gp()):(ia=Ve,Ns="value"in ia?ia.value:ia.textContent,er=!0)),Pt=bp(Re,jt),0<Pt.length&&(jt=new fe(jt,a,null,m,Ve),Ye.push({event:jt,listeners:Pt}),Nt?jt.data=Nt:(Nt=gu(m),Nt!==null&&(jt.data=Nt)))),(Nt=hd?Fc(a,m):Mc(a,m))&&(Re=bp(Re,"onBeforeInput"),0<Re.length&&(Ve=new fe("onBeforeInput","beforeinput",null,m,Ve),Ye.push({event:Ve,listeners:Re}),Ve.data=Nt))}md(Ye,u)})}function wd(a,u,m){return{instance:a,listener:u,currentTarget:m}}function bp(a,u){for(var m=u+"Capture",w=[];a!==null;){var L=a,N=L.stateNode;L.tag===5&&N!==null&&(L=N,N=Et(a,m),N!=null&&w.unshift(wd(a,N,L)),N=Et(a,u),N!=null&&w.push(wd(a,N,L))),a=a.return}return w}function Su(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function r2(a,u,m,w,L){for(var N=u._reactName,Q=[];m!==null&&m!==w;){var ge=m,Ae=ge.alternate,Re=ge.stateNode;if(Ae!==null&&Ae===w)break;ge.tag===5&&Re!==null&&(ge=Re,L?(Ae=Et(m,N),Ae!=null&&Q.unshift(wd(m,Ae,ge))):L||(Ae=Et(m,N),Ae!=null&&Q.push(wd(m,Ae,ge)))),m=m.return}Q.length!==0&&a.push({event:u,listeners:Q})}var Hv=/\r\n?/g,$v=/\u0000|\uFFFD/g;function i2(a){return(typeof a=="string"?a:""+a).replace(Hv,`
`).replace($v,"")}function Ap(a,u,m){if(u=i2(u),i2(a)!==u&&m)throw Error(t(425))}function qc(){}var bd=null,_u=null;function Am(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var xm=typeof setTimeout=="function"?setTimeout:void 0,s2=typeof clearTimeout=="function"?clearTimeout:void 0,a2=typeof Promise=="function"?Promise:void 0,qv=typeof queueMicrotask=="function"?queueMicrotask:typeof a2<"u"?function(a){return a2.resolve(null).then(a).catch(Wv)}:xm;function Wv(a){setTimeout(function(){throw a})}function Sm(a,u){var m=u,w=0;do{var L=m.nextSibling;if(a.removeChild(m),L&&L.nodeType===8)if(m=L.data,m==="/$"){if(w===0){a.removeChild(L),ra(u);return}w--}else m!=="$"&&m!=="$?"&&m!=="$!"||w++;m=L}while(m);ra(u)}function gi(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===1||u===3)break;if(u===8){if(u=a.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return a}function Rs(a){a=a.previousSibling;for(var u=0;a;){if(a.nodeType===8){var m=a.data;if(m==="$"||m==="$!"||m==="$?"){if(u===0)return a;u--}else m==="/$"&&u++}a=a.previousSibling}return null}var Ii=Math.random().toString(36).slice(2),za="__reactFiber$"+Ii,Wc="__reactProps$"+Ii,Zr="__reactContainer$"+Ii,Ri="__reactEvents$"+Ii,Vv="__reactListeners$"+Ii,Gv="__reactHandles$"+Ii;function vl(a){var u=a[za];if(u)return u;for(var m=a.parentNode;m;){if(u=m[Zr]||m[za]){if(m=u.alternate,u.child!==null||m!==null&&m.child!==null)for(a=Rs(a);a!==null;){if(m=a[za])return m;a=Rs(a)}return u}a=m,m=a.parentNode}return null}function Vc(a){return a=a[za]||a[Zr],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Eu(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(t(33))}function Ad(a){return a[Wc]||null}var _m=[],yo=-1;function oa(a){return{current:a}}function xn(a){0>yo||(a.current=_m[yo],_m[yo]=null,yo--)}function En(a,u){yo++,_m[yo]=a.current,a.current=u}var yl={},Ur=oa(yl),Fi=oa(!1),Lu=yl;function Gc(a,u){var m=a.type.contextTypes;if(!m)return yl;var w=a.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===u)return w.__reactInternalMemoizedMaskedChildContext;var L={},N;for(N in m)L[N]=u[N];return w&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=u,a.__reactInternalMemoizedMaskedChildContext=L),L}function Mi(a){return a=a.childContextTypes,a!=null}function xp(){xn(Fi),xn(Ur)}function o2(a,u,m){if(Ur.current!==yl)throw Error(t(168));En(Ur,u),En(Fi,m)}function Em(a,u,m){var w=a.stateNode;if(u=u.childContextTypes,typeof w.getChildContext!="function")return m;w=w.getChildContext();for(var L in w)if(!(L in u))throw Error(t(108,me(a)||"Unknown",L));return le({},m,w)}function Cu(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||yl,Lu=Ur.current,En(Ur,a),En(Fi,Fi.current),!0}function l2(a,u,m){var w=a.stateNode;if(!w)throw Error(t(169));m?(a=Em(a,u,Lu),w.__reactInternalMemoizedMergedChildContext=a,xn(Fi),xn(Ur),En(Ur,a)):xn(Fi),En(Fi,m)}var wo=null,xd=!1,y=!1;function A(a){wo===null?wo=[a]:wo.push(a)}function C(a){xd=!0,A(a)}function R(){if(!y&&wo!==null){y=!0;var a=0,u=un;try{var m=wo;for(un=1;a<m.length;a++){var w=m[a];do w=w(!0);while(w!==null)}wo=null,xd=!1}catch(L){throw wo!==null&&(wo=wo.slice(a+1)),tu(nl,R),L}finally{un=u,y=!1}}return null}var W=[],K=0,ee=null,se=0,ae=[],he=0,ye=null,Pe=1,Ne="";function Le(a,u){W[K++]=se,W[K++]=ee,ee=a,se=u}function Ue(a,u,m){ae[he++]=Pe,ae[he++]=Ne,ae[he++]=ye,ye=a;var w=Pe;a=Ne;var L=32-is(w)-1;w&=~(1<<L),m+=1;var N=32-is(u)+L;if(30<N){var Q=L-L%5;N=(w&(1<<Q)-1).toString(32),w>>=Q,L-=Q,Pe=1<<32-is(u)+L|m<<L|w,Ne=N+a}else Pe=1<<N|m<<L|w,Ne=a}function Fe(a){a.return!==null&&(Le(a,1),Ue(a,1,0))}function xe(a){for(;a===ee;)ee=W[--K],W[K]=null,se=W[--K],W[K]=null;for(;a===ye;)ye=ae[--he],ae[he]=null,Ne=ae[--he],ae[he]=null,Pe=ae[--he],ae[he]=null}var Se=null,De=null,Oe=!1,Be=null;function ot(a,u){var m=Va(5,null,null,0);m.elementType="DELETED",m.stateNode=u,m.return=a,u=a.deletions,u===null?(a.deletions=[m],a.flags|=16):u.push(m)}function tt(a,u){switch(a.tag){case 5:var m=a.type;return u=u.nodeType!==1||m.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(a.stateNode=u,Se=a,De=gi(u.firstChild),!0):!1;case 6:return u=a.pendingProps===""||u.nodeType!==3?null:u,u!==null?(a.stateNode=u,Se=a,De=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(m=ye!==null?{id:Pe,overflow:Ne}:null,a.memoizedState={dehydrated:u,treeContext:m,retryLane:1073741824},m=Va(18,null,null,0),m.stateNode=u,m.return=a,a.child=m,Se=a,De=null,!0):!1;default:return!1}}function Lt(a){return(a.mode&1)!==0&&(a.flags&128)===0}function nt(a){if(Oe){var u=De;if(u){var m=u;if(!tt(a,u)){if(Lt(a))throw Error(t(418));u=gi(m.nextSibling);var w=Se;u&&tt(a,u)?ot(w,m):(a.flags=a.flags&-4097|2,Oe=!1,Se=a)}}else{if(Lt(a))throw Error(t(418));a.flags=a.flags&-4097|2,Oe=!1,Se=a}}}function on(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Se=a}function ln(a){if(a!==Se)return!1;if(!Oe)return on(a),Oe=!0,!1;var u;if((u=a.tag!==3)&&!(u=a.tag!==5)&&(u=a.type,u=u!=="head"&&u!=="body"&&!Am(a.type,a.memoizedProps)),u&&(u=De)){if(Lt(a))throw rn(),Error(t(418));for(;u;)ot(a,u),u=gi(u.nextSibling)}if(on(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(t(317));e:{for(a=a.nextSibling,u=0;a;){if(a.nodeType===8){var m=a.data;if(m==="/$"){if(u===0){De=gi(a.nextSibling);break e}u--}else m!=="$"&&m!=="$!"&&m!=="$?"||u++}a=a.nextSibling}De=null}}else De=Se?gi(a.stateNode.nextSibling):null;return!0}function rn(){for(var a=De;a;)a=gi(a.nextSibling)}function qt(){De=Se=null,Oe=!1}function Sn(a){Be===null?Be=[a]:Be.push(a)}var Ln=M.ReactCurrentBatchConfig;function Dt(a,u,m){if(a=m.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(t(309));var w=m.stateNode}if(!w)throw Error(t(147,a));var L=w,N=""+a;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===N?u.ref:(u=function(Q){var ge=L.refs;Q===null?delete ge[N]:ge[N]=Q},u._stringRef=N,u)}if(typeof a!="string")throw Error(t(284));if(!m._owner)throw Error(t(290,a))}return a}function Xn(a,u){throw a=Object.prototype.toString.call(u),Error(t(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a))}function mi(a){var u=a._init;return u(a._payload)}function ar(a){function u(ke,Ee){if(a){var Te=ke.deletions;Te===null?(ke.deletions=[Ee],ke.flags|=16):Te.push(Ee)}}function m(ke,Ee){if(!a)return null;for(;Ee!==null;)u(ke,Ee),Ee=Ee.sibling;return null}function w(ke,Ee){for(ke=new Map;Ee!==null;)Ee.key!==null?ke.set(Ee.key,Ee):ke.set(Ee.index,Ee),Ee=Ee.sibling;return ke}function L(ke,Ee){return ke=sh(ke,Ee),ke.index=0,ke.sibling=null,ke}function N(ke,Ee,Te){return ke.index=Te,a?(Te=ke.alternate,Te!==null?(Te=Te.index,Te<Ee?(ke.flags|=2,Ee):Te):(ke.flags|=2,Ee)):(ke.flags|=1048576,Ee)}function Q(ke){return a&&ke.alternate===null&&(ke.flags|=2),ke}function ge(ke,Ee,Te,et){return Ee===null||Ee.tag!==6?(Ee=xy(Te,ke.mode,et),Ee.return=ke,Ee):(Ee=L(Ee,Te),Ee.return=ke,Ee)}function Ae(ke,Ee,Te,et){var yt=Te.type;return yt===q?Ve(ke,Ee,Te.props.children,et,Te.key):Ee!==null&&(Ee.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===B&&mi(yt)===Ee.type)?(et=L(Ee,Te.props),et.ref=Dt(ke,Ee,Te),et.return=ke,et):(et=P2(Te.type,Te.key,Te.props,null,ke.mode,et),et.ref=Dt(ke,Ee,Te),et.return=ke,et)}function Re(ke,Ee,Te,et){return Ee===null||Ee.tag!==4||Ee.stateNode.containerInfo!==Te.containerInfo||Ee.stateNode.implementation!==Te.implementation?(Ee=Sy(Te,ke.mode,et),Ee.return=ke,Ee):(Ee=L(Ee,Te.children||[]),Ee.return=ke,Ee)}function Ve(ke,Ee,Te,et,yt){return Ee===null||Ee.tag!==7?(Ee=kd(Te,ke.mode,et,yt),Ee.return=ke,Ee):(Ee=L(Ee,Te),Ee.return=ke,Ee)}function Ye(ke,Ee,Te){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return Ee=xy(""+Ee,ke.mode,Te),Ee.return=ke,Ee;if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case $:return Te=P2(Ee.type,Ee.key,Ee.props,null,ke.mode,Te),Te.ref=Dt(ke,null,Ee),Te.return=ke,Te;case H:return Ee=Sy(Ee,ke.mode,Te),Ee.return=ke,Ee;case B:var et=Ee._init;return Ye(ke,et(Ee._payload),Te)}if(We(Ee)||ie(Ee))return Ee=kd(Ee,ke.mode,Te,null),Ee.return=ke,Ee;Xn(ke,Ee)}return null}function qe(ke,Ee,Te,et){var yt=Ee!==null?Ee.key:null;if(typeof Te=="string"&&Te!==""||typeof Te=="number")return yt!==null?null:ge(ke,Ee,""+Te,et);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case $:return Te.key===yt?Ae(ke,Ee,Te,et):null;case H:return Te.key===yt?Re(ke,Ee,Te,et):null;case B:return yt=Te._init,qe(ke,Ee,yt(Te._payload),et)}if(We(Te)||ie(Te))return yt!==null?null:Ve(ke,Ee,Te,et,null);Xn(ke,Te)}return null}function ut(ke,Ee,Te,et,yt){if(typeof et=="string"&&et!==""||typeof et=="number")return ke=ke.get(Te)||null,ge(Ee,ke,""+et,yt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case $:return ke=ke.get(et.key===null?Te:et.key)||null,Ae(Ee,ke,et,yt);case H:return ke=ke.get(et.key===null?Te:et.key)||null,Re(Ee,ke,et,yt);case B:var Pt=et._init;return ut(ke,Ee,Te,Pt(et._payload),yt)}if(We(et)||ie(et))return ke=ke.get(Te)||null,Ve(Ee,ke,et,yt,null);Xn(Ee,et)}return null}function gt(ke,Ee,Te,et){for(var yt=null,Pt=null,Nt=Ee,jt=Ee=0,ri=null;Nt!==null&&jt<Te.length;jt++){Nt.index>jt?(ri=Nt,Nt=null):ri=Nt.sibling;var vn=qe(ke,Nt,Te[jt],et);if(vn===null){Nt===null&&(Nt=ri);break}a&&Nt&&vn.alternate===null&&u(ke,Nt),Ee=N(vn,Ee,jt),Pt===null?yt=vn:Pt.sibling=vn,Pt=vn,Nt=ri}if(jt===Te.length)return m(ke,Nt),Oe&&Le(ke,jt),yt;if(Nt===null){for(;jt<Te.length;jt++)Nt=Ye(ke,Te[jt],et),Nt!==null&&(Ee=N(Nt,Ee,jt),Pt===null?yt=Nt:Pt.sibling=Nt,Pt=Nt);return Oe&&Le(ke,jt),yt}for(Nt=w(ke,Nt);jt<Te.length;jt++)ri=ut(Nt,ke,jt,Te[jt],et),ri!==null&&(a&&ri.alternate!==null&&Nt.delete(ri.key===null?jt:ri.key),Ee=N(ri,Ee,jt),Pt===null?yt=ri:Pt.sibling=ri,Pt=ri);return a&&Nt.forEach(function(ah){return u(ke,ah)}),Oe&&Le(ke,jt),yt}function vt(ke,Ee,Te,et){var yt=ie(Te);if(typeof yt!="function")throw Error(t(150));if(Te=yt.call(Te),Te==null)throw Error(t(151));for(var Pt=yt=null,Nt=Ee,jt=Ee=0,ri=null,vn=Te.next();Nt!==null&&!vn.done;jt++,vn=Te.next()){Nt.index>jt?(ri=Nt,Nt=null):ri=Nt.sibling;var ah=qe(ke,Nt,vn.value,et);if(ah===null){Nt===null&&(Nt=ri);break}a&&Nt&&ah.alternate===null&&u(ke,Nt),Ee=N(ah,Ee,jt),Pt===null?yt=ah:Pt.sibling=ah,Pt=ah,Nt=ri}if(vn.done)return m(ke,Nt),Oe&&Le(ke,jt),yt;if(Nt===null){for(;!vn.done;jt++,vn=Te.next())vn=Ye(ke,vn.value,et),vn!==null&&(Ee=N(vn,Ee,jt),Pt===null?yt=vn:Pt.sibling=vn,Pt=vn);return Oe&&Le(ke,jt),yt}for(Nt=w(ke,Nt);!vn.done;jt++,vn=Te.next())vn=ut(Nt,ke,jt,vn.value,et),vn!==null&&(a&&vn.alternate!==null&&Nt.delete(vn.key===null?jt:vn.key),Ee=N(vn,Ee,jt),Pt===null?yt=vn:Pt.sibling=vn,Pt=vn);return a&&Nt.forEach(function(H6){return u(ke,H6)}),Oe&&Le(ke,jt),yt}function _r(ke,Ee,Te,et){if(typeof Te=="object"&&Te!==null&&Te.type===q&&Te.key===null&&(Te=Te.props.children),typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case $:e:{for(var yt=Te.key,Pt=Ee;Pt!==null;){if(Pt.key===yt){if(yt=Te.type,yt===q){if(Pt.tag===7){m(ke,Pt.sibling),Ee=L(Pt,Te.props.children),Ee.return=ke,ke=Ee;break e}}else if(Pt.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===B&&mi(yt)===Pt.type){m(ke,Pt.sibling),Ee=L(Pt,Te.props),Ee.ref=Dt(ke,Pt,Te),Ee.return=ke,ke=Ee;break e}m(ke,Pt);break}else u(ke,Pt);Pt=Pt.sibling}Te.type===q?(Ee=kd(Te.props.children,ke.mode,et,Te.key),Ee.return=ke,ke=Ee):(et=P2(Te.type,Te.key,Te.props,null,ke.mode,et),et.ref=Dt(ke,Ee,Te),et.return=ke,ke=et)}return Q(ke);case H:e:{for(Pt=Te.key;Ee!==null;){if(Ee.key===Pt)if(Ee.tag===4&&Ee.stateNode.containerInfo===Te.containerInfo&&Ee.stateNode.implementation===Te.implementation){m(ke,Ee.sibling),Ee=L(Ee,Te.children||[]),Ee.return=ke,ke=Ee;break e}else{m(ke,Ee);break}else u(ke,Ee);Ee=Ee.sibling}Ee=Sy(Te,ke.mode,et),Ee.return=ke,ke=Ee}return Q(ke);case B:return Pt=Te._init,_r(ke,Ee,Pt(Te._payload),et)}if(We(Te))return gt(ke,Ee,Te,et);if(ie(Te))return vt(ke,Ee,Te,et);Xn(ke,Te)}return typeof Te=="string"&&Te!==""||typeof Te=="number"?(Te=""+Te,Ee!==null&&Ee.tag===6?(m(ke,Ee.sibling),Ee=L(Ee,Te),Ee.return=ke,ke=Ee):(m(ke,Ee),Ee=xy(Te,ke.mode,et),Ee.return=ke,ke=Ee),Q(ke)):m(ke,Ee)}return _r}var Ar=ar(!0),gn=ar(!1),ei=oa(null),ti=null,Yn=null,xr=null;function Hr(){xr=Yn=ti=null}function Oi(a){var u=ei.current;xn(ei),a._currentValue=u}function Fs(a,u,m){for(;a!==null;){var w=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,w!==null&&(w.childLanes|=u)):w!==null&&(w.childLanes&u)!==u&&(w.childLanes|=u),a===m)break;a=a.return}}function Kn(a,u){ti=a,xr=Yn=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&u&&(js=!0),a.firstContext=null)}function pr(a){var u=a._currentValue;if(xr!==a)if(a={context:a,memoizedValue:u,next:null},Yn===null){if(ti===null)throw Error(t(308));Yn=a,ti.dependencies={lanes:0,firstContext:a}}else Yn=Yn.next=a;return u}var us=null;function wl(a){us===null?us=[a]:us.push(a)}function bo(a,u,m,w){var L=u.interleaved;return L===null?(m.next=m,wl(u)):(m.next=L.next,L.next=m),u.interleaved=m,mn(a,w)}function mn(a,u){a.lanes|=u;var m=a.alternate;for(m!==null&&(m.lanes|=u),m=a,a=a.return;a!==null;)a.childLanes|=u,m=a.alternate,m!==null&&(m.childLanes|=u),m=a,a=a.return;return m.tag===3?m.stateNode:null}var Ua=!1;function Sp(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lm(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Ms(a,u){return{eventTime:a,lane:u,tag:0,payload:null,callback:null,next:null}}function Os(a,u,m){var w=a.updateQueue;if(w===null)return null;if(w=w.shared,hn&2){var L=w.pending;return L===null?u.next=u:(u.next=L.next,L.next=u),w.pending=u,mn(a,m)}return L=w.interleaved,L===null?(u.next=u,wl(w)):(u.next=L.next,L.next=u),w.interleaved=u,mn(a,m)}function Pu(a,u,m){if(u=u.updateQueue,u!==null&&(u=u.shared,(m&4194240)!==0)){var w=u.lanes;w&=a.pendingLanes,m|=w,u.lanes=m,bc(a,m)}}function Ds(a,u){var m=a.updateQueue,w=a.alternate;if(w!==null&&(w=w.updateQueue,m===w)){var L=null,N=null;if(m=m.firstBaseUpdate,m!==null){do{var Q={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};N===null?L=N=Q:N=N.next=Q,m=m.next}while(m!==null);N===null?L=N=u:N=N.next=u}else L=N=u;m={baseState:w.baseState,firstBaseUpdate:L,lastBaseUpdate:N,shared:w.shared,effects:w.effects},a.updateQueue=m;return}a=m.lastBaseUpdate,a===null?m.firstBaseUpdate=u:a.next=u,m.lastBaseUpdate=u}function Ao(a,u,m,w){var L=a.updateQueue;Ua=!1;var N=L.firstBaseUpdate,Q=L.lastBaseUpdate,ge=L.shared.pending;if(ge!==null){L.shared.pending=null;var Ae=ge,Re=Ae.next;Ae.next=null,Q===null?N=Re:Q.next=Re,Q=Ae;var Ve=a.alternate;Ve!==null&&(Ve=Ve.updateQueue,ge=Ve.lastBaseUpdate,ge!==Q&&(ge===null?Ve.firstBaseUpdate=Re:ge.next=Re,Ve.lastBaseUpdate=Ae))}if(N!==null){var Ye=L.baseState;Q=0,Ve=Re=Ae=null,ge=N;do{var qe=ge.lane,ut=ge.eventTime;if((w&qe)===qe){Ve!==null&&(Ve=Ve.next={eventTime:ut,lane:0,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null});e:{var gt=a,vt=ge;switch(qe=u,ut=m,vt.tag){case 1:if(gt=vt.payload,typeof gt=="function"){Ye=gt.call(ut,Ye,qe);break e}Ye=gt;break e;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=vt.payload,qe=typeof gt=="function"?gt.call(ut,Ye,qe):gt,qe==null)break e;Ye=le({},Ye,qe);break e;case 2:Ua=!0}}ge.callback!==null&&ge.lane!==0&&(a.flags|=64,qe=L.effects,qe===null?L.effects=[ge]:qe.push(ge))}else ut={eventTime:ut,lane:qe,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null},Ve===null?(Re=Ve=ut,Ae=Ye):Ve=Ve.next=ut,Q|=qe;if(ge=ge.next,ge===null){if(ge=L.shared.pending,ge===null)break;qe=ge,ge=qe.next,qe.next=null,L.lastBaseUpdate=qe,L.shared.pending=null}}while(!0);if(Ve===null&&(Ae=Ye),L.baseState=Ae,L.firstBaseUpdate=Re,L.lastBaseUpdate=Ve,u=L.shared.interleaved,u!==null){L=u;do Q|=L.lane,L=L.next;while(L!==u)}else N===null&&(L.shared.lanes=0);Ld|=Q,a.lanes=Q,a.memoizedState=Ye}}function Nu(a,u,m){if(a=u.effects,u.effects=null,a!==null)for(u=0;u<a.length;u++){var w=a[u],L=w.callback;if(L!==null){if(w.callback=null,w=m,typeof L!="function")throw Error(t(191,L));L.call(w)}}}var Xc={},cs=oa(Xc),Yc=oa(Xc),bl=oa(Xc);function xo(a){if(a===Xc)throw Error(t(174));return a}function Kc(a,u){switch(En(bl,u),En(Yc,a),En(cs,Xc),a=u.nodeType,a){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Wt(null,"");break;default:a=a===8?u.parentNode:u,u=a.namespaceURI||null,a=a.tagName,u=Wt(u,a)}xn(cs),En(cs,u)}function Ha(){xn(cs),xn(Yc),xn(bl)}function u2(a){xo(bl.current);var u=xo(cs.current),m=Wt(u,a.type);u!==m&&(En(Yc,a),En(cs,m))}function Cm(a){Yc.current===a&&(xn(cs),xn(Yc))}var On=oa(0);function la(a){for(var u=a;u!==null;){if(u.tag===13){var m=u.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(u.flags&128)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Pm=[];function Nm(){for(var a=0;a<Pm.length;a++)Pm[a]._workInProgressVersionPrimary=null;Pm.length=0}var _p=M.ReactCurrentDispatcher,Ep=M.ReactCurrentBatchConfig,$a=0,Bn=null,gr=null,or=null,Qc=!1,So=!1,Jc=0,Xv=0;function Sr(){throw Error(t(321))}function Lp(a,u){if(u===null)return!1;for(var m=0;m<u.length&&m<a.length;m++)if(!cn(a[m],u[m]))return!1;return!0}function Sd(a,u,m,w,L,N){if($a=N,Bn=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,_p.current=a===null||a.memoizedState===null?p6:g6,a=m(w,L),So){N=0;do{if(So=!1,Jc=0,25<=N)throw Error(t(301));N+=1,or=gr=null,u.updateQueue=null,_p.current=m6,a=m(w,L)}while(So)}if(_p.current=p2,u=gr!==null&&gr.next!==null,$a=0,or=gr=Bn=null,Qc=!1,u)throw Error(t(300));return a}function qa(){var a=Jc!==0;return Jc=0,a}function ua(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return or===null?Bn.memoizedState=or=a:or=or.next=a,or}function hs(){if(gr===null){var a=Bn.alternate;a=a!==null?a.memoizedState:null}else a=gr.next;var u=or===null?Bn.memoizedState:or.next;if(u!==null)or=u,gr=a;else{if(a===null)throw Error(t(310));gr=a,a={memoizedState:gr.memoizedState,baseState:gr.baseState,baseQueue:gr.baseQueue,queue:gr.queue,next:null},or===null?Bn.memoizedState=or=a:or=or.next=a}return or}function _d(a,u){return typeof u=="function"?u(a):u}function Cp(a){var u=hs(),m=u.queue;if(m===null)throw Error(t(311));m.lastRenderedReducer=a;var w=gr,L=w.baseQueue,N=m.pending;if(N!==null){if(L!==null){var Q=L.next;L.next=N.next,N.next=Q}w.baseQueue=L=N,m.pending=null}if(L!==null){N=L.next,w=w.baseState;var ge=Q=null,Ae=null,Re=N;do{var Ve=Re.lane;if(($a&Ve)===Ve)Ae!==null&&(Ae=Ae.next={lane:0,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null}),w=Re.hasEagerState?Re.eagerState:a(w,Re.action);else{var Ye={lane:Ve,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null};Ae===null?(ge=Ae=Ye,Q=w):Ae=Ae.next=Ye,Bn.lanes|=Ve,Ld|=Ve}Re=Re.next}while(Re!==null&&Re!==N);Ae===null?Q=w:Ae.next=ge,cn(w,u.memoizedState)||(js=!0),u.memoizedState=w,u.baseState=Q,u.baseQueue=Ae,m.lastRenderedState=w}if(a=m.interleaved,a!==null){L=a;do N=L.lane,Bn.lanes|=N,Ld|=N,L=L.next;while(L!==a)}else L===null&&(m.lanes=0);return[u.memoizedState,m.dispatch]}function Al(a){var u=hs(),m=u.queue;if(m===null)throw Error(t(311));m.lastRenderedReducer=a;var w=m.dispatch,L=m.pending,N=u.memoizedState;if(L!==null){m.pending=null;var Q=L=L.next;do N=a(N,Q.action),Q=Q.next;while(Q!==L);cn(N,u.memoizedState)||(js=!0),u.memoizedState=N,u.baseQueue===null&&(u.baseState=N),m.lastRenderedState=N}return[N,w]}function c2(){}function km(a,u){var m=Bn,w=hs(),L=u(),N=!cn(w.memoizedState,L);if(N&&(w.memoizedState=L,js=!0),w=w.queue,kp(d2.bind(null,m,w,a),[a]),w.getSnapshot!==u||N||or!==null&&or.memoizedState.tag&1){if(m.flags|=2048,ds(9,Tm.bind(null,m,w,L,u),void 0,null),ni===null)throw Error(t(349));$a&30||h2(m,u,L)}return L}function h2(a,u,m){a.flags|=16384,a={getSnapshot:u,value:m},u=Bn.updateQueue,u===null?(u={lastEffect:null,stores:null},Bn.updateQueue=u,u.stores=[a]):(m=u.stores,m===null?u.stores=[a]:m.push(a))}function Tm(a,u,m,w){u.value=m,u.getSnapshot=w,Zc(u)&&Pp(a)}function d2(a,u,m){return m(function(){Zc(u)&&Pp(a)})}function Zc(a){var u=a.getSnapshot;a=a.value;try{var m=u();return!cn(a,m)}catch{return!0}}function Pp(a){var u=mn(a,1);u!==null&&Po(u,a,1,-1)}function Ed(a){var u=ua();return typeof a=="function"&&(a=a()),u.memoizedState=u.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_d,lastRenderedState:a},u.queue=a,a=a.dispatch=f6.bind(null,Bn,a),[u.memoizedState,a]}function ds(a,u,m,w){return a={tag:a,create:u,destroy:m,deps:w,next:null},u=Bn.updateQueue,u===null?(u={lastEffect:null,stores:null},Bn.updateQueue=u,u.lastEffect=a.next=a):(m=u.lastEffect,m===null?u.lastEffect=a.next=a:(w=m.next,m.next=a,a.next=w,u.lastEffect=a)),a}function _o(){return hs().memoizedState}function ca(a,u,m,w){var L=ua();Bn.flags|=a,L.memoizedState=ds(1|u,m,void 0,w===void 0?null:w)}function ku(a,u,m,w){var L=hs();w=w===void 0?null:w;var N=void 0;if(gr!==null){var Q=gr.memoizedState;if(N=Q.destroy,w!==null&&Lp(w,Q.deps)){L.memoizedState=ds(u,m,N,w);return}}Bn.flags|=a,L.memoizedState=ds(1|u,m,N,w)}function Np(a,u){return ca(8390656,8,a,u)}function kp(a,u){return ku(2048,8,a,u)}function f2(a,u){return ku(4,2,a,u)}function Tp(a,u){return ku(4,4,a,u)}function Ip(a,u){if(typeof u=="function")return a=a(),u(a),function(){u(null)};if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function DA(a,u,m){return m=m!=null?m.concat([a]):null,ku(4,4,Ip.bind(null,u,a),m)}function Yv(){}function jA(a,u){var m=hs();u=u===void 0?null:u;var w=m.memoizedState;return w!==null&&u!==null&&Lp(u,w[1])?w[0]:(m.memoizedState=[a,u],a)}function BA(a,u){var m=hs();u=u===void 0?null:u;var w=m.memoizedState;return w!==null&&u!==null&&Lp(u,w[1])?w[0]:(a=a(),m.memoizedState=[a,u],a)}function zA(a,u,m){return $a&21?(cn(m,u)||(m=nd(),Bn.lanes|=m,Ld|=m,a.baseState=!0),u):(a.baseState&&(a.baseState=!1,js=!0),a.memoizedState=m)}function h6(a,u){var m=un;un=m!==0&&4>m?m:4,a(!0);var w=Ep.transition;Ep.transition={};try{a(!1),u()}finally{un=m,Ep.transition=w}}function UA(){return hs().memoizedState}function d6(a,u,m){var w=rh(a);if(m={lane:w,action:m,hasEagerState:!1,eagerState:null,next:null},HA(a))$A(u,m);else if(m=bo(a,u,m,w),m!==null){var L=ps();Po(m,a,w,L),qA(m,u,w)}}function f6(a,u,m){var w=rh(a),L={lane:w,action:m,hasEagerState:!1,eagerState:null,next:null};if(HA(a))$A(u,L);else{var N=a.alternate;if(a.lanes===0&&(N===null||N.lanes===0)&&(N=u.lastRenderedReducer,N!==null))try{var Q=u.lastRenderedState,ge=N(Q,m);if(L.hasEagerState=!0,L.eagerState=ge,cn(ge,Q)){var Ae=u.interleaved;Ae===null?(L.next=L,wl(u)):(L.next=Ae.next,Ae.next=L),u.interleaved=L;return}}catch{}finally{}m=bo(a,u,L,w),m!==null&&(L=ps(),Po(m,a,w,L),qA(m,u,w))}}function HA(a){var u=a.alternate;return a===Bn||u!==null&&u===Bn}function $A(a,u){So=Qc=!0;var m=a.pending;m===null?u.next=u:(u.next=m.next,m.next=u),a.pending=u}function qA(a,u,m){if(m&4194240){var w=u.lanes;w&=a.pendingLanes,m|=w,u.lanes=m,bc(a,m)}}var p2={readContext:pr,useCallback:Sr,useContext:Sr,useEffect:Sr,useImperativeHandle:Sr,useInsertionEffect:Sr,useLayoutEffect:Sr,useMemo:Sr,useReducer:Sr,useRef:Sr,useState:Sr,useDebugValue:Sr,useDeferredValue:Sr,useTransition:Sr,useMutableSource:Sr,useSyncExternalStore:Sr,useId:Sr,unstable_isNewReconciler:!1},p6={readContext:pr,useCallback:function(a,u){return ua().memoizedState=[a,u===void 0?null:u],a},useContext:pr,useEffect:Np,useImperativeHandle:function(a,u,m){return m=m!=null?m.concat([a]):null,ca(4194308,4,Ip.bind(null,u,a),m)},useLayoutEffect:function(a,u){return ca(4194308,4,a,u)},useInsertionEffect:function(a,u){return ca(4,2,a,u)},useMemo:function(a,u){var m=ua();return u=u===void 0?null:u,a=a(),m.memoizedState=[a,u],a},useReducer:function(a,u,m){var w=ua();return u=m!==void 0?m(u):u,w.memoizedState=w.baseState=u,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:u},w.queue=a,a=a.dispatch=d6.bind(null,Bn,a),[w.memoizedState,a]},useRef:function(a){var u=ua();return a={current:a},u.memoizedState=a},useState:Ed,useDebugValue:Yv,useDeferredValue:function(a){return ua().memoizedState=a},useTransition:function(){var a=Ed(!1),u=a[0];return a=h6.bind(null,a[1]),ua().memoizedState=a,[u,a]},useMutableSource:function(){},useSyncExternalStore:function(a,u,m){var w=Bn,L=ua();if(Oe){if(m===void 0)throw Error(t(407));m=m()}else{if(m=u(),ni===null)throw Error(t(349));$a&30||h2(w,u,m)}L.memoizedState=m;var N={value:m,getSnapshot:u};return L.queue=N,Np(d2.bind(null,w,N,a),[a]),w.flags|=2048,ds(9,Tm.bind(null,w,N,m,u),void 0,null),m},useId:function(){var a=ua(),u=ni.identifierPrefix;if(Oe){var m=Ne,w=Pe;m=(w&~(1<<32-is(w)-1)).toString(32)+m,u=":"+u+"R"+m,m=Jc++,0<m&&(u+="H"+m.toString(32)),u+=":"}else m=Xv++,u=":"+u+"r"+m.toString(32)+":";return a.memoizedState=u},unstable_isNewReconciler:!1},g6={readContext:pr,useCallback:jA,useContext:pr,useEffect:kp,useImperativeHandle:DA,useInsertionEffect:f2,useLayoutEffect:Tp,useMemo:BA,useReducer:Cp,useRef:_o,useState:function(){return Cp(_d)},useDebugValue:Yv,useDeferredValue:function(a){var u=hs();return zA(u,gr.memoizedState,a)},useTransition:function(){var a=Cp(_d)[0],u=hs().memoizedState;return[a,u]},useMutableSource:c2,useSyncExternalStore:km,useId:UA,unstable_isNewReconciler:!1},m6={readContext:pr,useCallback:jA,useContext:pr,useEffect:kp,useImperativeHandle:DA,useInsertionEffect:f2,useLayoutEffect:Tp,useMemo:BA,useReducer:Al,useRef:_o,useState:function(){return Al(_d)},useDebugValue:Yv,useDeferredValue:function(a){var u=hs();return gr===null?u.memoizedState=a:zA(u,gr.memoizedState,a)},useTransition:function(){var a=Al(_d)[0],u=hs().memoizedState;return[a,u]},useMutableSource:c2,useSyncExternalStore:km,useId:UA,unstable_isNewReconciler:!1};function Eo(a,u){if(a&&a.defaultProps){u=le({},u),a=a.defaultProps;for(var m in a)u[m]===void 0&&(u[m]=a[m]);return u}return u}function Kv(a,u,m,w){u=a.memoizedState,m=m(w,u),m=m==null?u:le({},u,m),a.memoizedState=m,a.lanes===0&&(a.updateQueue.baseState=m)}var g2={isMounted:function(a){return(a=a._reactInternals)?Br(a)===a:!1},enqueueSetState:function(a,u,m){a=a._reactInternals;var w=ps(),L=rh(a),N=Ms(w,L);N.payload=u,m!=null&&(N.callback=m),u=Os(a,N,L),u!==null&&(Po(u,a,L,w),Pu(u,a,L))},enqueueReplaceState:function(a,u,m){a=a._reactInternals;var w=ps(),L=rh(a),N=Ms(w,L);N.tag=1,N.payload=u,m!=null&&(N.callback=m),u=Os(a,N,L),u!==null&&(Po(u,a,L,w),Pu(u,a,L))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var m=ps(),w=rh(a),L=Ms(m,w);L.tag=2,u!=null&&(L.callback=u),u=Os(a,L,w),u!==null&&(Po(u,a,w,m),Pu(u,a,w))}};function WA(a,u,m,w,L,N,Q){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(w,N,Q):u.prototype&&u.prototype.isPureReactComponent?!po(m,w)||!po(L,N):!0}function VA(a,u,m){var w=!1,L=yl,N=u.contextType;return typeof N=="object"&&N!==null?N=pr(N):(L=Mi(u)?Lu:Ur.current,w=u.contextTypes,N=(w=w!=null)?Gc(a,L):yl),u=new u(m,N),a.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=g2,a.stateNode=u,u._reactInternals=a,w&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=L,a.__reactInternalMemoizedMaskedChildContext=N),u}function GA(a,u,m,w){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(m,w),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(m,w),u.state!==a&&g2.enqueueReplaceState(u,u.state,null)}function Qv(a,u,m,w){var L=a.stateNode;L.props=m,L.state=a.memoizedState,L.refs={},Sp(a);var N=u.contextType;typeof N=="object"&&N!==null?L.context=pr(N):(N=Mi(u)?Lu:Ur.current,L.context=Gc(a,N)),L.state=a.memoizedState,N=u.getDerivedStateFromProps,typeof N=="function"&&(Kv(a,u,N,m),L.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(u=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),u!==L.state&&g2.enqueueReplaceState(L,L.state,null),Ao(a,m,L,w),L.state=a.memoizedState),typeof L.componentDidMount=="function"&&(a.flags|=4194308)}function Rp(a,u){try{var m="",w=u;do m+=re(w),w=w.return;while(w);var L=m}catch(N){L=`
Error generating stack: `+N.message+`
`+N.stack}return{value:a,source:u,stack:L,digest:null}}function Jv(a,u,m){return{value:a,source:null,stack:m??null,digest:u??null}}function Zv(a,u){try{console.error(u.value)}catch(m){setTimeout(function(){throw m})}}var v6=typeof WeakMap=="function"?WeakMap:Map;function XA(a,u,m){m=Ms(-1,m),m.tag=3,m.payload={element:null};var w=u.value;return m.callback=function(){x2||(x2=!0,py=w),Zv(a,u)},m}function YA(a,u,m){m=Ms(-1,m),m.tag=3;var w=a.type.getDerivedStateFromError;if(typeof w=="function"){var L=u.value;m.payload=function(){return w(L)},m.callback=function(){Zv(a,u)}}var N=a.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(m.callback=function(){Zv(a,u),typeof w!="function"&&(th===null?th=new Set([this]):th.add(this));var Q=u.stack;this.componentDidCatch(u.value,{componentStack:Q!==null?Q:""})}),m}function KA(a,u,m){var w=a.pingCache;if(w===null){w=a.pingCache=new v6;var L=new Set;w.set(u,L)}else L=w.get(u),L===void 0&&(L=new Set,w.set(u,L));L.has(m)||(L.add(m),a=T6.bind(null,a,u,m),u.then(a,a))}function QA(a){do{var u;if((u=a.tag===13)&&(u=a.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return a;a=a.return}while(a!==null);return null}function JA(a,u,m,w,L){return a.mode&1?(a.flags|=65536,a.lanes=L,a):(a===u?a.flags|=65536:(a.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(u=Ms(-1,1),u.tag=2,Os(m,u,1))),m.lanes|=1),a)}var y6=M.ReactCurrentOwner,js=!1;function fs(a,u,m,w){u.child=a===null?gn(u,null,m,w):Ar(u,a.child,m,w)}function ZA(a,u,m,w,L){m=m.render;var N=u.ref;return Kn(u,L),w=Sd(a,u,m,w,N,L),m=qa(),a!==null&&!js?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~L,Tu(a,u,L)):(Oe&&m&&Fe(u),u.flags|=1,fs(a,u,w,L),u.child)}function ex(a,u,m,w,L){if(a===null){var N=m.type;return typeof N=="function"&&!Ay(N)&&N.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(u.tag=15,u.type=N,tx(a,u,N,w,L)):(a=P2(m.type,null,w,u,u.mode,L),a.ref=u.ref,a.return=u,u.child=a)}if(N=a.child,!(a.lanes&L)){var Q=N.memoizedProps;if(m=m.compare,m=m!==null?m:po,m(Q,w)&&a.ref===u.ref)return Tu(a,u,L)}return u.flags|=1,a=sh(N,w),a.ref=u.ref,a.return=u,u.child=a}function tx(a,u,m,w,L){if(a!==null){var N=a.memoizedProps;if(po(N,w)&&a.ref===u.ref)if(js=!1,u.pendingProps=w=N,(a.lanes&L)!==0)a.flags&131072&&(js=!0);else return u.lanes=a.lanes,Tu(a,u,L)}return ey(a,u,m,w,L)}function nx(a,u,m){var w=u.pendingProps,L=w.children,N=a!==null?a.memoizedState:null;if(w.mode==="hidden")if(!(u.mode&1))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},En(Mp,ha),ha|=m;else{if(!(m&1073741824))return a=N!==null?N.baseLanes|m:m,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:a,cachePool:null,transitions:null},u.updateQueue=null,En(Mp,ha),ha|=a,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=N!==null?N.baseLanes:m,En(Mp,ha),ha|=w}else N!==null?(w=N.baseLanes|m,u.memoizedState=null):w=m,En(Mp,ha),ha|=w;return fs(a,u,L,m),u.child}function rx(a,u){var m=u.ref;(a===null&&m!==null||a!==null&&a.ref!==m)&&(u.flags|=512,u.flags|=2097152)}function ey(a,u,m,w,L){var N=Mi(m)?Lu:Ur.current;return N=Gc(u,N),Kn(u,L),m=Sd(a,u,m,w,N,L),w=qa(),a!==null&&!js?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~L,Tu(a,u,L)):(Oe&&w&&Fe(u),u.flags|=1,fs(a,u,m,L),u.child)}function ix(a,u,m,w,L){if(Mi(m)){var N=!0;Cu(u)}else N=!1;if(Kn(u,L),u.stateNode===null)v2(a,u),VA(u,m,w),Qv(u,m,w,L),w=!0;else if(a===null){var Q=u.stateNode,ge=u.memoizedProps;Q.props=ge;var Ae=Q.context,Re=m.contextType;typeof Re=="object"&&Re!==null?Re=pr(Re):(Re=Mi(m)?Lu:Ur.current,Re=Gc(u,Re));var Ve=m.getDerivedStateFromProps,Ye=typeof Ve=="function"||typeof Q.getSnapshotBeforeUpdate=="function";Ye||typeof Q.UNSAFE_componentWillReceiveProps!="function"&&typeof Q.componentWillReceiveProps!="function"||(ge!==w||Ae!==Re)&&GA(u,Q,w,Re),Ua=!1;var qe=u.memoizedState;Q.state=qe,Ao(u,w,Q,L),Ae=u.memoizedState,ge!==w||qe!==Ae||Fi.current||Ua?(typeof Ve=="function"&&(Kv(u,m,Ve,w),Ae=u.memoizedState),(ge=Ua||WA(u,m,ge,w,qe,Ae,Re))?(Ye||typeof Q.UNSAFE_componentWillMount!="function"&&typeof Q.componentWillMount!="function"||(typeof Q.componentWillMount=="function"&&Q.componentWillMount(),typeof Q.UNSAFE_componentWillMount=="function"&&Q.UNSAFE_componentWillMount()),typeof Q.componentDidMount=="function"&&(u.flags|=4194308)):(typeof Q.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=w,u.memoizedState=Ae),Q.props=w,Q.state=Ae,Q.context=Re,w=ge):(typeof Q.componentDidMount=="function"&&(u.flags|=4194308),w=!1)}else{Q=u.stateNode,Lm(a,u),ge=u.memoizedProps,Re=u.type===u.elementType?ge:Eo(u.type,ge),Q.props=Re,Ye=u.pendingProps,qe=Q.context,Ae=m.contextType,typeof Ae=="object"&&Ae!==null?Ae=pr(Ae):(Ae=Mi(m)?Lu:Ur.current,Ae=Gc(u,Ae));var ut=m.getDerivedStateFromProps;(Ve=typeof ut=="function"||typeof Q.getSnapshotBeforeUpdate=="function")||typeof Q.UNSAFE_componentWillReceiveProps!="function"&&typeof Q.componentWillReceiveProps!="function"||(ge!==Ye||qe!==Ae)&&GA(u,Q,w,Ae),Ua=!1,qe=u.memoizedState,Q.state=qe,Ao(u,w,Q,L);var gt=u.memoizedState;ge!==Ye||qe!==gt||Fi.current||Ua?(typeof ut=="function"&&(Kv(u,m,ut,w),gt=u.memoizedState),(Re=Ua||WA(u,m,Re,w,qe,gt,Ae)||!1)?(Ve||typeof Q.UNSAFE_componentWillUpdate!="function"&&typeof Q.componentWillUpdate!="function"||(typeof Q.componentWillUpdate=="function"&&Q.componentWillUpdate(w,gt,Ae),typeof Q.UNSAFE_componentWillUpdate=="function"&&Q.UNSAFE_componentWillUpdate(w,gt,Ae)),typeof Q.componentDidUpdate=="function"&&(u.flags|=4),typeof Q.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof Q.componentDidUpdate!="function"||ge===a.memoizedProps&&qe===a.memoizedState||(u.flags|=4),typeof Q.getSnapshotBeforeUpdate!="function"||ge===a.memoizedProps&&qe===a.memoizedState||(u.flags|=1024),u.memoizedProps=w,u.memoizedState=gt),Q.props=w,Q.state=gt,Q.context=Ae,w=Re):(typeof Q.componentDidUpdate!="function"||ge===a.memoizedProps&&qe===a.memoizedState||(u.flags|=4),typeof Q.getSnapshotBeforeUpdate!="function"||ge===a.memoizedProps&&qe===a.memoizedState||(u.flags|=1024),w=!1)}return ty(a,u,m,w,N,L)}function ty(a,u,m,w,L,N){rx(a,u);var Q=(u.flags&128)!==0;if(!w&&!Q)return L&&l2(u,m,!1),Tu(a,u,N);w=u.stateNode,y6.current=u;var ge=Q&&typeof m.getDerivedStateFromError!="function"?null:w.render();return u.flags|=1,a!==null&&Q?(u.child=Ar(u,a.child,null,N),u.child=Ar(u,null,ge,N)):fs(a,u,ge,N),u.memoizedState=w.state,L&&l2(u,m,!0),u.child}function sx(a){var u=a.stateNode;u.pendingContext?o2(a,u.pendingContext,u.pendingContext!==u.context):u.context&&o2(a,u.context,!1),Kc(a,u.containerInfo)}function ax(a,u,m,w,L){return qt(),Sn(L),u.flags|=256,fs(a,u,m,w),u.child}var ny={dehydrated:null,treeContext:null,retryLane:0};function ry(a){return{baseLanes:a,cachePool:null,transitions:null}}function ox(a,u,m){var w=u.pendingProps,L=On.current,N=!1,Q=(u.flags&128)!==0,ge;if((ge=Q)||(ge=a!==null&&a.memoizedState===null?!1:(L&2)!==0),ge?(N=!0,u.flags&=-129):(a===null||a.memoizedState!==null)&&(L|=1),En(On,L&1),a===null)return nt(u),a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(u.mode&1?a.data==="$!"?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):(Q=w.children,a=w.fallback,N?(w=u.mode,N=u.child,Q={mode:"hidden",children:Q},!(w&1)&&N!==null?(N.childLanes=0,N.pendingProps=Q):N=N2(Q,w,0,null),a=kd(a,w,m,null),N.return=u,a.return=u,N.sibling=a,u.child=N,u.child.memoizedState=ry(m),u.memoizedState=ny,a):iy(u,Q));if(L=a.memoizedState,L!==null&&(ge=L.dehydrated,ge!==null))return w6(a,u,Q,w,ge,L,m);if(N){N=w.fallback,Q=u.mode,L=a.child,ge=L.sibling;var Ae={mode:"hidden",children:w.children};return!(Q&1)&&u.child!==L?(w=u.child,w.childLanes=0,w.pendingProps=Ae,u.deletions=null):(w=sh(L,Ae),w.subtreeFlags=L.subtreeFlags&14680064),ge!==null?N=sh(ge,N):(N=kd(N,Q,m,null),N.flags|=2),N.return=u,w.return=u,w.sibling=N,u.child=w,w=N,N=u.child,Q=a.child.memoizedState,Q=Q===null?ry(m):{baseLanes:Q.baseLanes|m,cachePool:null,transitions:Q.transitions},N.memoizedState=Q,N.childLanes=a.childLanes&~m,u.memoizedState=ny,w}return N=a.child,a=N.sibling,w=sh(N,{mode:"visible",children:w.children}),!(u.mode&1)&&(w.lanes=m),w.return=u,w.sibling=null,a!==null&&(m=u.deletions,m===null?(u.deletions=[a],u.flags|=16):m.push(a)),u.child=w,u.memoizedState=null,w}function iy(a,u){return u=N2({mode:"visible",children:u},a.mode,0,null),u.return=a,a.child=u}function m2(a,u,m,w){return w!==null&&Sn(w),Ar(u,a.child,null,m),a=iy(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function w6(a,u,m,w,L,N,Q){if(m)return u.flags&256?(u.flags&=-257,w=Jv(Error(t(422))),m2(a,u,Q,w)):u.memoizedState!==null?(u.child=a.child,u.flags|=128,null):(N=w.fallback,L=u.mode,w=N2({mode:"visible",children:w.children},L,0,null),N=kd(N,L,Q,null),N.flags|=2,w.return=u,N.return=u,w.sibling=N,u.child=w,u.mode&1&&Ar(u,a.child,null,Q),u.child.memoizedState=ry(Q),u.memoizedState=ny,N);if(!(u.mode&1))return m2(a,u,Q,null);if(L.data==="$!"){if(w=L.nextSibling&&L.nextSibling.dataset,w)var ge=w.dgst;return w=ge,N=Error(t(419)),w=Jv(N,w,void 0),m2(a,u,Q,w)}if(ge=(Q&a.childLanes)!==0,js||ge){if(w=ni,w!==null){switch(Q&-Q){case 4:L=2;break;case 16:L=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:L=32;break;case 536870912:L=268435456;break;default:L=0}L=L&(w.suspendedLanes|Q)?0:L,L!==0&&L!==N.retryLane&&(N.retryLane=L,mn(a,L),Po(w,a,L,-1))}return by(),w=Jv(Error(t(421))),m2(a,u,Q,w)}return L.data==="$?"?(u.flags|=128,u.child=a.child,u=I6.bind(null,a),L._reactRetry=u,null):(a=N.treeContext,De=gi(L.nextSibling),Se=u,Oe=!0,Be=null,a!==null&&(ae[he++]=Pe,ae[he++]=Ne,ae[he++]=ye,Pe=a.id,Ne=a.overflow,ye=u),u=iy(u,w.children),u.flags|=4096,u)}function lx(a,u,m){a.lanes|=u;var w=a.alternate;w!==null&&(w.lanes|=u),Fs(a.return,u,m)}function sy(a,u,m,w,L){var N=a.memoizedState;N===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:w,tail:m,tailMode:L}:(N.isBackwards=u,N.rendering=null,N.renderingStartTime=0,N.last=w,N.tail=m,N.tailMode=L)}function ux(a,u,m){var w=u.pendingProps,L=w.revealOrder,N=w.tail;if(fs(a,u,w.children,m),w=On.current,w&2)w=w&1|2,u.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&lx(a,m,u);else if(a.tag===19)lx(a,m,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}w&=1}if(En(On,w),!(u.mode&1))u.memoizedState=null;else switch(L){case"forwards":for(m=u.child,L=null;m!==null;)a=m.alternate,a!==null&&la(a)===null&&(L=m),m=m.sibling;m=L,m===null?(L=u.child,u.child=null):(L=m.sibling,m.sibling=null),sy(u,!1,L,m,N);break;case"backwards":for(m=null,L=u.child,u.child=null;L!==null;){if(a=L.alternate,a!==null&&la(a)===null){u.child=L;break}a=L.sibling,L.sibling=m,m=L,L=a}sy(u,!0,m,null,N);break;case"together":sy(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function v2(a,u){!(u.mode&1)&&a!==null&&(a.alternate=null,u.alternate=null,u.flags|=2)}function Tu(a,u,m){if(a!==null&&(u.dependencies=a.dependencies),Ld|=u.lanes,!(m&u.childLanes))return null;if(a!==null&&u.child!==a.child)throw Error(t(153));if(u.child!==null){for(a=u.child,m=sh(a,a.pendingProps),u.child=m,m.return=u;a.sibling!==null;)a=a.sibling,m=m.sibling=sh(a,a.pendingProps),m.return=u;m.sibling=null}return u.child}function b6(a,u,m){switch(u.tag){case 3:sx(u),qt();break;case 5:u2(u);break;case 1:Mi(u.type)&&Cu(u);break;case 4:Kc(u,u.stateNode.containerInfo);break;case 10:var w=u.type._context,L=u.memoizedProps.value;En(ei,w._currentValue),w._currentValue=L;break;case 13:if(w=u.memoizedState,w!==null)return w.dehydrated!==null?(En(On,On.current&1),u.flags|=128,null):m&u.child.childLanes?ox(a,u,m):(En(On,On.current&1),a=Tu(a,u,m),a!==null?a.sibling:null);En(On,On.current&1);break;case 19:if(w=(m&u.childLanes)!==0,a.flags&128){if(w)return ux(a,u,m);u.flags|=128}if(L=u.memoizedState,L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),En(On,On.current),w)break;return null;case 22:case 23:return u.lanes=0,nx(a,u,m)}return Tu(a,u,m)}var cx,ay,hx,dx;cx=function(a,u){for(var m=u.child;m!==null;){if(m.tag===5||m.tag===6)a.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===u)break;for(;m.sibling===null;){if(m.return===null||m.return===u)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},ay=function(){},hx=function(a,u,m,w){var L=a.memoizedProps;if(L!==w){a=u.stateNode,xo(cs.current);var N=null;switch(m){case"input":L=pt(a,L),w=pt(a,w),N=[];break;case"select":L=le({},L,{value:void 0}),w=le({},w,{value:void 0}),N=[];break;case"textarea":L=Ke(a,L),w=Ke(a,w),N=[];break;default:typeof L.onClick!="function"&&typeof w.onClick=="function"&&(a.onclick=qc)}fn(m,w);var Q;m=null;for(Re in L)if(!w.hasOwnProperty(Re)&&L.hasOwnProperty(Re)&&L[Re]!=null)if(Re==="style"){var ge=L[Re];for(Q in ge)ge.hasOwnProperty(Q)&&(m||(m={}),m[Q]="")}else Re!=="dangerouslySetInnerHTML"&&Re!=="children"&&Re!=="suppressContentEditableWarning"&&Re!=="suppressHydrationWarning"&&Re!=="autoFocus"&&(r.hasOwnProperty(Re)?N||(N=[]):(N=N||[]).push(Re,null));for(Re in w){var Ae=w[Re];if(ge=L!=null?L[Re]:void 0,w.hasOwnProperty(Re)&&Ae!==ge&&(Ae!=null||ge!=null))if(Re==="style")if(ge){for(Q in ge)!ge.hasOwnProperty(Q)||Ae&&Ae.hasOwnProperty(Q)||(m||(m={}),m[Q]="");for(Q in Ae)Ae.hasOwnProperty(Q)&&ge[Q]!==Ae[Q]&&(m||(m={}),m[Q]=Ae[Q])}else m||(N||(N=[]),N.push(Re,m)),m=Ae;else Re==="dangerouslySetInnerHTML"?(Ae=Ae?Ae.__html:void 0,ge=ge?ge.__html:void 0,Ae!=null&&ge!==Ae&&(N=N||[]).push(Re,Ae)):Re==="children"?typeof Ae!="string"&&typeof Ae!="number"||(N=N||[]).push(Re,""+Ae):Re!=="suppressContentEditableWarning"&&Re!=="suppressHydrationWarning"&&(r.hasOwnProperty(Re)?(Ae!=null&&Re==="onScroll"&&Nn("scroll",a),N||ge===Ae||(N=[])):(N=N||[]).push(Re,Ae))}m&&(N=N||[]).push("style",m);var Re=N;(u.updateQueue=Re)&&(u.flags|=4)}},dx=function(a,u,m,w){m!==w&&(u.flags|=4)};function Im(a,u){if(!Oe)switch(a.tailMode){case"hidden":u=a.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?a.tail=null:m.sibling=null;break;case"collapsed":m=a.tail;for(var w=null;m!==null;)m.alternate!==null&&(w=m),m=m.sibling;w===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:w.sibling=null}}function Di(a){var u=a.alternate!==null&&a.alternate.child===a.child,m=0,w=0;if(u)for(var L=a.child;L!==null;)m|=L.lanes|L.childLanes,w|=L.subtreeFlags&14680064,w|=L.flags&14680064,L.return=a,L=L.sibling;else for(L=a.child;L!==null;)m|=L.lanes|L.childLanes,w|=L.subtreeFlags,w|=L.flags,L.return=a,L=L.sibling;return a.subtreeFlags|=w,a.childLanes=m,u}function A6(a,u,m){var w=u.pendingProps;switch(xe(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Di(u),null;case 1:return Mi(u.type)&&xp(),Di(u),null;case 3:return w=u.stateNode,Ha(),xn(Fi),xn(Ur),Nm(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(a===null||a.child===null)&&(ln(u)?u.flags|=4:a===null||a.memoizedState.isDehydrated&&!(u.flags&256)||(u.flags|=1024,Be!==null&&(vy(Be),Be=null))),ay(a,u),Di(u),null;case 5:Cm(u);var L=xo(bl.current);if(m=u.type,a!==null&&u.stateNode!=null)hx(a,u,m,w,L),a.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!w){if(u.stateNode===null)throw Error(t(166));return Di(u),null}if(a=xo(cs.current),ln(u)){w=u.stateNode,m=u.type;var N=u.memoizedProps;switch(w[za]=u,w[Wc]=N,a=(u.mode&1)!==0,m){case"dialog":Nn("cancel",w),Nn("close",w);break;case"iframe":case"object":case"embed":Nn("load",w);break;case"video":case"audio":for(L=0;L<ml.length;L++)Nn(ml[L],w);break;case"source":Nn("error",w);break;case"img":case"image":case"link":Nn("error",w),Nn("load",w);break;case"details":Nn("toggle",w);break;case"input":Ie(w,N),Nn("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!N.multiple},Nn("invalid",w);break;case"textarea":rt(w,N),Nn("invalid",w)}fn(m,N),L=null;for(var Q in N)if(N.hasOwnProperty(Q)){var ge=N[Q];Q==="children"?typeof ge=="string"?w.textContent!==ge&&(N.suppressHydrationWarning!==!0&&Ap(w.textContent,ge,a),L=["children",ge]):typeof ge=="number"&&w.textContent!==""+ge&&(N.suppressHydrationWarning!==!0&&Ap(w.textContent,ge,a),L=["children",""+ge]):r.hasOwnProperty(Q)&&ge!=null&&Q==="onScroll"&&Nn("scroll",w)}switch(m){case"input":ze(w),Ze(w,N,!0);break;case"textarea":ze(w),At(w);break;case"select":case"option":break;default:typeof N.onClick=="function"&&(w.onclick=qc)}w=L,u.updateQueue=w,w!==null&&(u.flags|=4)}else{Q=L.nodeType===9?L:L.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Rt(m)),a==="http://www.w3.org/1999/xhtml"?m==="script"?(a=Q.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof w.is=="string"?a=Q.createElement(m,{is:w.is}):(a=Q.createElement(m),m==="select"&&(Q=a,w.multiple?Q.multiple=!0:w.size&&(Q.size=w.size))):a=Q.createElementNS(a,m),a[za]=u,a[Wc]=w,cx(a,u,!1,!1),u.stateNode=a;e:{switch(Q=Ei(m,w),m){case"dialog":Nn("cancel",a),Nn("close",a),L=w;break;case"iframe":case"object":case"embed":Nn("load",a),L=w;break;case"video":case"audio":for(L=0;L<ml.length;L++)Nn(ml[L],a);L=w;break;case"source":Nn("error",a),L=w;break;case"img":case"image":case"link":Nn("error",a),Nn("load",a),L=w;break;case"details":Nn("toggle",a),L=w;break;case"input":Ie(a,w),L=pt(a,w),Nn("invalid",a);break;case"option":L=w;break;case"select":a._wrapperState={wasMultiple:!!w.multiple},L=le({},w,{value:void 0}),Nn("invalid",a);break;case"textarea":rt(a,w),L=Ke(a,w),Nn("invalid",a);break;default:L=w}fn(m,L),ge=L;for(N in ge)if(ge.hasOwnProperty(N)){var Ae=ge[N];N==="style"?Un(a,Ae):N==="dangerouslySetInnerHTML"?(Ae=Ae?Ae.__html:void 0,Ae!=null&&xt(a,Ae)):N==="children"?typeof Ae=="string"?(m!=="textarea"||Ae!=="")&&wt(a,Ae):typeof Ae=="number"&&wt(a,""+Ae):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(r.hasOwnProperty(N)?Ae!=null&&N==="onScroll"&&Nn("scroll",a):Ae!=null&&F(a,N,Ae,Q))}switch(m){case"input":ze(a),Ze(a,w,!1);break;case"textarea":ze(a),At(a);break;case"option":w.value!=null&&a.setAttribute("value",""+we(w.value));break;case"select":a.multiple=!!w.multiple,N=w.value,N!=null?Ge(a,!!w.multiple,N,!1):w.defaultValue!=null&&Ge(a,!!w.multiple,w.defaultValue,!0);break;default:typeof L.onClick=="function"&&(a.onclick=qc)}switch(m){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Di(u),null;case 6:if(a&&u.stateNode!=null)dx(a,u,a.memoizedProps,w);else{if(typeof w!="string"&&u.stateNode===null)throw Error(t(166));if(m=xo(bl.current),xo(cs.current),ln(u)){if(w=u.stateNode,m=u.memoizedProps,w[za]=u,(N=w.nodeValue!==m)&&(a=Se,a!==null))switch(a.tag){case 3:Ap(w.nodeValue,m,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Ap(w.nodeValue,m,(a.mode&1)!==0)}N&&(u.flags|=4)}else w=(m.nodeType===9?m:m.ownerDocument).createTextNode(w),w[za]=u,u.stateNode=w}return Di(u),null;case 13:if(xn(On),w=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Oe&&De!==null&&u.mode&1&&!(u.flags&128))rn(),qt(),u.flags|=98560,N=!1;else if(N=ln(u),w!==null&&w.dehydrated!==null){if(a===null){if(!N)throw Error(t(318));if(N=u.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(t(317));N[za]=u}else qt(),!(u.flags&128)&&(u.memoizedState=null),u.flags|=4;Di(u),N=!1}else Be!==null&&(vy(Be),Be=null),N=!0;if(!N)return u.flags&65536?u:null}return u.flags&128?(u.lanes=m,u):(w=w!==null,w!==(a!==null&&a.memoizedState!==null)&&w&&(u.child.flags|=8192,u.mode&1&&(a===null||On.current&1?$r===0&&($r=3):by())),u.updateQueue!==null&&(u.flags|=4),Di(u),null);case 4:return Ha(),ay(a,u),a===null&&xu(u.stateNode.containerInfo),Di(u),null;case 10:return Oi(u.type._context),Di(u),null;case 17:return Mi(u.type)&&xp(),Di(u),null;case 19:if(xn(On),N=u.memoizedState,N===null)return Di(u),null;if(w=(u.flags&128)!==0,Q=N.rendering,Q===null)if(w)Im(N,!1);else{if($r!==0||a!==null&&a.flags&128)for(a=u.child;a!==null;){if(Q=la(a),Q!==null){for(u.flags|=128,Im(N,!1),w=Q.updateQueue,w!==null&&(u.updateQueue=w,u.flags|=4),u.subtreeFlags=0,w=m,m=u.child;m!==null;)N=m,a=w,N.flags&=14680066,Q=N.alternate,Q===null?(N.childLanes=0,N.lanes=a,N.child=null,N.subtreeFlags=0,N.memoizedProps=null,N.memoizedState=null,N.updateQueue=null,N.dependencies=null,N.stateNode=null):(N.childLanes=Q.childLanes,N.lanes=Q.lanes,N.child=Q.child,N.subtreeFlags=0,N.deletions=null,N.memoizedProps=Q.memoizedProps,N.memoizedState=Q.memoizedState,N.updateQueue=Q.updateQueue,N.type=Q.type,a=Q.dependencies,N.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),m=m.sibling;return En(On,On.current&1|2),u.child}a=a.sibling}N.tail!==null&&Wn()>Op&&(u.flags|=128,w=!0,Im(N,!1),u.lanes=4194304)}else{if(!w)if(a=la(Q),a!==null){if(u.flags|=128,w=!0,m=a.updateQueue,m!==null&&(u.updateQueue=m,u.flags|=4),Im(N,!0),N.tail===null&&N.tailMode==="hidden"&&!Q.alternate&&!Oe)return Di(u),null}else 2*Wn()-N.renderingStartTime>Op&&m!==1073741824&&(u.flags|=128,w=!0,Im(N,!1),u.lanes=4194304);N.isBackwards?(Q.sibling=u.child,u.child=Q):(m=N.last,m!==null?m.sibling=Q:u.child=Q,N.last=Q)}return N.tail!==null?(u=N.tail,N.rendering=u,N.tail=u.sibling,N.renderingStartTime=Wn(),u.sibling=null,m=On.current,En(On,w?m&1|2:m&1),u):(Di(u),null);case 22:case 23:return wy(),w=u.memoizedState!==null,a!==null&&a.memoizedState!==null!==w&&(u.flags|=8192),w&&u.mode&1?ha&1073741824&&(Di(u),u.subtreeFlags&6&&(u.flags|=8192)):Di(u),null;case 24:return null;case 25:return null}throw Error(t(156,u.tag))}function x6(a,u){switch(xe(u),u.tag){case 1:return Mi(u.type)&&xp(),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return Ha(),xn(Fi),xn(Ur),Nm(),a=u.flags,a&65536&&!(a&128)?(u.flags=a&-65537|128,u):null;case 5:return Cm(u),null;case 13:if(xn(On),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(t(340));qt()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return xn(On),null;case 4:return Ha(),null;case 10:return Oi(u.type._context),null;case 22:case 23:return wy(),null;case 24:return null;default:return null}}var y2=!1,ji=!1,S6=typeof WeakSet=="function"?WeakSet:Set,ht=null;function Fp(a,u){var m=a.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(w){mr(a,u,w)}else m.current=null}function oy(a,u,m){try{m()}catch(w){mr(a,u,w)}}var fx=!1;function _6(a,u){if(bd=Ec,a=fd(),yu(a)){if("selectionStart"in a)var m={start:a.selectionStart,end:a.selectionEnd};else e:{m=(m=a.ownerDocument)&&m.defaultView||window;var w=m.getSelection&&m.getSelection();if(w&&w.rangeCount!==0){m=w.anchorNode;var L=w.anchorOffset,N=w.focusNode;w=w.focusOffset;try{m.nodeType,N.nodeType}catch{m=null;break e}var Q=0,ge=-1,Ae=-1,Re=0,Ve=0,Ye=a,qe=null;t:for(;;){for(var ut;Ye!==m||L!==0&&Ye.nodeType!==3||(ge=Q+L),Ye!==N||w!==0&&Ye.nodeType!==3||(Ae=Q+w),Ye.nodeType===3&&(Q+=Ye.nodeValue.length),(ut=Ye.firstChild)!==null;)qe=Ye,Ye=ut;for(;;){if(Ye===a)break t;if(qe===m&&++Re===L&&(ge=Q),qe===N&&++Ve===w&&(Ae=Q),(ut=Ye.nextSibling)!==null)break;Ye=qe,qe=Ye.parentNode}Ye=ut}m=ge===-1||Ae===-1?null:{start:ge,end:Ae}}else m=null}m=m||{start:0,end:0}}else m=null;for(_u={focusedElem:a,selectionRange:m},Ec=!1,ht=u;ht!==null;)if(u=ht,a=u.child,(u.subtreeFlags&1028)!==0&&a!==null)a.return=u,ht=a;else for(;ht!==null;){u=ht;try{var gt=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(gt!==null){var vt=gt.memoizedProps,_r=gt.memoizedState,ke=u.stateNode,Ee=ke.getSnapshotBeforeUpdate(u.elementType===u.type?vt:Eo(u.type,vt),_r);ke.__reactInternalSnapshotBeforeUpdate=Ee}break;case 3:var Te=u.stateNode.containerInfo;Te.nodeType===1?Te.textContent="":Te.nodeType===9&&Te.documentElement&&Te.removeChild(Te.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(et){mr(u,u.return,et)}if(a=u.sibling,a!==null){a.return=u.return,ht=a;break}ht=u.return}return gt=fx,fx=!1,gt}function Rm(a,u,m){var w=u.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var L=w=w.next;do{if((L.tag&a)===a){var N=L.destroy;L.destroy=void 0,N!==void 0&&oy(u,m,N)}L=L.next}while(L!==w)}}function w2(a,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var m=u=u.next;do{if((m.tag&a)===a){var w=m.create;m.destroy=w()}m=m.next}while(m!==u)}}function ly(a){var u=a.ref;if(u!==null){var m=a.stateNode;switch(a.tag){case 5:a=m;break;default:a=m}typeof u=="function"?u(a):u.current=a}}function px(a){var u=a.alternate;u!==null&&(a.alternate=null,px(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&(delete u[za],delete u[Wc],delete u[Ri],delete u[Vv],delete u[Gv])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function gx(a){return a.tag===5||a.tag===3||a.tag===4}function mx(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||gx(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function uy(a,u,m){var w=a.tag;if(w===5||w===6)a=a.stateNode,u?m.nodeType===8?m.parentNode.insertBefore(a,u):m.insertBefore(a,u):(m.nodeType===8?(u=m.parentNode,u.insertBefore(a,m)):(u=m,u.appendChild(a)),m=m._reactRootContainer,m!=null||u.onclick!==null||(u.onclick=qc));else if(w!==4&&(a=a.child,a!==null))for(uy(a,u,m),a=a.sibling;a!==null;)uy(a,u,m),a=a.sibling}function cy(a,u,m){var w=a.tag;if(w===5||w===6)a=a.stateNode,u?m.insertBefore(a,u):m.appendChild(a);else if(w!==4&&(a=a.child,a!==null))for(cy(a,u,m),a=a.sibling;a!==null;)cy(a,u,m),a=a.sibling}var vi=null,Lo=!1;function eh(a,u,m){for(m=m.child;m!==null;)vx(a,u,m),m=m.sibling}function vx(a,u,m){if(Ps&&typeof Ps.onCommitFiberUnmount=="function")try{Ps.onCommitFiberUnmount(ru,m)}catch{}switch(m.tag){case 5:ji||Fp(m,u);case 6:var w=vi,L=Lo;vi=null,eh(a,u,m),vi=w,Lo=L,vi!==null&&(Lo?(a=vi,m=m.stateNode,a.nodeType===8?a.parentNode.removeChild(m):a.removeChild(m)):vi.removeChild(m.stateNode));break;case 18:vi!==null&&(Lo?(a=vi,m=m.stateNode,a.nodeType===8?Sm(a.parentNode,m):a.nodeType===1&&Sm(a,m),ra(a)):Sm(vi,m.stateNode));break;case 4:w=vi,L=Lo,vi=m.stateNode.containerInfo,Lo=!0,eh(a,u,m),vi=w,Lo=L;break;case 0:case 11:case 14:case 15:if(!ji&&(w=m.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){L=w=w.next;do{var N=L,Q=N.destroy;N=N.tag,Q!==void 0&&(N&2||N&4)&&oy(m,u,Q),L=L.next}while(L!==w)}eh(a,u,m);break;case 1:if(!ji&&(Fp(m,u),w=m.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=m.memoizedProps,w.state=m.memoizedState,w.componentWillUnmount()}catch(ge){mr(m,u,ge)}eh(a,u,m);break;case 21:eh(a,u,m);break;case 22:m.mode&1?(ji=(w=ji)||m.memoizedState!==null,eh(a,u,m),ji=w):eh(a,u,m);break;default:eh(a,u,m)}}function yx(a){var u=a.updateQueue;if(u!==null){a.updateQueue=null;var m=a.stateNode;m===null&&(m=a.stateNode=new S6),u.forEach(function(w){var L=R6.bind(null,a,w);m.has(w)||(m.add(w),w.then(L,L))})}}function Co(a,u){var m=u.deletions;if(m!==null)for(var w=0;w<m.length;w++){var L=m[w];try{var N=a,Q=u,ge=Q;e:for(;ge!==null;){switch(ge.tag){case 5:vi=ge.stateNode,Lo=!1;break e;case 3:vi=ge.stateNode.containerInfo,Lo=!0;break e;case 4:vi=ge.stateNode.containerInfo,Lo=!0;break e}ge=ge.return}if(vi===null)throw Error(t(160));vx(N,Q,L),vi=null,Lo=!1;var Ae=L.alternate;Ae!==null&&(Ae.return=null),L.return=null}catch(Re){mr(L,u,Re)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)wx(u,a),u=u.sibling}function wx(a,u){var m=a.alternate,w=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Co(u,a),xl(a),w&4){try{Rm(3,a,a.return),w2(3,a)}catch(vt){mr(a,a.return,vt)}try{Rm(5,a,a.return)}catch(vt){mr(a,a.return,vt)}}break;case 1:Co(u,a),xl(a),w&512&&m!==null&&Fp(m,m.return);break;case 5:if(Co(u,a),xl(a),w&512&&m!==null&&Fp(m,m.return),a.flags&32){var L=a.stateNode;try{wt(L,"")}catch(vt){mr(a,a.return,vt)}}if(w&4&&(L=a.stateNode,L!=null)){var N=a.memoizedProps,Q=m!==null?m.memoizedProps:N,ge=a.type,Ae=a.updateQueue;if(a.updateQueue=null,Ae!==null)try{ge==="input"&&N.type==="radio"&&N.name!=null&&pe(L,N),Ei(ge,Q);var Re=Ei(ge,N);for(Q=0;Q<Ae.length;Q+=2){var Ve=Ae[Q],Ye=Ae[Q+1];Ve==="style"?Un(L,Ye):Ve==="dangerouslySetInnerHTML"?xt(L,Ye):Ve==="children"?wt(L,Ye):F(L,Ve,Ye,Re)}switch(ge){case"input":lt(L,N);break;case"textarea":at(L,N);break;case"select":var qe=L._wrapperState.wasMultiple;L._wrapperState.wasMultiple=!!N.multiple;var ut=N.value;ut!=null?Ge(L,!!N.multiple,ut,!1):qe!==!!N.multiple&&(N.defaultValue!=null?Ge(L,!!N.multiple,N.defaultValue,!0):Ge(L,!!N.multiple,N.multiple?[]:"",!1))}L[Wc]=N}catch(vt){mr(a,a.return,vt)}}break;case 6:if(Co(u,a),xl(a),w&4){if(a.stateNode===null)throw Error(t(162));L=a.stateNode,N=a.memoizedProps;try{L.nodeValue=N}catch(vt){mr(a,a.return,vt)}}break;case 3:if(Co(u,a),xl(a),w&4&&m!==null&&m.memoizedState.isDehydrated)try{ra(u.containerInfo)}catch(vt){mr(a,a.return,vt)}break;case 4:Co(u,a),xl(a);break;case 13:Co(u,a),xl(a),L=a.child,L.flags&8192&&(N=L.memoizedState!==null,L.stateNode.isHidden=N,!N||L.alternate!==null&&L.alternate.memoizedState!==null||(fy=Wn())),w&4&&yx(a);break;case 22:if(Ve=m!==null&&m.memoizedState!==null,a.mode&1?(ji=(Re=ji)||Ve,Co(u,a),ji=Re):Co(u,a),xl(a),w&8192){if(Re=a.memoizedState!==null,(a.stateNode.isHidden=Re)&&!Ve&&a.mode&1)for(ht=a,Ve=a.child;Ve!==null;){for(Ye=ht=Ve;ht!==null;){switch(qe=ht,ut=qe.child,qe.tag){case 0:case 11:case 14:case 15:Rm(4,qe,qe.return);break;case 1:Fp(qe,qe.return);var gt=qe.stateNode;if(typeof gt.componentWillUnmount=="function"){w=qe,m=qe.return;try{u=w,gt.props=u.memoizedProps,gt.state=u.memoizedState,gt.componentWillUnmount()}catch(vt){mr(w,m,vt)}}break;case 5:Fp(qe,qe.return);break;case 22:if(qe.memoizedState!==null){xx(Ye);continue}}ut!==null?(ut.return=qe,ht=ut):xx(Ye)}Ve=Ve.sibling}e:for(Ve=null,Ye=a;;){if(Ye.tag===5){if(Ve===null){Ve=Ye;try{L=Ye.stateNode,Re?(N=L.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none"):(ge=Ye.stateNode,Ae=Ye.memoizedProps.style,Q=Ae!=null&&Ae.hasOwnProperty("display")?Ae.display:null,ge.style.display=Ut("display",Q))}catch(vt){mr(a,a.return,vt)}}}else if(Ye.tag===6){if(Ve===null)try{Ye.stateNode.nodeValue=Re?"":Ye.memoizedProps}catch(vt){mr(a,a.return,vt)}}else if((Ye.tag!==22&&Ye.tag!==23||Ye.memoizedState===null||Ye===a)&&Ye.child!==null){Ye.child.return=Ye,Ye=Ye.child;continue}if(Ye===a)break e;for(;Ye.sibling===null;){if(Ye.return===null||Ye.return===a)break e;Ve===Ye&&(Ve=null),Ye=Ye.return}Ve===Ye&&(Ve=null),Ye.sibling.return=Ye.return,Ye=Ye.sibling}}break;case 19:Co(u,a),xl(a),w&4&&yx(a);break;case 21:break;default:Co(u,a),xl(a)}}function xl(a){var u=a.flags;if(u&2){try{e:{for(var m=a.return;m!==null;){if(gx(m)){var w=m;break e}m=m.return}throw Error(t(160))}switch(w.tag){case 5:var L=w.stateNode;w.flags&32&&(wt(L,""),w.flags&=-33);var N=mx(a);cy(a,N,L);break;case 3:case 4:var Q=w.stateNode.containerInfo,ge=mx(a);uy(a,ge,Q);break;default:throw Error(t(161))}}catch(Ae){mr(a,a.return,Ae)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function E6(a,u,m){ht=a,bx(a)}function bx(a,u,m){for(var w=(a.mode&1)!==0;ht!==null;){var L=ht,N=L.child;if(L.tag===22&&w){var Q=L.memoizedState!==null||y2;if(!Q){var ge=L.alternate,Ae=ge!==null&&ge.memoizedState!==null||ji;ge=y2;var Re=ji;if(y2=Q,(ji=Ae)&&!Re)for(ht=L;ht!==null;)Q=ht,Ae=Q.child,Q.tag===22&&Q.memoizedState!==null?Sx(L):Ae!==null?(Ae.return=Q,ht=Ae):Sx(L);for(;N!==null;)ht=N,bx(N),N=N.sibling;ht=L,y2=ge,ji=Re}Ax(a)}else L.subtreeFlags&8772&&N!==null?(N.return=L,ht=N):Ax(a)}}function Ax(a){for(;ht!==null;){var u=ht;if(u.flags&8772){var m=u.alternate;try{if(u.flags&8772)switch(u.tag){case 0:case 11:case 15:ji||w2(5,u);break;case 1:var w=u.stateNode;if(u.flags&4&&!ji)if(m===null)w.componentDidMount();else{var L=u.elementType===u.type?m.memoizedProps:Eo(u.type,m.memoizedProps);w.componentDidUpdate(L,m.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var N=u.updateQueue;N!==null&&Nu(u,N,w);break;case 3:var Q=u.updateQueue;if(Q!==null){if(m=null,u.child!==null)switch(u.child.tag){case 5:m=u.child.stateNode;break;case 1:m=u.child.stateNode}Nu(u,Q,m)}break;case 5:var ge=u.stateNode;if(m===null&&u.flags&4){m=ge;var Ae=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":Ae.autoFocus&&m.focus();break;case"img":Ae.src&&(m.src=Ae.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var Re=u.alternate;if(Re!==null){var Ve=Re.memoizedState;if(Ve!==null){var Ye=Ve.dehydrated;Ye!==null&&ra(Ye)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ji||u.flags&512&&ly(u)}catch(qe){mr(u,u.return,qe)}}if(u===a){ht=null;break}if(m=u.sibling,m!==null){m.return=u.return,ht=m;break}ht=u.return}}function xx(a){for(;ht!==null;){var u=ht;if(u===a){ht=null;break}var m=u.sibling;if(m!==null){m.return=u.return,ht=m;break}ht=u.return}}function Sx(a){for(;ht!==null;){var u=ht;try{switch(u.tag){case 0:case 11:case 15:var m=u.return;try{w2(4,u)}catch(Ae){mr(u,m,Ae)}break;case 1:var w=u.stateNode;if(typeof w.componentDidMount=="function"){var L=u.return;try{w.componentDidMount()}catch(Ae){mr(u,L,Ae)}}var N=u.return;try{ly(u)}catch(Ae){mr(u,N,Ae)}break;case 5:var Q=u.return;try{ly(u)}catch(Ae){mr(u,Q,Ae)}}}catch(Ae){mr(u,u.return,Ae)}if(u===a){ht=null;break}var ge=u.sibling;if(ge!==null){ge.return=u.return,ht=ge;break}ht=u.return}}var L6=Math.ceil,b2=M.ReactCurrentDispatcher,hy=M.ReactCurrentOwner,Wa=M.ReactCurrentBatchConfig,hn=0,ni=null,Rr=null,yi=0,ha=0,Mp=oa(0),$r=0,Fm=null,Ld=0,A2=0,dy=0,Mm=null,Bs=null,fy=0,Op=1/0,Iu=null,x2=!1,py=null,th=null,S2=!1,nh=null,_2=0,Om=0,gy=null,E2=-1,L2=0;function ps(){return hn&6?Wn():E2!==-1?E2:E2=Wn()}function rh(a){return a.mode&1?hn&2&&yi!==0?yi&-yi:Ln.transition!==null?(L2===0&&(L2=nd()),L2):(a=un,a!==0||(a=window.event,a=a===void 0?16:od(a.type)),a):1}function Po(a,u,m,w){if(50<Om)throw Om=0,gy=null,Error(t(185));il(a,m,w),(!(hn&2)||a!==ni)&&(a===ni&&(!(hn&2)&&(A2|=m),$r===4&&ih(a,yi)),zs(a,w),m===1&&hn===0&&!(u.mode&1)&&(Op=Wn()+500,xd&&R()))}function zs(a,u){var m=a.callbackNode;Ni(a,u);var w=Pi(a,a===ni?yi:0);if(w===0)m!==null&&nu(m),a.callbackNode=null,a.callbackPriority=0;else if(u=w&-w,a.callbackPriority!==u){if(m!=null&&nu(m),u===1)a.tag===0?C(Ex.bind(null,a)):A(Ex.bind(null,a)),qv(function(){!(hn&6)&&R()}),m=null;else{switch(Ac(w)){case 1:m=nl;break;case 4:m=ed;break;case 16:m=vc;break;case 536870912:m=up;break;default:m=vc}m=Rx(m,_x.bind(null,a))}a.callbackPriority=u,a.callbackNode=m}}function _x(a,u){if(E2=-1,L2=0,hn&6)throw Error(t(327));var m=a.callbackNode;if(Dp()&&a.callbackNode!==m)return null;var w=Pi(a,a===ni?yi:0);if(w===0)return null;if(w&30||w&a.expiredLanes||u)u=C2(a,w);else{u=w;var L=hn;hn|=2;var N=Cx();(ni!==a||yi!==u)&&(Iu=null,Op=Wn()+500,Pd(a,u));do try{N6();break}catch(ge){Lx(a,ge)}while(!0);Hr(),b2.current=N,hn=L,Rr!==null?u=0:(ni=null,yi=0,u=$r)}if(u!==0){if(u===2&&(L=au(a),L!==0&&(w=L,u=my(a,L))),u===1)throw m=Fm,Pd(a,0),ih(a,w),zs(a,Wn()),m;if(u===6)ih(a,w);else{if(L=a.current.alternate,!(w&30)&&!C6(L)&&(u=C2(a,w),u===2&&(N=au(a),N!==0&&(w=N,u=my(a,N))),u===1))throw m=Fm,Pd(a,0),ih(a,w),zs(a,Wn()),m;switch(a.finishedWork=L,a.finishedLanes=w,u){case 0:case 1:throw Error(t(345));case 2:Nd(a,Bs,Iu);break;case 3:if(ih(a,w),(w&130023424)===w&&(u=fy+500-Wn(),10<u)){if(Pi(a,0)!==0)break;if(L=a.suspendedLanes,(L&w)!==w){ps(),a.pingedLanes|=a.suspendedLanes&L;break}a.timeoutHandle=xm(Nd.bind(null,a,Bs,Iu),u);break}Nd(a,Bs,Iu);break;case 4:if(ih(a,w),(w&4194240)===w)break;for(u=a.eventTimes,L=-1;0<w;){var Q=31-is(w);N=1<<Q,Q=u[Q],Q>L&&(L=Q),w&=~N}if(w=L,w=Wn()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*L6(w/1960))-w,10<w){a.timeoutHandle=xm(Nd.bind(null,a,Bs,Iu),w);break}Nd(a,Bs,Iu);break;case 5:Nd(a,Bs,Iu);break;default:throw Error(t(329))}}}return zs(a,Wn()),a.callbackNode===m?_x.bind(null,a):null}function my(a,u){var m=Mm;return a.current.memoizedState.isDehydrated&&(Pd(a,u).flags|=256),a=C2(a,u),a!==2&&(u=Bs,Bs=m,u!==null&&vy(u)),a}function vy(a){Bs===null?Bs=a:Bs.push.apply(Bs,a)}function C6(a){for(var u=a;;){if(u.flags&16384){var m=u.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var w=0;w<m.length;w++){var L=m[w],N=L.getSnapshot;L=L.value;try{if(!cn(N(),L))return!1}catch{return!1}}}if(m=u.child,u.subtreeFlags&16384&&m!==null)m.return=u,u=m;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function ih(a,u){for(u&=~dy,u&=~A2,a.suspendedLanes|=u,a.pingedLanes&=~u,a=a.expirationTimes;0<u;){var m=31-is(u),w=1<<m;a[m]=-1,u&=~w}}function Ex(a){if(hn&6)throw Error(t(327));Dp();var u=Pi(a,0);if(!(u&1))return zs(a,Wn()),null;var m=C2(a,u);if(a.tag!==0&&m===2){var w=au(a);w!==0&&(u=w,m=my(a,w))}if(m===1)throw m=Fm,Pd(a,0),ih(a,u),zs(a,Wn()),m;if(m===6)throw Error(t(345));return a.finishedWork=a.current.alternate,a.finishedLanes=u,Nd(a,Bs,Iu),zs(a,Wn()),null}function yy(a,u){var m=hn;hn|=1;try{return a(u)}finally{hn=m,hn===0&&(Op=Wn()+500,xd&&R())}}function Cd(a){nh!==null&&nh.tag===0&&!(hn&6)&&Dp();var u=hn;hn|=1;var m=Wa.transition,w=un;try{if(Wa.transition=null,un=1,a)return a()}finally{un=w,Wa.transition=m,hn=u,!(hn&6)&&R()}}function wy(){ha=Mp.current,xn(Mp)}function Pd(a,u){a.finishedWork=null,a.finishedLanes=0;var m=a.timeoutHandle;if(m!==-1&&(a.timeoutHandle=-1,s2(m)),Rr!==null)for(m=Rr.return;m!==null;){var w=m;switch(xe(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&xp();break;case 3:Ha(),xn(Fi),xn(Ur),Nm();break;case 5:Cm(w);break;case 4:Ha();break;case 13:xn(On);break;case 19:xn(On);break;case 10:Oi(w.type._context);break;case 22:case 23:wy()}m=m.return}if(ni=a,Rr=a=sh(a.current,null),yi=ha=u,$r=0,Fm=null,dy=A2=Ld=0,Bs=Mm=null,us!==null){for(u=0;u<us.length;u++)if(m=us[u],w=m.interleaved,w!==null){m.interleaved=null;var L=w.next,N=m.pending;if(N!==null){var Q=N.next;N.next=L,w.next=Q}m.pending=w}us=null}return a}function Lx(a,u){do{var m=Rr;try{if(Hr(),_p.current=p2,Qc){for(var w=Bn.memoizedState;w!==null;){var L=w.queue;L!==null&&(L.pending=null),w=w.next}Qc=!1}if($a=0,or=gr=Bn=null,So=!1,Jc=0,hy.current=null,m===null||m.return===null){$r=1,Fm=u,Rr=null;break}e:{var N=a,Q=m.return,ge=m,Ae=u;if(u=yi,ge.flags|=32768,Ae!==null&&typeof Ae=="object"&&typeof Ae.then=="function"){var Re=Ae,Ve=ge,Ye=Ve.tag;if(!(Ve.mode&1)&&(Ye===0||Ye===11||Ye===15)){var qe=Ve.alternate;qe?(Ve.updateQueue=qe.updateQueue,Ve.memoizedState=qe.memoizedState,Ve.lanes=qe.lanes):(Ve.updateQueue=null,Ve.memoizedState=null)}var ut=QA(Q);if(ut!==null){ut.flags&=-257,JA(ut,Q,ge,N,u),ut.mode&1&&KA(N,Re,u),u=ut,Ae=Re;var gt=u.updateQueue;if(gt===null){var vt=new Set;vt.add(Ae),u.updateQueue=vt}else gt.add(Ae);break e}else{if(!(u&1)){KA(N,Re,u),by();break e}Ae=Error(t(426))}}else if(Oe&&ge.mode&1){var _r=QA(Q);if(_r!==null){!(_r.flags&65536)&&(_r.flags|=256),JA(_r,Q,ge,N,u),Sn(Rp(Ae,ge));break e}}N=Ae=Rp(Ae,ge),$r!==4&&($r=2),Mm===null?Mm=[N]:Mm.push(N),N=Q;do{switch(N.tag){case 3:N.flags|=65536,u&=-u,N.lanes|=u;var ke=XA(N,Ae,u);Ds(N,ke);break e;case 1:ge=Ae;var Ee=N.type,Te=N.stateNode;if(!(N.flags&128)&&(typeof Ee.getDerivedStateFromError=="function"||Te!==null&&typeof Te.componentDidCatch=="function"&&(th===null||!th.has(Te)))){N.flags|=65536,u&=-u,N.lanes|=u;var et=YA(N,ge,u);Ds(N,et);break e}}N=N.return}while(N!==null)}Nx(m)}catch(yt){u=yt,Rr===m&&m!==null&&(Rr=m=m.return);continue}break}while(!0)}function Cx(){var a=b2.current;return b2.current=p2,a===null?p2:a}function by(){($r===0||$r===3||$r===2)&&($r=4),ni===null||!(Ld&268435455)&&!(A2&268435455)||ih(ni,yi)}function C2(a,u){var m=hn;hn|=2;var w=Cx();(ni!==a||yi!==u)&&(Iu=null,Pd(a,u));do try{P6();break}catch(L){Lx(a,L)}while(!0);if(Hr(),hn=m,b2.current=w,Rr!==null)throw Error(t(261));return ni=null,yi=0,$r}function P6(){for(;Rr!==null;)Px(Rr)}function N6(){for(;Rr!==null&&!mc();)Px(Rr)}function Px(a){var u=Ix(a.alternate,a,ha);a.memoizedProps=a.pendingProps,u===null?Nx(a):Rr=u,hy.current=null}function Nx(a){var u=a;do{var m=u.alternate;if(a=u.return,u.flags&32768){if(m=x6(m,u),m!==null){m.flags&=32767,Rr=m;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{$r=6,Rr=null;return}}else if(m=A6(m,u,ha),m!==null){Rr=m;return}if(u=u.sibling,u!==null){Rr=u;return}Rr=u=a}while(u!==null);$r===0&&($r=5)}function Nd(a,u,m){var w=un,L=Wa.transition;try{Wa.transition=null,un=1,k6(a,u,m,w)}finally{Wa.transition=L,un=w}return null}function k6(a,u,m,w){do Dp();while(nh!==null);if(hn&6)throw Error(t(327));m=a.finishedWork;var L=a.finishedLanes;if(m===null)return null;if(a.finishedWork=null,a.finishedLanes=0,m===a.current)throw Error(t(177));a.callbackNode=null,a.callbackPriority=0;var N=m.lanes|m.childLanes;if(ym(a,N),a===ni&&(Rr=ni=null,yi=0),!(m.subtreeFlags&2064)&&!(m.flags&2064)||S2||(S2=!0,Rx(vc,function(){return Dp(),null})),N=(m.flags&15990)!==0,m.subtreeFlags&15990||N){N=Wa.transition,Wa.transition=null;var Q=un;un=1;var ge=hn;hn|=4,hy.current=null,_6(a,m),wx(m,a),wu(_u),Ec=!!bd,_u=bd=null,a.current=m,E6(m),lp(),hn=ge,un=Q,Wa.transition=N}else a.current=m;if(S2&&(S2=!1,nh=a,_2=L),N=a.pendingLanes,N===0&&(th=null),yc(m.stateNode),zs(a,Wn()),u!==null)for(w=a.onRecoverableError,m=0;m<u.length;m++)L=u[m],w(L.value,{componentStack:L.stack,digest:L.digest});if(x2)throw x2=!1,a=py,py=null,a;return _2&1&&a.tag!==0&&Dp(),N=a.pendingLanes,N&1?a===gy?Om++:(Om=0,gy=a):Om=0,R(),null}function Dp(){if(nh!==null){var a=Ac(_2),u=Wa.transition,m=un;try{if(Wa.transition=null,un=16>a?16:a,nh===null)var w=!1;else{if(a=nh,nh=null,_2=0,hn&6)throw Error(t(331));var L=hn;for(hn|=4,ht=a.current;ht!==null;){var N=ht,Q=N.child;if(ht.flags&16){var ge=N.deletions;if(ge!==null){for(var Ae=0;Ae<ge.length;Ae++){var Re=ge[Ae];for(ht=Re;ht!==null;){var Ve=ht;switch(Ve.tag){case 0:case 11:case 15:Rm(8,Ve,N)}var Ye=Ve.child;if(Ye!==null)Ye.return=Ve,ht=Ye;else for(;ht!==null;){Ve=ht;var qe=Ve.sibling,ut=Ve.return;if(px(Ve),Ve===Re){ht=null;break}if(qe!==null){qe.return=ut,ht=qe;break}ht=ut}}}var gt=N.alternate;if(gt!==null){var vt=gt.child;if(vt!==null){gt.child=null;do{var _r=vt.sibling;vt.sibling=null,vt=_r}while(vt!==null)}}ht=N}}if(N.subtreeFlags&2064&&Q!==null)Q.return=N,ht=Q;else e:for(;ht!==null;){if(N=ht,N.flags&2048)switch(N.tag){case 0:case 11:case 15:Rm(9,N,N.return)}var ke=N.sibling;if(ke!==null){ke.return=N.return,ht=ke;break e}ht=N.return}}var Ee=a.current;for(ht=Ee;ht!==null;){Q=ht;var Te=Q.child;if(Q.subtreeFlags&2064&&Te!==null)Te.return=Q,ht=Te;else e:for(Q=Ee;ht!==null;){if(ge=ht,ge.flags&2048)try{switch(ge.tag){case 0:case 11:case 15:w2(9,ge)}}catch(yt){mr(ge,ge.return,yt)}if(ge===Q){ht=null;break e}var et=ge.sibling;if(et!==null){et.return=ge.return,ht=et;break e}ht=ge.return}}if(hn=L,R(),Ps&&typeof Ps.onPostCommitFiberRoot=="function")try{Ps.onPostCommitFiberRoot(ru,a)}catch{}w=!0}return w}finally{un=m,Wa.transition=u}}return!1}function kx(a,u,m){u=Rp(m,u),u=XA(a,u,1),a=Os(a,u,1),u=ps(),a!==null&&(il(a,1,u),zs(a,u))}function mr(a,u,m){if(a.tag===3)kx(a,a,m);else for(;u!==null;){if(u.tag===3){kx(u,a,m);break}else if(u.tag===1){var w=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(th===null||!th.has(w))){a=Rp(m,a),a=YA(u,a,1),u=Os(u,a,1),a=ps(),u!==null&&(il(u,1,a),zs(u,a));break}}u=u.return}}function T6(a,u,m){var w=a.pingCache;w!==null&&w.delete(u),u=ps(),a.pingedLanes|=a.suspendedLanes&m,ni===a&&(yi&m)===m&&($r===4||$r===3&&(yi&130023424)===yi&&500>Wn()-fy?Pd(a,0):dy|=m),zs(a,u)}function Tx(a,u){u===0&&(a.mode&1?(u=rl,rl<<=1,!(rl&130023424)&&(rl=4194304)):u=1);var m=ps();a=mn(a,u),a!==null&&(il(a,u,m),zs(a,m))}function I6(a){var u=a.memoizedState,m=0;u!==null&&(m=u.retryLane),Tx(a,m)}function R6(a,u){var m=0;switch(a.tag){case 13:var w=a.stateNode,L=a.memoizedState;L!==null&&(m=L.retryLane);break;case 19:w=a.stateNode;break;default:throw Error(t(314))}w!==null&&w.delete(u),Tx(a,m)}var Ix;Ix=function(a,u,m){if(a!==null)if(a.memoizedProps!==u.pendingProps||Fi.current)js=!0;else{if(!(a.lanes&m)&&!(u.flags&128))return js=!1,b6(a,u,m);js=!!(a.flags&131072)}else js=!1,Oe&&u.flags&1048576&&Ue(u,se,u.index);switch(u.lanes=0,u.tag){case 2:var w=u.type;v2(a,u),a=u.pendingProps;var L=Gc(u,Ur.current);Kn(u,m),L=Sd(null,u,w,a,L,m);var N=qa();return u.flags|=1,typeof L=="object"&&L!==null&&typeof L.render=="function"&&L.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Mi(w)?(N=!0,Cu(u)):N=!1,u.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,Sp(u),L.updater=g2,u.stateNode=L,L._reactInternals=u,Qv(u,w,a,m),u=ty(null,u,w,!0,N,m)):(u.tag=0,Oe&&N&&Fe(u),fs(null,u,L,m),u=u.child),u;case 16:w=u.elementType;e:{switch(v2(a,u),a=u.pendingProps,L=w._init,w=L(w._payload),u.type=w,L=u.tag=M6(w),a=Eo(w,a),L){case 0:u=ey(null,u,w,a,m);break e;case 1:u=ix(null,u,w,a,m);break e;case 11:u=ZA(null,u,w,a,m);break e;case 14:u=ex(null,u,w,Eo(w.type,a),m);break e}throw Error(t(306,w,""))}return u;case 0:return w=u.type,L=u.pendingProps,L=u.elementType===w?L:Eo(w,L),ey(a,u,w,L,m);case 1:return w=u.type,L=u.pendingProps,L=u.elementType===w?L:Eo(w,L),ix(a,u,w,L,m);case 3:e:{if(sx(u),a===null)throw Error(t(387));w=u.pendingProps,N=u.memoizedState,L=N.element,Lm(a,u),Ao(u,w,null,m);var Q=u.memoizedState;if(w=Q.element,N.isDehydrated)if(N={element:w,isDehydrated:!1,cache:Q.cache,pendingSuspenseBoundaries:Q.pendingSuspenseBoundaries,transitions:Q.transitions},u.updateQueue.baseState=N,u.memoizedState=N,u.flags&256){L=Rp(Error(t(423)),u),u=ax(a,u,w,m,L);break e}else if(w!==L){L=Rp(Error(t(424)),u),u=ax(a,u,w,m,L);break e}else for(De=gi(u.stateNode.containerInfo.firstChild),Se=u,Oe=!0,Be=null,m=gn(u,null,w,m),u.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(qt(),w===L){u=Tu(a,u,m);break e}fs(a,u,w,m)}u=u.child}return u;case 5:return u2(u),a===null&&nt(u),w=u.type,L=u.pendingProps,N=a!==null?a.memoizedProps:null,Q=L.children,Am(w,L)?Q=null:N!==null&&Am(w,N)&&(u.flags|=32),rx(a,u),fs(a,u,Q,m),u.child;case 6:return a===null&&nt(u),null;case 13:return ox(a,u,m);case 4:return Kc(u,u.stateNode.containerInfo),w=u.pendingProps,a===null?u.child=Ar(u,null,w,m):fs(a,u,w,m),u.child;case 11:return w=u.type,L=u.pendingProps,L=u.elementType===w?L:Eo(w,L),ZA(a,u,w,L,m);case 7:return fs(a,u,u.pendingProps,m),u.child;case 8:return fs(a,u,u.pendingProps.children,m),u.child;case 12:return fs(a,u,u.pendingProps.children,m),u.child;case 10:e:{if(w=u.type._context,L=u.pendingProps,N=u.memoizedProps,Q=L.value,En(ei,w._currentValue),w._currentValue=Q,N!==null)if(cn(N.value,Q)){if(N.children===L.children&&!Fi.current){u=Tu(a,u,m);break e}}else for(N=u.child,N!==null&&(N.return=u);N!==null;){var ge=N.dependencies;if(ge!==null){Q=N.child;for(var Ae=ge.firstContext;Ae!==null;){if(Ae.context===w){if(N.tag===1){Ae=Ms(-1,m&-m),Ae.tag=2;var Re=N.updateQueue;if(Re!==null){Re=Re.shared;var Ve=Re.pending;Ve===null?Ae.next=Ae:(Ae.next=Ve.next,Ve.next=Ae),Re.pending=Ae}}N.lanes|=m,Ae=N.alternate,Ae!==null&&(Ae.lanes|=m),Fs(N.return,m,u),ge.lanes|=m;break}Ae=Ae.next}}else if(N.tag===10)Q=N.type===u.type?null:N.child;else if(N.tag===18){if(Q=N.return,Q===null)throw Error(t(341));Q.lanes|=m,ge=Q.alternate,ge!==null&&(ge.lanes|=m),Fs(Q,m,u),Q=N.sibling}else Q=N.child;if(Q!==null)Q.return=N;else for(Q=N;Q!==null;){if(Q===u){Q=null;break}if(N=Q.sibling,N!==null){N.return=Q.return,Q=N;break}Q=Q.return}N=Q}fs(a,u,L.children,m),u=u.child}return u;case 9:return L=u.type,w=u.pendingProps.children,Kn(u,m),L=pr(L),w=w(L),u.flags|=1,fs(a,u,w,m),u.child;case 14:return w=u.type,L=Eo(w,u.pendingProps),L=Eo(w.type,L),ex(a,u,w,L,m);case 15:return tx(a,u,u.type,u.pendingProps,m);case 17:return w=u.type,L=u.pendingProps,L=u.elementType===w?L:Eo(w,L),v2(a,u),u.tag=1,Mi(w)?(a=!0,Cu(u)):a=!1,Kn(u,m),VA(u,w,L),Qv(u,w,L,m),ty(null,u,w,!0,a,m);case 19:return ux(a,u,m);case 22:return nx(a,u,m)}throw Error(t(156,u.tag))};function Rx(a,u){return tu(a,u)}function F6(a,u,m,w){this.tag=a,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Va(a,u,m,w){return new F6(a,u,m,w)}function Ay(a){return a=a.prototype,!(!a||!a.isReactComponent)}function M6(a){if(typeof a=="function")return Ay(a)?1:0;if(a!=null){if(a=a.$$typeof,a===O)return 11;if(a===ce)return 14}return 2}function sh(a,u){var m=a.alternate;return m===null?(m=Va(a.tag,u,a.key,a.mode),m.elementType=a.elementType,m.type=a.type,m.stateNode=a.stateNode,m.alternate=a,a.alternate=m):(m.pendingProps=u,m.type=a.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=a.flags&14680064,m.childLanes=a.childLanes,m.lanes=a.lanes,m.child=a.child,m.memoizedProps=a.memoizedProps,m.memoizedState=a.memoizedState,m.updateQueue=a.updateQueue,u=a.dependencies,m.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},m.sibling=a.sibling,m.index=a.index,m.ref=a.ref,m}function P2(a,u,m,w,L,N){var Q=2;if(w=a,typeof a=="function")Ay(a)&&(Q=1);else if(typeof a=="string")Q=5;else e:switch(a){case q:return kd(m.children,L,N,u);case T:Q=8,L|=8;break;case D:return a=Va(12,m,u,L|2),a.elementType=D,a.lanes=N,a;case X:return a=Va(13,m,u,L),a.elementType=X,a.lanes=N,a;case U:return a=Va(19,m,u,L),a.elementType=U,a.lanes=N,a;case j:return N2(m,L,N,u);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case J:Q=10;break e;case I:Q=9;break e;case O:Q=11;break e;case ce:Q=14;break e;case B:Q=16,w=null;break e}throw Error(t(130,a==null?a:typeof a,""))}return u=Va(Q,m,u,L),u.elementType=a,u.type=w,u.lanes=N,u}function kd(a,u,m,w){return a=Va(7,a,w,u),a.lanes=m,a}function N2(a,u,m,w){return a=Va(22,a,w,u),a.elementType=j,a.lanes=m,a.stateNode={isHidden:!1},a}function xy(a,u,m){return a=Va(6,a,null,u),a.lanes=m,a}function Sy(a,u,m){return u=Va(4,a.children!==null?a.children:[],a.key,u),u.lanes=m,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}function O6(a,u,m,w,L){this.tag=u,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rd(0),this.expirationTimes=rd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rd(0),this.identifierPrefix=w,this.onRecoverableError=L,this.mutableSourceEagerHydrationData=null}function _y(a,u,m,w,L,N,Q,ge,Ae){return a=new O6(a,u,m,ge,Ae),u===1?(u=1,N===!0&&(u|=8)):u=0,N=Va(3,null,null,u),a.current=N,N.stateNode=a,N.memoizedState={element:w,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sp(N),a}function D6(a,u,m){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:H,key:w==null?null:""+w,children:a,containerInfo:u,implementation:m}}function Fx(a){if(!a)return yl;a=a._reactInternals;e:{if(Br(a)!==a||a.tag!==1)throw Error(t(170));var u=a;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Mi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(t(171))}if(a.tag===1){var m=a.type;if(Mi(m))return Em(a,m,u)}return u}function Mx(a,u,m,w,L,N,Q,ge,Ae){return a=_y(m,w,!0,a,L,N,Q,ge,Ae),a.context=Fx(null),m=a.current,w=ps(),L=rh(m),N=Ms(w,L),N.callback=u??null,Os(m,N,L),a.current.lanes=L,il(a,L,w),zs(a,w),a}function k2(a,u,m,w){var L=u.current,N=ps(),Q=rh(L);return m=Fx(m),u.context===null?u.context=m:u.pendingContext=m,u=Ms(N,Q),u.payload={element:a},w=w===void 0?null:w,w!==null&&(u.callback=w),a=Os(L,u,Q),a!==null&&(Po(a,L,Q,N),Pu(a,L,Q)),Q}function T2(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function Ox(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var m=a.retryLane;a.retryLane=m!==0&&m<u?m:u}}function Ey(a,u){Ox(a,u),(a=a.alternate)&&Ox(a,u)}function j6(){return null}var Dx=typeof reportError=="function"?reportError:function(a){console.error(a)};function Ly(a){this._internalRoot=a}I2.prototype.render=Ly.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw Error(t(409));k2(a,u,null,null)},I2.prototype.unmount=Ly.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;Cd(function(){k2(null,a,null,null)}),u[Zr]=null}};function I2(a){this._internalRoot=a}I2.prototype.unstable_scheduleHydration=function(a){if(a){var u=Ta();a={blockedOn:null,target:a,priority:u};for(var m=0;m<Ra.length&&u!==0&&u<Ra[m].priority;m++);Ra.splice(m,0,a),m===0&&Sc(a)}};function Cy(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function R2(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function jx(){}function B6(a,u,m,w,L){if(L){if(typeof w=="function"){var N=w;w=function(){var Re=T2(Q);N.call(Re)}}var Q=Mx(u,w,a,0,null,!1,!1,"",jx);return a._reactRootContainer=Q,a[Zr]=Q.current,xu(a.nodeType===8?a.parentNode:a),Cd(),Q}for(;L=a.lastChild;)a.removeChild(L);if(typeof w=="function"){var ge=w;w=function(){var Re=T2(Ae);ge.call(Re)}}var Ae=_y(a,0,!1,null,null,!1,!1,"",jx);return a._reactRootContainer=Ae,a[Zr]=Ae.current,xu(a.nodeType===8?a.parentNode:a),Cd(function(){k2(u,Ae,m,w)}),Ae}function F2(a,u,m,w,L){var N=m._reactRootContainer;if(N){var Q=N;if(typeof L=="function"){var ge=L;L=function(){var Ae=T2(Q);ge.call(Ae)}}k2(u,Q,a,L)}else Q=B6(m,u,a,L,w);return T2(Q)}dp=function(a){switch(a.tag){case 3:var u=a.stateNode;if(u.current.memoizedState.isDehydrated){var m=su(u.pendingLanes);m!==0&&(bc(u,m|1),zs(u,Wn()),!(hn&6)&&(Op=Wn()+500,R()))}break;case 13:Cd(function(){var w=mn(a,1);if(w!==null){var L=ps();Po(w,a,1,L)}}),Ey(a,1)}},id=function(a){if(a.tag===13){var u=mn(a,134217728);if(u!==null){var m=ps();Po(u,a,134217728,m)}Ey(a,134217728)}},fp=function(a){if(a.tag===13){var u=rh(a),m=mn(a,u);if(m!==null){var w=ps();Po(m,a,u,w)}Ey(a,u)}},Ta=function(){return un},ou=function(a,u){var m=un;try{return un=a,u()}finally{un=m}},pn=function(a,u,m){switch(u){case"input":if(lt(a,m),u=m.name,m.type==="radio"&&u!=null){for(m=a;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<m.length;u++){var w=m[u];if(w!==a&&w.form===a.form){var L=Ad(w);if(!L)throw Error(t(90));Xe(w),lt(w,L)}}}break;case"textarea":at(a,m);break;case"select":u=m.value,u!=null&&Ge(a,!!m.multiple,u,!1)}},Qs=yy,Rn=Cd;var z6={usingClientEntryPoint:!1,Events:[Vc,Eu,Ad,Ct,Kt,yy]},Dm={findFiberByHostInstance:vl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},U6={bundleType:Dm.bundleType,version:Dm.version,rendererPackageName:Dm.rendererPackageName,rendererConfig:Dm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=tl(a),a===null?null:a.stateNode},findFiberByHostInstance:Dm.findFiberByHostInstance||j6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var M2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!M2.isDisabled&&M2.supportsFiber)try{ru=M2.inject(U6),Ps=M2}catch{}}return Us.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z6,Us.createPortal=function(a,u){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cy(u))throw Error(t(200));return D6(a,u,null,m)},Us.createRoot=function(a,u){if(!Cy(a))throw Error(t(299));var m=!1,w="",L=Dx;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onRecoverableError!==void 0&&(L=u.onRecoverableError)),u=_y(a,1,!1,null,null,m,!1,w,L),a[Zr]=u.current,xu(a.nodeType===8?a.parentNode:a),new Ly(u)},Us.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(t(188)):(a=Object.keys(a).join(","),Error(t(268,a)));return a=tl(u),a=a===null?null:a.stateNode,a},Us.flushSync=function(a){return Cd(a)},Us.hydrate=function(a,u,m){if(!R2(u))throw Error(t(200));return F2(null,a,u,!0,m)},Us.hydrateRoot=function(a,u,m){if(!Cy(a))throw Error(t(405));var w=m!=null&&m.hydratedSources||null,L=!1,N="",Q=Dx;if(m!=null&&(m.unstable_strictMode===!0&&(L=!0),m.identifierPrefix!==void 0&&(N=m.identifierPrefix),m.onRecoverableError!==void 0&&(Q=m.onRecoverableError)),u=Mx(u,null,a,1,m??null,L,!1,N,Q),a[Zr]=u.current,xu(a),w)for(a=0;a<w.length;a++)m=w[a],L=m._getVersion,L=L(m._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[m,L]:u.mutableSourceEagerHydrationData.push(m,L);return new I2(u)},Us.render=function(a,u,m){if(!R2(u))throw Error(t(200));return F2(null,a,u,!1,m)},Us.unmountComponentAtNode=function(a){if(!R2(a))throw Error(t(40));return a._reactRootContainer?(Cd(function(){F2(null,null,a,!1,function(){a._reactRootContainer=null,a[Zr]=null})}),!0):!1},Us.unstable_batchedUpdates=yy,Us.unstable_renderSubtreeIntoContainer=function(a,u,m,w){if(!R2(m))throw Error(t(200));if(a==null||a._reactInternals===void 0)throw Error(t(38));return F2(a,u,m,!1,w)},Us.version="18.3.1-next-f1338f8080-20240426",Us}var Gx;function AS(){if(Gx)return Ty.exports;Gx=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Ty.exports=J6(),Ty.exports}var Xx;function Z6(){if(Xx)return O2;Xx=1;var i=AS();return O2.createRoot=i.createRoot,O2.hydrateRoot=i.hydrateRoot,O2}var eL=Z6();function tL(i,e){return e.forEach(function(t){t&&typeof t!="string"&&!Array.isArray(t)&&Object.keys(t).forEach(function(n){if(n!=="default"&&!(n in i)){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(i,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}})}),Object.freeze(i)}function xS(i,e){return new Promise(function(t,n){let r;return nL(i).then(function(s){try{return r=s,t(new Blob([e.slice(0,2),r,e.slice(2)],{type:"image/jpeg"}))}catch(o){return n(o)}},n)})}const nL=i=>new Promise((e,t)=>{const n=new FileReader;n.addEventListener("load",({target:{result:r}})=>{const s=new DataView(r);let o=0;if(s.getUint16(o)!==65496)return t("not a valid JPEG");for(o+=2;;){const l=s.getUint16(o);if(l===65498)break;const c=s.getUint16(o+2);if(l===65505&&s.getUint32(o+4)===1165519206){const d=o+10;let h;switch(s.getUint16(d)){case 18761:h=!0;break;case 19789:h=!1;break;default:return t("TIFF header contains invalid endian")}if(s.getUint16(d+2,h)!==42)return t("TIFF header contains invalid version");const f=s.getUint32(d+4,h),v=d+f+2+12*s.getUint16(d+f,h);for(let g=d+f+2;g<v;g+=12)if(s.getUint16(g,h)==274){if(s.getUint16(g+2,h)!==3)return t("Orientation data type is invalid");if(s.getUint32(g+4,h)!==1)return t("Orientation data count is invalid");s.setUint16(g+8,1,h);break}return e(r.slice(o,o+2+c))}o+=2+c}return e(new Blob)}),n.readAsArrayBuffer(i)});var k5={},rL={get exports(){return k5},set exports(i){k5=i}};(function(i){var e,t,n={};rL.exports=n,n.parse=function(r,s){for(var o=n.bin.readUshort,l=n.bin.readUint,c=0,d={},h=new Uint8Array(r),f=h.length-4;l(h,f)!=101010256;)f--;c=f,c+=4;var v=o(h,c+=4);o(h,c+=2);var g=l(h,c+=2),b=l(h,c+=4);c+=4,c=b;for(var x=0;x<v;x++){l(h,c),c+=4,c+=4,c+=4,l(h,c+=4),g=l(h,c+=4);var E=l(h,c+=4),S=o(h,c+=4),P=o(h,c+2),F=o(h,c+4);c+=6;var M=l(h,c+=8);c+=4,c+=S+P+F,n._readLocal(h,M,d,g,E,s)}return d},n._readLocal=function(r,s,o,l,c,d){var h=n.bin.readUshort,f=n.bin.readUint;f(r,s),h(r,s+=4),h(r,s+=2);var v=h(r,s+=2);f(r,s+=2),f(r,s+=4),s+=4;var g=h(r,s+=8),b=h(r,s+=2);s+=2;var x=n.bin.readUTF8(r,s,g);if(s+=g,s+=b,d)o[x]={size:c,csize:l};else{var E=new Uint8Array(r.buffer,s);if(v==0)o[x]=new Uint8Array(E.buffer.slice(s,s+l));else{if(v!=8)throw"unknown compression method: "+v;var S=new Uint8Array(c);n.inflateRaw(E,S),o[x]=S}}},n.inflateRaw=function(r,s){return n.F.inflate(r,s)},n.inflate=function(r,s){return r[0],r[1],n.inflateRaw(new Uint8Array(r.buffer,r.byteOffset+2,r.length-6),s)},n.deflate=function(r,s){s==null&&(s={level:6});var o=0,l=new Uint8Array(50+Math.floor(1.1*r.length));l[o]=120,l[o+1]=156,o+=2,o=n.F.deflateRaw(r,l,o,s.level);var c=n.adler(r,0,r.length);return l[o+0]=c>>>24&255,l[o+1]=c>>>16&255,l[o+2]=c>>>8&255,l[o+3]=c>>>0&255,new Uint8Array(l.buffer,0,o+4)},n.deflateRaw=function(r,s){s==null&&(s={level:6});var o=new Uint8Array(50+Math.floor(1.1*r.length)),l=n.F.deflateRaw(r,o,l,s.level);return new Uint8Array(o.buffer,0,l)},n.encode=function(r,s){s==null&&(s=!1);var o=0,l=n.bin.writeUint,c=n.bin.writeUshort,d={};for(var h in r){var f=!n._noNeed(h)&&!s,v=r[h],g=n.crc.crc(v,0,v.length);d[h]={cpr:f,usize:v.length,crc:g,file:f?n.deflateRaw(v):v}}for(var h in d)o+=d[h].file.length+30+46+2*n.bin.sizeUTF8(h);o+=22;var b=new Uint8Array(o),x=0,E=[];for(var h in d){var S=d[h];E.push(x),x=n._writeHeader(b,x,h,S,0)}var P=0,F=x;for(var h in d)S=d[h],E.push(x),x=n._writeHeader(b,x,h,S,1,E[P++]);var M=x-F;return l(b,x,101010256),x+=4,c(b,x+=4,P),c(b,x+=2,P),l(b,x+=2,M),l(b,x+=4,F),x+=4,x+=2,b.buffer},n._noNeed=function(r){var s=r.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(s)!=-1},n._writeHeader=function(r,s,o,l,c,d){var h=n.bin.writeUint,f=n.bin.writeUshort,v=l.file;return h(r,s,c==0?67324752:33639248),s+=4,c==1&&(s+=2),f(r,s,20),f(r,s+=2,0),f(r,s+=2,l.cpr?8:0),h(r,s+=2,0),h(r,s+=4,l.crc),h(r,s+=4,v.length),h(r,s+=4,l.usize),f(r,s+=4,n.bin.sizeUTF8(o)),f(r,s+=2,0),s+=2,c==1&&(s+=2,s+=2,h(r,s+=6,d),s+=4),s+=n.bin.writeUTF8(r,s,o),c==0&&(r.set(v,s),s+=v.length),s},n.crc={table:function(){for(var r=new Uint32Array(256),s=0;s<256;s++){for(var o=s,l=0;l<8;l++)1&o?o=3988292384^o>>>1:o>>>=1;r[s]=o}return r}(),update:function(r,s,o,l){for(var c=0;c<l;c++)r=n.crc.table[255&(r^s[o+c])]^r>>>8;return r},crc:function(r,s,o){return 4294967295^n.crc.update(4294967295,r,s,o)}},n.adler=function(r,s,o){for(var l=1,c=0,d=s,h=s+o;d<h;){for(var f=Math.min(d+5552,h);d<f;)c+=l+=r[d++];l%=65521,c%=65521}return c<<16|l},n.bin={readUshort:function(r,s){return r[s]|r[s+1]<<8},writeUshort:function(r,s,o){r[s]=255&o,r[s+1]=o>>8&255},readUint:function(r,s){return 16777216*r[s+3]+(r[s+2]<<16|r[s+1]<<8|r[s])},writeUint:function(r,s,o){r[s]=255&o,r[s+1]=o>>8&255,r[s+2]=o>>16&255,r[s+3]=o>>24&255},readASCII:function(r,s,o){for(var l="",c=0;c<o;c++)l+=String.fromCharCode(r[s+c]);return l},writeASCII:function(r,s,o){for(var l=0;l<o.length;l++)r[s+l]=o.charCodeAt(l)},pad:function(r){return r.length<2?"0"+r:r},readUTF8:function(r,s,o){for(var l,c="",d=0;d<o;d++)c+="%"+n.bin.pad(r[s+d].toString(16));try{l=decodeURIComponent(c)}catch{return n.bin.readASCII(r,s,o)}return l},writeUTF8:function(r,s,o){for(var l=o.length,c=0,d=0;d<l;d++){var h=o.charCodeAt(d);if(!(4294967168&h))r[s+c]=h,c++;else if(!(4294965248&h))r[s+c]=192|h>>6,r[s+c+1]=128|h>>0&63,c+=2;else if(!(4294901760&h))r[s+c]=224|h>>12,r[s+c+1]=128|h>>6&63,r[s+c+2]=128|h>>0&63,c+=3;else{if(4292870144&h)throw"e";r[s+c]=240|h>>18,r[s+c+1]=128|h>>12&63,r[s+c+2]=128|h>>6&63,r[s+c+3]=128|h>>0&63,c+=4}}return c},sizeUTF8:function(r){for(var s=r.length,o=0,l=0;l<s;l++){var c=r.charCodeAt(l);if(!(4294967168&c))o++;else if(!(4294965248&c))o+=2;else if(!(4294901760&c))o+=3;else{if(4292870144&c)throw"e";o+=4}}return o}},n.F={},n.F.deflateRaw=function(r,s,o,l){var c=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][l],d=n.F.U,h=n.F._goodIndex;n.F._hash;var f=n.F._putsE,v=0,g=o<<3,b=0,x=r.length;if(l==0){for(;v<x;)f(s,g,v+(I=Math.min(65535,x-v))==x?1:0),g=n.F._copyExact(r,v,I,s,g+8),v+=I;return g>>>3}var E=d.lits,S=d.strt,P=d.prev,F=0,M=0,$=0,H=0,q=0,T=0;for(x>2&&(S[T=n.F._hash(r,0)]=0),v=0;v<x;v++){if(q=T,v+1<x-2){T=n.F._hash(r,v+1);var D=v+1&32767;P[D]=S[T],S[T]=D}if(b<=v){(F>14e3||M>26697)&&x-v>100&&(b<v&&(E[F]=v-b,F+=2,b=v),g=n.F._writeBlock(v==x-1||b==x?1:0,E,F,H,r,$,v-$,s,g),F=M=H=0,$=v);var J=0;v<x-2&&(J=n.F._bestMatch(r,v,P,q,Math.min(c[2],x-v),c[3]));var I=J>>>16,O=65535&J;if(J!=0){O=65535&J;var X=h(I=J>>>16,d.of0);d.lhst[257+X]++;var U=h(O,d.df0);d.dhst[U]++,H+=d.exb[X]+d.dxb[U],E[F]=I<<23|v-b,E[F+1]=O<<16|X<<8|U,F+=2,b=v+I}else d.lhst[r[v]]++;M++}}for($==v&&r.length!=0||(b<v&&(E[F]=v-b,F+=2,b=v),g=n.F._writeBlock(1,E,F,H,r,$,v-$,s,g),F=0,M=0,F=M=H=0,$=v);7&g;)g++;return g>>>3},n.F._bestMatch=function(r,s,o,l,c,d){var h=32767&s,f=o[h],v=h-f+32768&32767;if(f==h||l!=n.F._hash(r,s-v))return 0;for(var g=0,b=0,x=Math.min(32767,s);v<=x&&--d!=0&&f!=h;){if(g==0||r[s+g]==r[s+g-v]){var E=n.F._howLong(r,s,v);if(E>g){if(b=v,(g=E)>=c)break;v+2<E&&(E=v+2);for(var S=0,P=0;P<E-2;P++){var F=s-v+P+32768&32767,M=F-o[F]+32768&32767;M>S&&(S=M,f=F)}}}v+=(h=f)-(f=o[h])+32768&32767}return g<<16|b},n.F._howLong=function(r,s,o){if(r[s]!=r[s-o]||r[s+1]!=r[s+1-o]||r[s+2]!=r[s+2-o])return 0;var l=s,c=Math.min(r.length,s+258);for(s+=3;s<c&&r[s]==r[s-o];)s++;return s-l},n.F._hash=function(r,s){return(r[s]<<8|r[s+1])+(r[s+2]<<4)&65535},n.saved=0,n.F._writeBlock=function(r,s,o,l,c,d,h,f,v){var g,b,x,E,S,P,F,M,$,H=n.F.U,q=n.F._putsF,T=n.F._putsE;H.lhst[256]++,b=(g=n.F.getTrees())[0],x=g[1],E=g[2],S=g[3],P=g[4],F=g[5],M=g[6],$=g[7];var D=32+(v+3&7?8-(v+3&7):0)+(h<<3),J=l+n.F.contSize(H.fltree,H.lhst)+n.F.contSize(H.fdtree,H.dhst),I=l+n.F.contSize(H.ltree,H.lhst)+n.F.contSize(H.dtree,H.dhst);I+=14+3*F+n.F.contSize(H.itree,H.ihst)+(2*H.ihst[16]+3*H.ihst[17]+7*H.ihst[18]);for(var O=0;O<286;O++)H.lhst[O]=0;for(O=0;O<30;O++)H.dhst[O]=0;for(O=0;O<19;O++)H.ihst[O]=0;var X=D<J&&D<I?0:J<I?1:2;if(q(f,v,r),q(f,v+1,X),v+=3,X==0){for(;7&v;)v++;v=n.F._copyExact(c,d,h,f,v)}else{var U,ce;if(X==1&&(U=H.fltree,ce=H.fdtree),X==2){n.F.makeCodes(H.ltree,b),n.F.revCodes(H.ltree,b),n.F.makeCodes(H.dtree,x),n.F.revCodes(H.dtree,x),n.F.makeCodes(H.itree,E),n.F.revCodes(H.itree,E),U=H.ltree,ce=H.dtree,T(f,v,S-257),T(f,v+=5,P-1),T(f,v+=5,F-4),v+=4;for(var B=0;B<F;B++)T(f,v+3*B,H.itree[1+(H.ordr[B]<<1)]);v+=3*F,v=n.F._codeTiny(M,H.itree,f,v),v=n.F._codeTiny($,H.itree,f,v)}for(var j=d,G=0;G<o;G+=2){for(var ie=s[G],le=ie>>>23,ue=j+(8388607&ie);j<ue;)v=n.F._writeLit(c[j++],U,f,v);if(le!=0){var k=s[G+1],Y=k>>16,te=k>>8&255,re=255&k;T(f,v=n.F._writeLit(257+te,U,f,v),le-H.of0[te]),v+=H.exb[te],q(f,v=n.F._writeLit(re,ce,f,v),Y-H.df0[re]),v+=H.dxb[re],j+=le}}v=n.F._writeLit(256,U,f,v)}return v},n.F._copyExact=function(r,s,o,l,c){var d=c>>>3;return l[d]=o,l[d+1]=o>>>8,l[d+2]=255-l[d],l[d+3]=255-l[d+1],d+=4,l.set(new Uint8Array(r.buffer,s,o),d),c+(o+4<<3)},n.F.getTrees=function(){for(var r=n.F.U,s=n.F._hufTree(r.lhst,r.ltree,15),o=n.F._hufTree(r.dhst,r.dtree,15),l=[],c=n.F._lenCodes(r.ltree,l),d=[],h=n.F._lenCodes(r.dtree,d),f=0;f<l.length;f+=2)r.ihst[l[f]]++;for(f=0;f<d.length;f+=2)r.ihst[d[f]]++;for(var v=n.F._hufTree(r.ihst,r.itree,7),g=19;g>4&&r.itree[1+(r.ordr[g-1]<<1)]==0;)g--;return[s,o,v,c,h,g,l,d]},n.F.getSecond=function(r){for(var s=[],o=0;o<r.length;o+=2)s.push(r[o+1]);return s},n.F.nonZero=function(r){for(var s="",o=0;o<r.length;o+=2)r[o+1]!=0&&(s+=(o>>1)+",");return s},n.F.contSize=function(r,s){for(var o=0,l=0;l<s.length;l++)o+=s[l]*r[1+(l<<1)];return o},n.F._codeTiny=function(r,s,o,l){for(var c=0;c<r.length;c+=2){var d=r[c],h=r[c+1];l=n.F._writeLit(d,s,o,l);var f=d==16?2:d==17?3:7;d>15&&(n.F._putsE(o,l,h,f),l+=f)}return l},n.F._lenCodes=function(r,s){for(var o=r.length;o!=2&&r[o-1]==0;)o-=2;for(var l=0;l<o;l+=2){var c=r[l+1],d=l+3<o?r[l+3]:-1,h=l+5<o?r[l+5]:-1,f=l==0?-1:r[l-1];if(c==0&&d==c&&h==c){for(var v=l+5;v+2<o&&r[v+2]==c;)v+=2;(g=Math.min(v+1-l>>>1,138))<11?s.push(17,g-3):s.push(18,g-11),l+=2*g-2}else if(c==f&&d==c&&h==c){for(v=l+5;v+2<o&&r[v+2]==c;)v+=2;var g=Math.min(v+1-l>>>1,6);s.push(16,g-3),l+=2*g-2}else s.push(c,0)}return o>>>1},n.F._hufTree=function(r,s,o){var l=[],c=r.length,d=s.length,h=0;for(h=0;h<d;h+=2)s[h]=0,s[h+1]=0;for(h=0;h<c;h++)r[h]!=0&&l.push({lit:h,f:r[h]});var f=l.length,v=l.slice(0);if(f==0)return 0;if(f==1){var g=l[0].lit;return v=g==0?1:0,s[1+(g<<1)]=1,s[1+(v<<1)]=1,1}l.sort(function(M,$){return M.f-$.f});var b=l[0],x=l[1],E=0,S=1,P=2;for(l[0]={lit:-1,f:b.f+x.f,l:b,r:x,d:0};S!=f-1;)b=E!=S&&(P==f||l[E].f<l[P].f)?l[E++]:l[P++],x=E!=S&&(P==f||l[E].f<l[P].f)?l[E++]:l[P++],l[S++]={lit:-1,f:b.f+x.f,l:b,r:x};var F=n.F.setDepth(l[S-1],0);for(F>o&&(n.F.restrictDepth(v,o,F),F=o),h=0;h<f;h++)s[1+(v[h].lit<<1)]=v[h].d;return F},n.F.setDepth=function(r,s){return r.lit!=-1?(r.d=s,s):Math.max(n.F.setDepth(r.l,s+1),n.F.setDepth(r.r,s+1))},n.F.restrictDepth=function(r,s,o){var l=0,c=1<<o-s,d=0;for(r.sort(function(f,v){return v.d==f.d?f.f-v.f:v.d-f.d}),l=0;l<r.length&&r[l].d>s;l++){var h=r[l].d;r[l].d=s,d+=c-(1<<o-h)}for(d>>>=o-s;d>0;)(h=r[l].d)<s?(r[l].d++,d-=1<<s-h-1):l++;for(;l>=0;l--)r[l].d==s&&d<0&&(r[l].d--,d++);d!=0&&console.log("debt left")},n.F._goodIndex=function(r,s){var o=0;return s[16|o]<=r&&(o|=16),s[8|o]<=r&&(o|=8),s[4|o]<=r&&(o|=4),s[2|o]<=r&&(o|=2),s[1|o]<=r&&(o|=1),o},n.F._writeLit=function(r,s,o,l){return n.F._putsF(o,l,s[r<<1]),l+s[1+(r<<1)]},n.F.inflate=function(r,s){var o=Uint8Array;if(r[0]==3&&r[1]==0)return s||new o(0);var l=n.F,c=l._bitsF,d=l._bitsE,h=l._decodeTiny,f=l.makeCodes,v=l.codes2map,g=l._get17,b=l.U,x=s==null;x&&(s=new o(r.length>>>2<<3));for(var E,S,P=0,F=0,M=0,$=0,H=0,q=0,T=0,D=0,J=0;P==0;)if(P=c(r,J,1),F=c(r,J+1,2),J+=3,F!=0){if(x&&(s=n.F._check(s,D+(1<<17))),F==1&&(E=b.flmap,S=b.fdmap,q=511,T=31),F==2){M=d(r,J,5)+257,$=d(r,J+5,5)+1,H=d(r,J+10,4)+4,J+=14;for(var I=0;I<38;I+=2)b.itree[I]=0,b.itree[I+1]=0;var O=1;for(I=0;I<H;I++){var X=d(r,J+3*I,3);b.itree[1+(b.ordr[I]<<1)]=X,X>O&&(O=X)}J+=3*H,f(b.itree,O),v(b.itree,O,b.imap),E=b.lmap,S=b.dmap,J=h(b.imap,(1<<O)-1,M+$,r,J,b.ttree);var U=l._copyOut(b.ttree,0,M,b.ltree);q=(1<<U)-1;var ce=l._copyOut(b.ttree,M,$,b.dtree);T=(1<<ce)-1,f(b.ltree,U),v(b.ltree,U,E),f(b.dtree,ce),v(b.dtree,ce,S)}for(;;){var B=E[g(r,J)&q];J+=15&B;var j=B>>>4;if(!(j>>>8))s[D++]=j;else{if(j==256)break;var G=D+j-254;if(j>264){var ie=b.ldef[j-257];G=D+(ie>>>3)+d(r,J,7&ie),J+=7&ie}var le=S[g(r,J)&T];J+=15&le;var ue=le>>>4,k=b.ddef[ue],Y=(k>>>4)+c(r,J,15&k);for(J+=15&k,x&&(s=n.F._check(s,D+(1<<17)));D<G;)s[D]=s[D++-Y],s[D]=s[D++-Y],s[D]=s[D++-Y],s[D]=s[D++-Y];D=G}}}else{7&J&&(J+=8-(7&J));var te=4+(J>>>3),re=r[te-4]|r[te-3]<<8;x&&(s=n.F._check(s,D+re)),s.set(new o(r.buffer,r.byteOffset+te,re),D),J=te+re<<3,D+=re}return s.length==D?s:s.slice(0,D)},n.F._check=function(r,s){var o=r.length;if(s<=o)return r;var l=new Uint8Array(Math.max(o<<1,s));return l.set(r,0),l},n.F._decodeTiny=function(r,s,o,l,c,d){for(var h=n.F._bitsE,f=n.F._get17,v=0;v<o;){var g=r[f(l,c)&s];c+=15&g;var b=g>>>4;if(b<=15)d[v]=b,v++;else{var x=0,E=0;b==16?(E=3+h(l,c,2),c+=2,x=d[v-1]):b==17?(E=3+h(l,c,3),c+=3):b==18&&(E=11+h(l,c,7),c+=7);for(var S=v+E;v<S;)d[v]=x,v++}}return c},n.F._copyOut=function(r,s,o,l){for(var c=0,d=0,h=l.length>>>1;d<o;){var f=r[d+s];l[d<<1]=0,l[1+(d<<1)]=f,f>c&&(c=f),d++}for(;d<h;)l[d<<1]=0,l[1+(d<<1)]=0,d++;return c},n.F.makeCodes=function(r,s){for(var o,l,c,d,h=n.F.U,f=r.length,v=h.bl_count,g=0;g<=s;g++)v[g]=0;for(g=1;g<f;g+=2)v[r[g]]++;var b=h.next_code;for(o=0,v[0]=0,l=1;l<=s;l++)o=o+v[l-1]<<1,b[l]=o;for(c=0;c<f;c+=2)(d=r[c+1])!=0&&(r[c]=b[d],b[d]++)},n.F.codes2map=function(r,s,o){for(var l=r.length,c=n.F.U.rev15,d=0;d<l;d+=2)if(r[d+1]!=0)for(var h=d>>1,f=r[d+1],v=h<<4|f,g=s-f,b=r[d]<<g,x=b+(1<<g);b!=x;)o[c[b]>>>15-s]=v,b++},n.F.revCodes=function(r,s){for(var o=n.F.U.rev15,l=15-s,c=0;c<r.length;c+=2){var d=r[c]<<s-r[c+1];r[c]=o[d]>>>l}},n.F._putsE=function(r,s,o){o<<=7&s;var l=s>>>3;r[l]|=o,r[l+1]|=o>>>8},n.F._putsF=function(r,s,o){o<<=7&s;var l=s>>>3;r[l]|=o,r[l+1]|=o>>>8,r[l+2]|=o>>>16},n.F._bitsE=function(r,s,o){return(r[s>>>3]|r[1+(s>>>3)]<<8)>>>(7&s)&(1<<o)-1},n.F._bitsF=function(r,s,o){return(r[s>>>3]|r[1+(s>>>3)]<<8|r[2+(s>>>3)]<<16)>>>(7&s)&(1<<o)-1},n.F._get17=function(r,s){return(r[s>>>3]|r[1+(s>>>3)]<<8|r[2+(s>>>3)]<<16)>>>(7&s)},n.F._get25=function(r,s){return(r[s>>>3]|r[1+(s>>>3)]<<8|r[2+(s>>>3)]<<16|r[3+(s>>>3)]<<24)>>>(7&s)},n.F.U=(e=Uint16Array,t=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new t(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new t(286),dhst:new t(30),ihst:new t(19),lits:new t(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var r=n.F.U,s=0;s<32768;s++){var o=s;o=(4278255360&(o=(4042322160&(o=(3435973836&(o=(2863311530&o)>>>1|(1431655765&o)<<1))>>>2|(858993459&o)<<2))>>>4|(252645135&o)<<4))>>>8|(16711935&o)<<8,r.rev15[s]=(o>>>16|o<<16)>>>17}function l(c,d,h){for(;d--!=0;)c.push(0,h)}for(s=0;s<32;s++)r.ldef[s]=r.of0[s]<<3|r.exb[s],r.ddef[s]=r.df0[s]<<4|r.dxb[s];l(r.fltree,144,8),l(r.fltree,112,9),l(r.fltree,24,7),l(r.fltree,8,8),n.F.makeCodes(r.fltree,9),n.F.codes2map(r.fltree,9,r.flmap),n.F.revCodes(r.fltree,9),l(r.fdtree,32,5),n.F.makeCodes(r.fdtree,5),n.F.codes2map(r.fdtree,5,r.fdmap),n.F.revCodes(r.fdtree,5),l(r.itree,19,0),l(r.ltree,286,0),l(r.dtree,30,0),l(r.ttree,320,0)}()})();var iL=tL({__proto__:null,default:k5},[k5]);const To=function(){var i={nextZero(h,f){for(;h[f]!=0;)f++;return f},readUshort:(h,f)=>h[f]<<8|h[f+1],writeUshort(h,f,v){h[f]=v>>8&255,h[f+1]=255&v},readUint:(h,f)=>16777216*h[f]+(h[f+1]<<16|h[f+2]<<8|h[f+3]),writeUint(h,f,v){h[f]=v>>24&255,h[f+1]=v>>16&255,h[f+2]=v>>8&255,h[f+3]=255&v},readASCII(h,f,v){let g="";for(let b=0;b<v;b++)g+=String.fromCharCode(h[f+b]);return g},writeASCII(h,f,v){for(let g=0;g<v.length;g++)h[f+g]=v.charCodeAt(g)},readBytes(h,f,v){const g=[];for(let b=0;b<v;b++)g.push(h[f+b]);return g},pad:h=>h.length<2?`0${h}`:h,readUTF8(h,f,v){let g,b="";for(let x=0;x<v;x++)b+=`%${i.pad(h[f+x].toString(16))}`;try{g=decodeURIComponent(b)}catch{return i.readASCII(h,f,v)}return g}};function e(h,f,v,g){const b=f*v,x=s(g),E=Math.ceil(f*x/8),S=new Uint8Array(4*b),P=new Uint32Array(S.buffer),{ctype:F}=g,{depth:M}=g,$=i.readUshort;if(F==6){const ie=b<<2;if(M==8)for(var H=0;H<ie;H+=4)S[H]=h[H],S[H+1]=h[H+1],S[H+2]=h[H+2],S[H+3]=h[H+3];if(M==16)for(H=0;H<ie;H++)S[H]=h[H<<1]}else if(F==2){const ie=g.tabs.tRNS;if(ie==null){if(M==8)for(H=0;H<b;H++){var q=3*H;P[H]=255<<24|h[q+2]<<16|h[q+1]<<8|h[q]}if(M==16)for(H=0;H<b;H++)q=6*H,P[H]=255<<24|h[q+4]<<16|h[q+2]<<8|h[q]}else{var T=ie[0];const le=ie[1],ue=ie[2];if(M==8)for(H=0;H<b;H++){var D=H<<2;q=3*H,P[H]=255<<24|h[q+2]<<16|h[q+1]<<8|h[q],h[q]==T&&h[q+1]==le&&h[q+2]==ue&&(S[D+3]=0)}if(M==16)for(H=0;H<b;H++)D=H<<2,q=6*H,P[H]=255<<24|h[q+4]<<16|h[q+2]<<8|h[q],$(h,q)==T&&$(h,q+2)==le&&$(h,q+4)==ue&&(S[D+3]=0)}}else if(F==3){const ie=g.tabs.PLTE,le=g.tabs.tRNS,ue=le?le.length:0;if(M==1)for(var J=0;J<v;J++){var I=J*E,O=J*f;for(H=0;H<f;H++){D=O+H<<2;var X=3*(U=h[I+(H>>3)]>>7-((7&H)<<0)&1);S[D]=ie[X],S[D+1]=ie[X+1],S[D+2]=ie[X+2],S[D+3]=U<ue?le[U]:255}}if(M==2)for(J=0;J<v;J++)for(I=J*E,O=J*f,H=0;H<f;H++)D=O+H<<2,X=3*(U=h[I+(H>>2)]>>6-((3&H)<<1)&3),S[D]=ie[X],S[D+1]=ie[X+1],S[D+2]=ie[X+2],S[D+3]=U<ue?le[U]:255;if(M==4)for(J=0;J<v;J++)for(I=J*E,O=J*f,H=0;H<f;H++)D=O+H<<2,X=3*(U=h[I+(H>>1)]>>4-((1&H)<<2)&15),S[D]=ie[X],S[D+1]=ie[X+1],S[D+2]=ie[X+2],S[D+3]=U<ue?le[U]:255;if(M==8)for(H=0;H<b;H++){var U;D=H<<2,X=3*(U=h[H]),S[D]=ie[X],S[D+1]=ie[X+1],S[D+2]=ie[X+2],S[D+3]=U<ue?le[U]:255}}else if(F==4){if(M==8)for(H=0;H<b;H++){D=H<<2;var ce=h[B=H<<1];S[D]=ce,S[D+1]=ce,S[D+2]=ce,S[D+3]=h[B+1]}if(M==16)for(H=0;H<b;H++){var B;D=H<<2,ce=h[B=H<<2],S[D]=ce,S[D+1]=ce,S[D+2]=ce,S[D+3]=h[B+2]}}else if(F==0)for(T=g.tabs.tRNS?g.tabs.tRNS:-1,J=0;J<v;J++){const ie=J*E,le=J*f;if(M==1)for(var j=0;j<f;j++){var G=(ce=255*(h[ie+(j>>>3)]>>>7-(7&j)&1))==255*T?0:255;P[le+j]=G<<24|ce<<16|ce<<8|ce}else if(M==2)for(j=0;j<f;j++)G=(ce=85*(h[ie+(j>>>2)]>>>6-((3&j)<<1)&3))==85*T?0:255,P[le+j]=G<<24|ce<<16|ce<<8|ce;else if(M==4)for(j=0;j<f;j++)G=(ce=17*(h[ie+(j>>>1)]>>>4-((1&j)<<2)&15))==17*T?0:255,P[le+j]=G<<24|ce<<16|ce<<8|ce;else if(M==8)for(j=0;j<f;j++)G=(ce=h[ie+j])==T?0:255,P[le+j]=G<<24|ce<<16|ce<<8|ce;else if(M==16)for(j=0;j<f;j++)ce=h[ie+(j<<1)],G=$(h,ie+(j<<1))==T?0:255,P[le+j]=G<<24|ce<<16|ce<<8|ce}return S}function t(h,f,v,g){const b=s(h),x=Math.ceil(v*b/8),E=new Uint8Array((x+1+h.interlace)*g);return f=h.tabs.CgBI?r(f,E):n(f,E),h.interlace==0?f=o(f,h,0,v,g):h.interlace==1&&(f=function(P,F){const M=F.width,$=F.height,H=s(F),q=H>>3,T=Math.ceil(M*H/8),D=new Uint8Array($*T);let J=0;const I=[0,0,4,0,2,0,1],O=[0,4,0,2,0,1,0],X=[8,8,8,4,4,2,2],U=[8,8,4,4,2,2,1];let ce=0;for(;ce<7;){const j=X[ce],G=U[ce];let ie=0,le=0,ue=I[ce];for(;ue<$;)ue+=j,le++;let k=O[ce];for(;k<M;)k+=G,ie++;const Y=Math.ceil(ie*H/8);o(P,F,J,ie,le);let te=0,re=I[ce];for(;re<$;){let de=O[ce],me=J+te*Y<<3;for(;de<M;){var B;if(H==1&&(B=(B=P[me>>3])>>7-(7&me)&1,D[re*T+(de>>3)]|=B<<7-((7&de)<<0)),H==2&&(B=(B=P[me>>3])>>6-(7&me)&3,D[re*T+(de>>2)]|=B<<6-((3&de)<<1)),H==4&&(B=(B=P[me>>3])>>4-(7&me)&15,D[re*T+(de>>1)]|=B<<4-((1&de)<<2)),H>=8){const we=re*T+de*q;for(let _e=0;_e<q;_e++)D[we+_e]=P[(me>>3)+_e]}me+=H,de+=G}te++,re+=j}ie*le!=0&&(J+=le*(1+Y)),ce+=1}return D}(f,h)),f}function n(h,f){return r(new Uint8Array(h.buffer,2,h.length-6),f)}var r=function(){const h={H:{}};return h.H.N=function(f,v){const g=Uint8Array;let b,x,E=0,S=0,P=0,F=0,M=0,$=0,H=0,q=0,T=0;if(f[0]==3&&f[1]==0)return v||new g(0);const D=h.H,J=D.b,I=D.e,O=D.R,X=D.n,U=D.A,ce=D.Z,B=D.m,j=v==null;for(j&&(v=new g(f.length>>>2<<5));E==0;)if(E=J(f,T,1),S=J(f,T+1,2),T+=3,S!=0){if(j&&(v=h.H.W(v,q+(1<<17))),S==1&&(b=B.J,x=B.h,$=511,H=31),S==2){P=I(f,T,5)+257,F=I(f,T+5,5)+1,M=I(f,T+10,4)+4,T+=14;let ie=1;for(var G=0;G<38;G+=2)B.Q[G]=0,B.Q[G+1]=0;for(G=0;G<M;G++){const k=I(f,T+3*G,3);B.Q[1+(B.X[G]<<1)]=k,k>ie&&(ie=k)}T+=3*M,X(B.Q,ie),U(B.Q,ie,B.u),b=B.w,x=B.d,T=O(B.u,(1<<ie)-1,P+F,f,T,B.v);const le=D.V(B.v,0,P,B.C);$=(1<<le)-1;const ue=D.V(B.v,P,F,B.D);H=(1<<ue)-1,X(B.C,le),U(B.C,le,b),X(B.D,ue),U(B.D,ue,x)}for(;;){const ie=b[ce(f,T)&$];T+=15&ie;const le=ie>>>4;if(!(le>>>8))v[q++]=le;else{if(le==256)break;{let ue=q+le-254;if(le>264){const de=B.q[le-257];ue=q+(de>>>3)+I(f,T,7&de),T+=7&de}const k=x[ce(f,T)&H];T+=15&k;const Y=k>>>4,te=B.c[Y],re=(te>>>4)+J(f,T,15&te);for(T+=15&te;q<ue;)v[q]=v[q++-re],v[q]=v[q++-re],v[q]=v[q++-re],v[q]=v[q++-re];q=ue}}}}else{7&T&&(T+=8-(7&T));const ie=4+(T>>>3),le=f[ie-4]|f[ie-3]<<8;j&&(v=h.H.W(v,q+le)),v.set(new g(f.buffer,f.byteOffset+ie,le),q),T=ie+le<<3,q+=le}return v.length==q?v:v.slice(0,q)},h.H.W=function(f,v){const g=f.length;if(v<=g)return f;const b=new Uint8Array(g<<1);return b.set(f,0),b},h.H.R=function(f,v,g,b,x,E){const S=h.H.e,P=h.H.Z;let F=0;for(;F<g;){const M=f[P(b,x)&v];x+=15&M;const $=M>>>4;if($<=15)E[F]=$,F++;else{let H=0,q=0;$==16?(q=3+S(b,x,2),x+=2,H=E[F-1]):$==17?(q=3+S(b,x,3),x+=3):$==18&&(q=11+S(b,x,7),x+=7);const T=F+q;for(;F<T;)E[F]=H,F++}}return x},h.H.V=function(f,v,g,b){let x=0,E=0;const S=b.length>>>1;for(;E<g;){const P=f[E+v];b[E<<1]=0,b[1+(E<<1)]=P,P>x&&(x=P),E++}for(;E<S;)b[E<<1]=0,b[1+(E<<1)]=0,E++;return x},h.H.n=function(f,v){const g=h.H.m,b=f.length;let x,E,S,P;const F=g.j;for(var M=0;M<=v;M++)F[M]=0;for(M=1;M<b;M+=2)F[f[M]]++;const $=g.K;for(x=0,F[0]=0,E=1;E<=v;E++)x=x+F[E-1]<<1,$[E]=x;for(S=0;S<b;S+=2)P=f[S+1],P!=0&&(f[S]=$[P],$[P]++)},h.H.A=function(f,v,g){const b=f.length,x=h.H.m.r;for(let E=0;E<b;E+=2)if(f[E+1]!=0){const S=E>>1,P=f[E+1],F=S<<4|P,M=v-P;let $=f[E]<<M;const H=$+(1<<M);for(;$!=H;)g[x[$]>>>15-v]=F,$++}},h.H.l=function(f,v){const g=h.H.m.r,b=15-v;for(let x=0;x<f.length;x+=2){const E=f[x]<<v-f[x+1];f[x]=g[E]>>>b}},h.H.M=function(f,v,g){g<<=7&v;const b=v>>>3;f[b]|=g,f[b+1]|=g>>>8},h.H.I=function(f,v,g){g<<=7&v;const b=v>>>3;f[b]|=g,f[b+1]|=g>>>8,f[b+2]|=g>>>16},h.H.e=function(f,v,g){return(f[v>>>3]|f[1+(v>>>3)]<<8)>>>(7&v)&(1<<g)-1},h.H.b=function(f,v,g){return(f[v>>>3]|f[1+(v>>>3)]<<8|f[2+(v>>>3)]<<16)>>>(7&v)&(1<<g)-1},h.H.Z=function(f,v){return(f[v>>>3]|f[1+(v>>>3)]<<8|f[2+(v>>>3)]<<16)>>>(7&v)},h.H.i=function(f,v){return(f[v>>>3]|f[1+(v>>>3)]<<8|f[2+(v>>>3)]<<16|f[3+(v>>>3)]<<24)>>>(7&v)},h.H.m=function(){const f=Uint16Array,v=Uint32Array;return{K:new f(16),j:new f(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new f(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new v(32),J:new f(512),_:[],h:new f(32),$:[],w:new f(32768),C:[],v:[],d:new f(32768),D:[],u:new f(512),Q:[],r:new f(32768),s:new v(286),Y:new v(30),a:new v(19),t:new v(15e3),k:new f(65536),g:new f(32768)}}(),function(){const f=h.H.m;for(var v=0;v<32768;v++){let b=v;b=(2863311530&b)>>>1|(1431655765&b)<<1,b=(3435973836&b)>>>2|(858993459&b)<<2,b=(4042322160&b)>>>4|(252645135&b)<<4,b=(4278255360&b)>>>8|(16711935&b)<<8,f.r[v]=(b>>>16|b<<16)>>>17}function g(b,x,E){for(;x--!=0;)b.push(0,E)}for(v=0;v<32;v++)f.q[v]=f.S[v]<<3|f.T[v],f.c[v]=f.p[v]<<4|f.z[v];g(f._,144,8),g(f._,112,9),g(f._,24,7),g(f._,8,8),h.H.n(f._,9),h.H.A(f._,9,f.J),h.H.l(f._,9),g(f.$,32,5),h.H.n(f.$,5),h.H.A(f.$,5,f.h),h.H.l(f.$,5),g(f.Q,19,0),g(f.C,286,0),g(f.D,30,0),g(f.v,320,0)}(),h.H.N}();function s(h){return[1,null,3,1,2,null,4][h.ctype]*h.depth}function o(h,f,v,g,b){let x=s(f);const E=Math.ceil(g*x/8);let S,P;x=Math.ceil(x/8);let F=h[v],M=0;if(F>1&&(h[v]=[0,0,1][F-2]),F==3)for(M=x;M<E;M++)h[M+1]=h[M+1]+(h[M+1-x]>>>1)&255;for(let $=0;$<b;$++)if(S=v+$*E,P=S+$+1,F=h[P-1],M=0,F==0)for(;M<E;M++)h[S+M]=h[P+M];else if(F==1){for(;M<x;M++)h[S+M]=h[P+M];for(;M<E;M++)h[S+M]=h[P+M]+h[S+M-x]}else if(F==2)for(;M<E;M++)h[S+M]=h[P+M]+h[S+M-E];else if(F==3){for(;M<x;M++)h[S+M]=h[P+M]+(h[S+M-E]>>>1);for(;M<E;M++)h[S+M]=h[P+M]+(h[S+M-E]+h[S+M-x]>>>1)}else{for(;M<x;M++)h[S+M]=h[P+M]+l(0,h[S+M-E],0);for(;M<E;M++)h[S+M]=h[P+M]+l(h[S+M-x],h[S+M-E],h[S+M-x-E])}return h}function l(h,f,v){const g=h+f-v,b=g-h,x=g-f,E=g-v;return b*b<=x*x&&b*b<=E*E?h:x*x<=E*E?f:v}function c(h,f,v){v.width=i.readUint(h,f),f+=4,v.height=i.readUint(h,f),f+=4,v.depth=h[f],f++,v.ctype=h[f],f++,v.compress=h[f],f++,v.filter=h[f],f++,v.interlace=h[f],f++}function d(h,f,v,g,b,x,E,S,P){const F=Math.min(f,b),M=Math.min(v,x);let $=0,H=0;for(let ce=0;ce<M;ce++)for(let B=0;B<F;B++)if(E>=0&&S>=0?($=ce*f+B<<2,H=(S+ce)*b+E+B<<2):($=(-S+ce)*f-E+B<<2,H=ce*b+B<<2),P==0)g[H]=h[$],g[H+1]=h[$+1],g[H+2]=h[$+2],g[H+3]=h[$+3];else if(P==1){var q=h[$+3]*.00392156862745098,T=h[$]*q,D=h[$+1]*q,J=h[$+2]*q,I=g[H+3]*(1/255),O=g[H]*I,X=g[H+1]*I,U=g[H+2]*I;const j=1-q,G=q+I*j,ie=G==0?0:1/G;g[H+3]=255*G,g[H+0]=(T+O*j)*ie,g[H+1]=(D+X*j)*ie,g[H+2]=(J+U*j)*ie}else if(P==2)q=h[$+3],T=h[$],D=h[$+1],J=h[$+2],I=g[H+3],O=g[H],X=g[H+1],U=g[H+2],q==I&&T==O&&D==X&&J==U?(g[H]=0,g[H+1]=0,g[H+2]=0,g[H+3]=0):(g[H]=T,g[H+1]=D,g[H+2]=J,g[H+3]=q);else if(P==3){if(q=h[$+3],T=h[$],D=h[$+1],J=h[$+2],I=g[H+3],O=g[H],X=g[H+1],U=g[H+2],q==I&&T==O&&D==X&&J==U)continue;if(q<220&&I>20)return!1}return!0}return{decode:function(f){const v=new Uint8Array(f);let g=8;const b=i,x=b.readUshort,E=b.readUint,S={tabs:{},frames:[]},P=new Uint8Array(v.length);let F,M=0,$=0;const H=[137,80,78,71,13,10,26,10];for(var q=0;q<8;q++)if(v[q]!=H[q])throw"The input is not a PNG file!";for(;g<v.length;){const ce=b.readUint(v,g);g+=4;const B=b.readASCII(v,g,4);if(g+=4,B=="IHDR")c(v,g,S);else if(B=="iCCP"){for(var T=g;v[T]!=0;)T++;b.readASCII(v,g,T-g),v[T+1];const j=v.slice(T+2,g+ce);let G=null;try{G=n(j)}catch{G=r(j)}S.tabs[B]=G}else if(B=="CgBI")S.tabs[B]=v.slice(g,g+4);else if(B=="IDAT"){for(q=0;q<ce;q++)P[M+q]=v[g+q];M+=ce}else if(B=="acTL")S.tabs[B]={num_frames:E(v,g),num_plays:E(v,g+4)},F=new Uint8Array(v.length);else if(B=="fcTL"){$!=0&&((U=S.frames[S.frames.length-1]).data=t(S,F.slice(0,$),U.rect.width,U.rect.height),$=0);const j={x:E(v,g+12),y:E(v,g+16),width:E(v,g+4),height:E(v,g+8)};let G=x(v,g+22);G=x(v,g+20)/(G==0?100:G);const ie={rect:j,delay:Math.round(1e3*G),dispose:v[g+24],blend:v[g+25]};S.frames.push(ie)}else if(B=="fdAT"){for(q=0;q<ce-4;q++)F[$+q]=v[g+q+4];$+=ce-4}else if(B=="pHYs")S.tabs[B]=[b.readUint(v,g),b.readUint(v,g+4),v[g+8]];else if(B=="cHRM")for(S.tabs[B]=[],q=0;q<8;q++)S.tabs[B].push(b.readUint(v,g+4*q));else if(B=="tEXt"||B=="zTXt"){S.tabs[B]==null&&(S.tabs[B]={});var D=b.nextZero(v,g),J=b.readASCII(v,g,D-g),I=g+ce-D-1;if(B=="tEXt")X=b.readASCII(v,D+1,I);else{var O=n(v.slice(D+2,D+2+I));X=b.readUTF8(O,0,O.length)}S.tabs[B][J]=X}else if(B=="iTXt"){S.tabs[B]==null&&(S.tabs[B]={}),D=0,T=g,D=b.nextZero(v,T),J=b.readASCII(v,T,D-T);const j=v[T=D+1];var X;v[T+1],T+=2,D=b.nextZero(v,T),b.readASCII(v,T,D-T),T=D+1,D=b.nextZero(v,T),b.readUTF8(v,T,D-T),I=ce-((T=D+1)-g),j==0?X=b.readUTF8(v,T,I):(O=n(v.slice(T,T+I)),X=b.readUTF8(O,0,O.length)),S.tabs[B][J]=X}else if(B=="PLTE")S.tabs[B]=b.readBytes(v,g,ce);else if(B=="hIST"){const j=S.tabs.PLTE.length/3;for(S.tabs[B]=[],q=0;q<j;q++)S.tabs[B].push(x(v,g+2*q))}else if(B=="tRNS")S.ctype==3?S.tabs[B]=b.readBytes(v,g,ce):S.ctype==0?S.tabs[B]=x(v,g):S.ctype==2&&(S.tabs[B]=[x(v,g),x(v,g+2),x(v,g+4)]);else if(B=="gAMA")S.tabs[B]=b.readUint(v,g)/1e5;else if(B=="sRGB")S.tabs[B]=v[g];else if(B=="bKGD")S.ctype==0||S.ctype==4?S.tabs[B]=[x(v,g)]:S.ctype==2||S.ctype==6?S.tabs[B]=[x(v,g),x(v,g+2),x(v,g+4)]:S.ctype==3&&(S.tabs[B]=v[g]);else if(B=="IEND")break;g+=ce,b.readUint(v,g),g+=4}var U;return $!=0&&((U=S.frames[S.frames.length-1]).data=t(S,F.slice(0,$),U.rect.width,U.rect.height)),S.data=t(S,P,S.width,S.height),delete S.compress,delete S.interlace,delete S.filter,S},toRGBA8:function(f){const v=f.width,g=f.height;if(f.tabs.acTL==null)return[e(f.data,v,g,f).buffer];const b=[];f.frames[0].data==null&&(f.frames[0].data=f.data);const x=v*g*4,E=new Uint8Array(x),S=new Uint8Array(x),P=new Uint8Array(x);for(let M=0;M<f.frames.length;M++){const $=f.frames[M],H=$.rect.x,q=$.rect.y,T=$.rect.width,D=$.rect.height,J=e($.data,T,D,f);if(M!=0)for(var F=0;F<x;F++)P[F]=E[F];if($.blend==0?d(J,T,D,E,v,g,H,q,0):$.blend==1&&d(J,T,D,E,v,g,H,q,1),b.push(E.buffer.slice(0)),$.dispose!=0){if($.dispose==1)d(S,T,D,E,v,g,H,q,0);else if($.dispose==2)for(F=0;F<x;F++)E[F]=P[F]}}return b},_paeth:l,_copyTile:d,_bin:i}}();(function(){const{_copyTile:i}=To,{_bin:e}=To,t=To._paeth;var n={table:function(){const T=new Uint32Array(256);for(let D=0;D<256;D++){let J=D;for(let I=0;I<8;I++)1&J?J=3988292384^J>>>1:J>>>=1;T[D]=J}return T}(),update(T,D,J,I){for(let O=0;O<I;O++)T=n.table[255&(T^D[J+O])]^T>>>8;return T},crc:(T,D,J)=>4294967295^n.update(4294967295,T,D,J)};function r(T,D,J,I){D[J]+=T[0]*I>>4,D[J+1]+=T[1]*I>>4,D[J+2]+=T[2]*I>>4,D[J+3]+=T[3]*I>>4}function s(T){return Math.max(0,Math.min(255,T))}function o(T,D){const J=T[0]-D[0],I=T[1]-D[1],O=T[2]-D[2],X=T[3]-D[3];return J*J+I*I+O*O+X*X}function l(T,D,J,I,O,X,U){U==null&&(U=1);const ce=I.length,B=[];for(var j=0;j<ce;j++){const re=I[j];B.push([re>>>0&255,re>>>8&255,re>>>16&255,re>>>24&255])}for(j=0;j<ce;j++){let re=4294967295;for(var G=0,ie=0;ie<ce;ie++){var le=o(B[j],B[ie]);ie!=j&&le<re&&(re=le,G=ie)}}const ue=new Uint32Array(O.buffer),k=new Int16Array(D*J*4),Y=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(j=0;j<Y.length;j++)Y[j]=255*((Y[j]+.5)/16-.5);for(let re=0;re<J;re++)for(let de=0;de<D;de++){var te;j=4*(re*D+de),U!=2?te=[s(T[j]+k[j]),s(T[j+1]+k[j+1]),s(T[j+2]+k[j+2]),s(T[j+3]+k[j+3])]:(le=Y[4*(3&re)+(3&de)],te=[s(T[j]+le),s(T[j+1]+le),s(T[j+2]+le),s(T[j+3]+le)]),G=0;let me=16777215;for(ie=0;ie<ce;ie++){const je=o(te,B[ie]);je<me&&(me=je,G=ie)}const we=B[G],_e=[te[0]-we[0],te[1]-we[1],te[2]-we[2],te[3]-we[3]];U==1&&(de!=D-1&&r(_e,k,j+4,7),re!=J-1&&(de!=0&&r(_e,k,j+4*D-4,3),r(_e,k,j+4*D,5),de!=D-1&&r(_e,k,j+4*D+4,1))),X[j>>2]=G,ue[j>>2]=I[G]}}function c(T,D,J,I,O){O==null&&(O={});const{crc:X}=n,U=e.writeUint,ce=e.writeUshort,B=e.writeASCII;let j=8;const G=T.frames.length>1;let ie,le=!1,ue=33+(G?20:0);if(O.sRGB!=null&&(ue+=13),O.pHYs!=null&&(ue+=21),O.iCCP!=null&&(ie=pako.deflate(O.iCCP),ue+=21+ie.length+4),T.ctype==3){for(var k=T.plte.length,Y=0;Y<k;Y++)T.plte[Y]>>>24!=255&&(le=!0);ue+=8+3*k+4+(le?8+1*k+4:0)}for(var te=0;te<T.frames.length;te++)G&&(ue+=38),ue+=(we=T.frames[te]).cimg.length+12,te!=0&&(ue+=4);ue+=12;const re=new Uint8Array(ue),de=[137,80,78,71,13,10,26,10];for(Y=0;Y<8;Y++)re[Y]=de[Y];if(U(re,j,13),j+=4,B(re,j,"IHDR"),j+=4,U(re,j,D),j+=4,U(re,j,J),j+=4,re[j]=T.depth,j++,re[j]=T.ctype,j++,re[j]=0,j++,re[j]=0,j++,re[j]=0,j++,U(re,j,X(re,j-17,17)),j+=4,O.sRGB!=null&&(U(re,j,1),j+=4,B(re,j,"sRGB"),j+=4,re[j]=O.sRGB,j++,U(re,j,X(re,j-5,5)),j+=4),O.iCCP!=null){const _e=13+ie.length;U(re,j,_e),j+=4,B(re,j,"iCCP"),j+=4,B(re,j,"ICC profile"),j+=11,j+=2,re.set(ie,j),j+=ie.length,U(re,j,X(re,j-(_e+4),_e+4)),j+=4}if(O.pHYs!=null&&(U(re,j,9),j+=4,B(re,j,"pHYs"),j+=4,U(re,j,O.pHYs[0]),j+=4,U(re,j,O.pHYs[1]),j+=4,re[j]=O.pHYs[2],j++,U(re,j,X(re,j-13,13)),j+=4),G&&(U(re,j,8),j+=4,B(re,j,"acTL"),j+=4,U(re,j,T.frames.length),j+=4,U(re,j,O.loop!=null?O.loop:0),j+=4,U(re,j,X(re,j-12,12)),j+=4),T.ctype==3){for(U(re,j,3*(k=T.plte.length)),j+=4,B(re,j,"PLTE"),j+=4,Y=0;Y<k;Y++){const _e=3*Y,je=T.plte[Y],ze=255&je,Xe=je>>>8&255,Je=je>>>16&255;re[j+_e+0]=ze,re[j+_e+1]=Xe,re[j+_e+2]=Je}if(j+=3*k,U(re,j,X(re,j-3*k-4,3*k+4)),j+=4,le){for(U(re,j,k),j+=4,B(re,j,"tRNS"),j+=4,Y=0;Y<k;Y++)re[j+Y]=T.plte[Y]>>>24&255;j+=k,U(re,j,X(re,j-k-4,k+4)),j+=4}}let me=0;for(te=0;te<T.frames.length;te++){var we=T.frames[te];G&&(U(re,j,26),j+=4,B(re,j,"fcTL"),j+=4,U(re,j,me++),j+=4,U(re,j,we.rect.width),j+=4,U(re,j,we.rect.height),j+=4,U(re,j,we.rect.x),j+=4,U(re,j,we.rect.y),j+=4,ce(re,j,I[te]),j+=2,ce(re,j,1e3),j+=2,re[j]=we.dispose,j++,re[j]=we.blend,j++,U(re,j,X(re,j-30,30)),j+=4);const _e=we.cimg;U(re,j,(k=_e.length)+(te==0?0:4)),j+=4;const je=j;B(re,j,te==0?"IDAT":"fdAT"),j+=4,te!=0&&(U(re,j,me++),j+=4),re.set(_e,j),j+=k,U(re,j,X(re,je,j-je)),j+=4}return U(re,j,0),j+=4,B(re,j,"IEND"),j+=4,U(re,j,X(re,j-4,4)),j+=4,re.buffer}function d(T,D,J){for(let I=0;I<T.frames.length;I++){const O=T.frames[I];O.rect.width;const X=O.rect.height,U=new Uint8Array(X*O.bpl+X);O.cimg=g(O.img,X,O.bpp,O.bpl,U,D,J)}}function h(T,D,J,I,O){const X=O[0],U=O[1],ce=O[2],B=O[3],j=O[4],G=O[5];let ie=6,le=8,ue=255;for(var k=0;k<T.length;k++){const pe=new Uint8Array(T[k]);for(var Y=pe.length,te=0;te<Y;te+=4)ue&=pe[te+3]}const re=ue!=255,de=function(lt,Ze,He,We,Ge,Ke){const rt=[];for(var at=0;at<lt.length;at++){const wt=new Uint8Array(lt[at]),Qe=new Uint32Array(wt.buffer);var At;let bn=0,Ut=0,Un=Ze,tn=He,fn=We?1:0;if(at!=0){const Ei=Ke||We||at==1||rt[at-2].dispose!=0?1:2;let Qt=0,Cs=1e9;for(let pn=0;pn<Ei;pn++){var Rt=new Uint8Array(lt[at-1-pn]);const Tr=new Uint32Array(lt[at-1-pn]);let Hn=Ze,an=He,Ct=-1,Kt=-1;for(let Rn=0;Rn<He;Rn++)for(let hr=0;hr<Ze;hr++)Qe[Ft=Rn*Ze+hr]!=Tr[Ft]&&(hr<Hn&&(Hn=hr),hr>Ct&&(Ct=hr),Rn<an&&(an=Rn),Rn>Kt&&(Kt=Rn));Ct==-1&&(Hn=an=Ct=Kt=0),Ge&&((1&Hn)==1&&Hn--,(1&an)==1&&an--);const Qs=(Ct-Hn+1)*(Kt-an+1);Qs<Cs&&(Cs=Qs,Qt=pn,bn=Hn,Ut=an,Un=Ct-Hn+1,tn=Kt-an+1)}Rt=new Uint8Array(lt[at-1-Qt]),Qt==1&&(rt[at-1].dispose=2),At=new Uint8Array(Un*tn*4),i(Rt,Ze,He,At,Un,tn,-bn,-Ut,0),fn=i(wt,Ze,He,At,Un,tn,-bn,-Ut,3)?1:0,fn==1?v(wt,Ze,He,At,{x:bn,y:Ut,width:Un,height:tn}):i(wt,Ze,He,At,Un,tn,-bn,-Ut,0)}else At=wt.slice(0);rt.push({rect:{x:bn,y:Ut,width:Un,height:tn},img:At,blend:fn,dispose:0})}if(We)for(at=0;at<rt.length;at++){if((xt=rt[at]).blend==1)continue;const wt=xt.rect,Qe=rt[at-1].rect,bn=Math.min(wt.x,Qe.x),Ut=Math.min(wt.y,Qe.y),Un={x:bn,y:Ut,width:Math.max(wt.x+wt.width,Qe.x+Qe.width)-bn,height:Math.max(wt.y+wt.height,Qe.y+Qe.height)-Ut};rt[at-1].dispose=1,at-1!=0&&f(lt,Ze,He,rt,at-1,Un,Ge),f(lt,Ze,He,rt,at,Un,Ge)}let Wt=0;if(lt.length!=1)for(var Ft=0;Ft<rt.length;Ft++){var xt;Wt+=(xt=rt[Ft]).rect.width*xt.rect.height}return rt}(T,D,J,X,U,ce),me={},we=[],_e=[];if(I!=0){const pe=[];for(te=0;te<de.length;te++)pe.push(de[te].img.buffer);const lt=function(Ge){let Ke=0;for(var rt=0;rt<Ge.length;rt++)Ke+=Ge[rt].byteLength;const at=new Uint8Array(Ke);let At=0;for(rt=0;rt<Ge.length;rt++){const Rt=new Uint8Array(Ge[rt]),Wt=Rt.length;for(let Ft=0;Ft<Wt;Ft+=4){let xt=Rt[Ft],wt=Rt[Ft+1],Qe=Rt[Ft+2];const bn=Rt[Ft+3];bn==0&&(xt=wt=Qe=0),at[At+Ft]=xt,at[At+Ft+1]=wt,at[At+Ft+2]=Qe,at[At+Ft+3]=bn}At+=Wt}return at.buffer}(pe),Ze=x(lt,I);for(te=0;te<Ze.plte.length;te++)we.push(Ze.plte[te].est.rgba);let He=0;for(te=0;te<de.length;te++){const We=(ze=de[te]).img.length;var je=new Uint8Array(Ze.inds.buffer,He>>2,We>>2);_e.push(je);const Ge=new Uint8Array(Ze.abuf,He,We);G&&l(ze.img,ze.rect.width,ze.rect.height,we,Ge,je),ze.img.set(Ge),He+=We}}else for(k=0;k<de.length;k++){var ze=de[k];const pe=new Uint32Array(ze.img.buffer);var Xe=ze.rect.width;for(Y=pe.length,je=new Uint8Array(Y),_e.push(je),te=0;te<Y;te++){const lt=pe[te];if(te!=0&&lt==pe[te-1])je[te]=je[te-1];else if(te>Xe&&lt==pe[te-Xe])je[te]=je[te-Xe];else{let Ze=me[lt];if(Ze==null&&(me[lt]=Ze=we.length,we.push(lt),we.length>=300))break;je[te]=Ze}}}const Je=we.length;for(Je<=256&&j==0&&(le=Je<=2?1:Je<=4?2:Je<=16?4:8,le=Math.max(le,B)),k=0;k<de.length;k++){(ze=de[k]).rect.x,ze.rect.y,Xe=ze.rect.width;const pe=ze.rect.height;let lt=ze.img;new Uint32Array(lt.buffer);let Ze=4*Xe,He=4;if(Je<=256&&j==0){Ze=Math.ceil(le*Xe/8);var pt=new Uint8Array(Ze*pe);const We=_e[k];for(let Ge=0;Ge<pe;Ge++){te=Ge*Ze;const Ke=Ge*Xe;if(le==8)for(var Ie=0;Ie<Xe;Ie++)pt[te+Ie]=We[Ke+Ie];else if(le==4)for(Ie=0;Ie<Xe;Ie++)pt[te+(Ie>>1)]|=We[Ke+Ie]<<4-4*(1&Ie);else if(le==2)for(Ie=0;Ie<Xe;Ie++)pt[te+(Ie>>2)]|=We[Ke+Ie]<<6-2*(3&Ie);else if(le==1)for(Ie=0;Ie<Xe;Ie++)pt[te+(Ie>>3)]|=We[Ke+Ie]<<7-1*(7&Ie)}lt=pt,ie=3,He=1}else if(re==0&&de.length==1){pt=new Uint8Array(Xe*pe*3);const We=Xe*pe;for(te=0;te<We;te++){const Ge=3*te,Ke=4*te;pt[Ge]=lt[Ke],pt[Ge+1]=lt[Ke+1],pt[Ge+2]=lt[Ke+2]}lt=pt,ie=2,He=3,Ze=3*Xe}ze.img=lt,ze.bpl=Ze,ze.bpp=He}return{ctype:ie,depth:le,plte:we,frames:de}}function f(T,D,J,I,O,X,U){const ce=Uint8Array,B=Uint32Array,j=new ce(T[O-1]),G=new B(T[O-1]),ie=O+1<T.length?new ce(T[O+1]):null,le=new ce(T[O]),ue=new B(le.buffer);let k=D,Y=J,te=-1,re=-1;for(let me=0;me<X.height;me++)for(let we=0;we<X.width;we++){const _e=X.x+we,je=X.y+me,ze=je*D+_e,Xe=ue[ze];Xe==0||I[O-1].dispose==0&&G[ze]==Xe&&(ie==null||ie[4*ze+3]!=0)||(_e<k&&(k=_e),_e>te&&(te=_e),je<Y&&(Y=je),je>re&&(re=je))}te==-1&&(k=Y=te=re=0),U&&((1&k)==1&&k--,(1&Y)==1&&Y--),X={x:k,y:Y,width:te-k+1,height:re-Y+1};const de=I[O];de.rect=X,de.blend=1,de.img=new Uint8Array(X.width*X.height*4),I[O-1].dispose==0?(i(j,D,J,de.img,X.width,X.height,-X.x,-X.y,0),v(le,D,J,de.img,X)):i(le,D,J,de.img,X.width,X.height,-X.x,-X.y,0)}function v(T,D,J,I,O){i(T,D,J,I,O.width,O.height,-O.x,-O.y,2)}function g(T,D,J,I,O,X,U){const ce=[];let B,j=[0,1,2,3,4];X!=-1?j=[X]:(D*I>5e5||J==1)&&(j=[0]),U&&(B={level:0});const G=iL;for(var ie=0;ie<j.length;ie++){for(let k=0;k<D;k++)b(O,T,k,I,J,j[ie]);ce.push(G.deflate(O,B))}let le,ue=1e9;for(ie=0;ie<ce.length;ie++)ce[ie].length<ue&&(le=ie,ue=ce[ie].length);return ce[le]}function b(T,D,J,I,O,X){const U=J*I;let ce=U+J;if(T[ce]=X,ce++,X==0)if(I<500)for(var B=0;B<I;B++)T[ce+B]=D[U+B];else T.set(new Uint8Array(D.buffer,U,I),ce);else if(X==1){for(B=0;B<O;B++)T[ce+B]=D[U+B];for(B=O;B<I;B++)T[ce+B]=D[U+B]-D[U+B-O]+256&255}else if(J==0){for(B=0;B<O;B++)T[ce+B]=D[U+B];if(X==2)for(B=O;B<I;B++)T[ce+B]=D[U+B];if(X==3)for(B=O;B<I;B++)T[ce+B]=D[U+B]-(D[U+B-O]>>1)+256&255;if(X==4)for(B=O;B<I;B++)T[ce+B]=D[U+B]-t(D[U+B-O],0,0)+256&255}else{if(X==2)for(B=0;B<I;B++)T[ce+B]=D[U+B]+256-D[U+B-I]&255;if(X==3){for(B=0;B<O;B++)T[ce+B]=D[U+B]+256-(D[U+B-I]>>1)&255;for(B=O;B<I;B++)T[ce+B]=D[U+B]+256-(D[U+B-I]+D[U+B-O]>>1)&255}if(X==4){for(B=0;B<O;B++)T[ce+B]=D[U+B]+256-t(0,D[U+B-I],0)&255;for(B=O;B<I;B++)T[ce+B]=D[U+B]+256-t(D[U+B-O],D[U+B-I],D[U+B-O-I])&255}}}function x(T,D){const J=new Uint8Array(T),I=J.slice(0),O=new Uint32Array(I.buffer),X=E(I,D),U=X[0],ce=X[1],B=J.length,j=new Uint8Array(B>>2);let G;if(J.length<2e7)for(var ie=0;ie<B;ie+=4)G=S(U,le=J[ie]*(1/255),ue=J[ie+1]*(1/255),k=J[ie+2]*(1/255),Y=J[ie+3]*(1/255)),j[ie>>2]=G.ind,O[ie>>2]=G.est.rgba;else for(ie=0;ie<B;ie+=4){var le=J[ie]*.00392156862745098,ue=J[ie+1]*(1/255),k=J[ie+2]*(1/255),Y=J[ie+3]*(1/255);for(G=U;G.left;)G=P(G.est,le,ue,k,Y)<=0?G.left:G.right;j[ie>>2]=G.ind,O[ie>>2]=G.est.rgba}return{abuf:I.buffer,inds:j,plte:ce}}function E(T,D,J){J==null&&(J=1e-4);const I=new Uint32Array(T.buffer),O={i0:0,i1:T.length,bst:null,est:null,tdst:0,left:null,right:null};O.bst=$(T,O.i0,O.i1),O.est=H(O.bst);const X=[O];for(;X.length<D;){let ce=0,B=0;for(var U=0;U<X.length;U++)X[U].est.L>ce&&(ce=X[U].est.L,B=U);if(ce<J)break;const j=X[B],G=F(T,I,j.i0,j.i1,j.est.e,j.est.eMq255);if(j.i0>=G||j.i1<=G){j.est.L=0;continue}const ie={i0:j.i0,i1:G,bst:null,est:null,tdst:0,left:null,right:null};ie.bst=$(T,ie.i0,ie.i1),ie.est=H(ie.bst);const le={i0:G,i1:j.i1,bst:null,est:null,tdst:0,left:null,right:null};for(le.bst={R:[],m:[],N:j.bst.N-ie.bst.N},U=0;U<16;U++)le.bst.R[U]=j.bst.R[U]-ie.bst.R[U];for(U=0;U<4;U++)le.bst.m[U]=j.bst.m[U]-ie.bst.m[U];le.est=H(le.bst),j.left=ie,j.right=le,X[B]=ie,X.push(le)}for(X.sort((ce,B)=>B.bst.N-ce.bst.N),U=0;U<X.length;U++)X[U].ind=U;return[O,X]}function S(T,D,J,I,O){if(T.left==null)return T.tdst=function(ie,le,ue,k,Y){const te=le-ie[0],re=ue-ie[1],de=k-ie[2],me=Y-ie[3];return te*te+re*re+de*de+me*me}(T.est.q,D,J,I,O),T;const X=P(T.est,D,J,I,O);let U=T.left,ce=T.right;X>0&&(U=T.right,ce=T.left);const B=S(U,D,J,I,O);if(B.tdst<=X*X)return B;const j=S(ce,D,J,I,O);return j.tdst<B.tdst?j:B}function P(T,D,J,I,O){const{e:X}=T;return X[0]*D+X[1]*J+X[2]*I+X[3]*O-T.eMq}function F(T,D,J,I,O,X){for(I-=4;J<I;){for(;M(T,J,O)<=X;)J+=4;for(;M(T,I,O)>X;)I-=4;if(J>=I)break;const U=D[J>>2];D[J>>2]=D[I>>2],D[I>>2]=U,J+=4,I-=4}for(;M(T,J,O)>X;)J-=4;return J+4}function M(T,D,J){return T[D]*J[0]+T[D+1]*J[1]+T[D+2]*J[2]+T[D+3]*J[3]}function $(T,D,J){const I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],O=[0,0,0,0],X=J-D>>2;for(let U=D;U<J;U+=4){const ce=T[U]*.00392156862745098,B=T[U+1]*(1/255),j=T[U+2]*(1/255),G=T[U+3]*(1/255);O[0]+=ce,O[1]+=B,O[2]+=j,O[3]+=G,I[0]+=ce*ce,I[1]+=ce*B,I[2]+=ce*j,I[3]+=ce*G,I[5]+=B*B,I[6]+=B*j,I[7]+=B*G,I[10]+=j*j,I[11]+=j*G,I[15]+=G*G}return I[4]=I[1],I[8]=I[2],I[9]=I[6],I[12]=I[3],I[13]=I[7],I[14]=I[11],{R:I,m:O,N:X}}function H(T){const{R:D}=T,{m:J}=T,{N:I}=T,O=J[0],X=J[1],U=J[2],ce=J[3],B=I==0?0:1/I,j=[D[0]-O*O*B,D[1]-O*X*B,D[2]-O*U*B,D[3]-O*ce*B,D[4]-X*O*B,D[5]-X*X*B,D[6]-X*U*B,D[7]-X*ce*B,D[8]-U*O*B,D[9]-U*X*B,D[10]-U*U*B,D[11]-U*ce*B,D[12]-ce*O*B,D[13]-ce*X*B,D[14]-ce*U*B,D[15]-ce*ce*B],G=j,ie=q;let le=[Math.random(),Math.random(),Math.random(),Math.random()],ue=0,k=0;if(I!=0)for(let te=0;te<16&&(le=ie.multVec(G,le),k=Math.sqrt(ie.dot(le,le)),le=ie.sml(1/k,le),!(te!=0&&Math.abs(k-ue)<1e-9));te++)ue=k;const Y=[O*B,X*B,U*B,ce*B];return{Cov:j,q:Y,e:le,L:ue,eMq255:ie.dot(ie.sml(255,Y),le),eMq:ie.dot(le,Y),rgba:(Math.round(255*Y[3])<<24|Math.round(255*Y[2])<<16|Math.round(255*Y[1])<<8|Math.round(255*Y[0])<<0)>>>0}}var q={multVec:(T,D)=>[T[0]*D[0]+T[1]*D[1]+T[2]*D[2]+T[3]*D[3],T[4]*D[0]+T[5]*D[1]+T[6]*D[2]+T[7]*D[3],T[8]*D[0]+T[9]*D[1]+T[10]*D[2]+T[11]*D[3],T[12]*D[0]+T[13]*D[1]+T[14]*D[2]+T[15]*D[3]],dot:(T,D)=>T[0]*D[0]+T[1]*D[1]+T[2]*D[2]+T[3]*D[3],sml:(T,D)=>[T*D[0],T*D[1],T*D[2],T*D[3]]};To.encode=function(D,J,I,O,X,U,ce){O==null&&(O=0),ce==null&&(ce=!1);const B=h(D,J,I,O,[!1,!1,!1,0,ce,!1]);return d(B,-1),c(B,J,I,X,U)},To.encodeLL=function(D,J,I,O,X,U,ce,B){const j={ctype:0+(O==1?0:2)+(X==0?0:4),depth:U,frames:[]},G=(O+X)*U,ie=G*J;for(let le=0;le<D.length;le++)j.frames.push({rect:{x:0,y:0,width:J,height:I},img:new Uint8Array(D[le]),blend:0,dispose:1,bpp:Math.ceil(G/8),bpl:Math.ceil(ie/8)});return d(j,0,!0),c(j,J,I,ce,B)},To.encode.compress=h,To.encode.dither=l,To.quantize=x,To.quantize.getKDtree=E,To.quantize.getNearest=S})();const SS={toArrayBuffer(i,e){const t=i.width,n=i.height,r=t<<2,s=i.getContext("2d").getImageData(0,0,t,n),o=new Uint32Array(s.data.buffer),l=(32*t+31)/32<<2,c=l*n,d=122+c,h=new ArrayBuffer(d),f=new DataView(h),v=1<<20;let g,b,x,E,S=v,P=0,F=0,M=0;function $(T){f.setUint16(F,T,!0),F+=2}function H(T){f.setUint32(F,T,!0),F+=4}function q(T){F+=T}$(19778),H(d),q(4),H(122),H(108),H(t),H(-n>>>0),$(1),$(32),H(3),H(c),H(2835),H(2835),q(8),H(16711680),H(65280),H(255),H(4278190080),H(1466527264),function T(){for(;P<n&&S>0;){for(E=122+P*l,g=0;g<r;)S--,b=o[M++],x=b>>>24,f.setUint32(E+g,b<<8|x),g+=4;P++}M<o.length?(S=v,setTimeout(T,SS._dly)):e(h)}()},toBlob(i,e){this.toArrayBuffer(i,t=>{e(new Blob([t],{type:"image/bmp"}))})},_dly:9};var Ys={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},sL={[Ys.CHROME]:16384,[Ys.FIREFOX]:11180,[Ys.DESKTOP_SAFARI]:16384,[Ys.IE]:8192,[Ys.IOS]:4096,[Ys.ETC]:8192};const Kb=typeof window<"u",_S=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,T5=Kb&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),aL=(Kb||_S)&&(T5&&T5.getOriginalSymbol(window,"File")||typeof File<"u"&&File),ES=(Kb||_S)&&(T5&&T5.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Qb(i,e,t=Date.now()){return new Promise(n=>{const r=i.split(","),s=r[0].match(/:(.*?);/)[1],o=globalThis.atob(r[1]);let l=o.length;const c=new Uint8Array(l);for(;l--;)c[l]=o.charCodeAt(l);const d=new Blob([c],{type:s});d.name=e,d.lastModified=t,n(d)})}function LS(i){return new Promise((e,t)=>{const n=new ES;n.onload=()=>e(n.result),n.onerror=r=>t(r),n.readAsDataURL(i)})}function CS(i){return new Promise((e,t)=>{const n=new Image;n.onload=()=>e(n),n.onerror=r=>t(r),n.src=i})}function Bd(){if(Bd.cachedResult!==void 0)return Bd.cachedResult;let i=Ys.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?i=Ys.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?i=Ys.IOS:/Safari/i.test(e)?i=Ys.DESKTOP_SAFARI:/Firefox/i.test(e)?i=Ys.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(i=Ys.IE),Bd.cachedResult=i,Bd.cachedResult}function PS(i,e){const t=Bd(),n=sL[t];let r=i,s=e,o=r*s;const l=r>s?s/r:r/s;for(;o>n*n;){const c=(n+r)/2,d=(n+s)/2;c<d?(s=d,r=d*l):(s=c*l,r=c),o=r*s}return{width:r,height:s}}function wv(i,e){let t,n;try{if(t=new OffscreenCanvas(i,e),n=t.getContext("2d"),n===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{t=document.createElement("canvas"),n=t.getContext("2d")}return t.width=i,t.height=e,[t,n]}function NS(i,e){const{width:t,height:n}=PS(i.width,i.height),[r,s]=wv(t,n);return e&&/jpe?g/.test(e)&&(s.fillStyle="white",s.fillRect(0,0,r.width,r.height)),s.drawImage(i,0,0,r.width,r.height),r}function G2(){return G2.cachedResult!==void 0||(G2.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),G2.cachedResult}function I5(i,e={}){return new Promise(function(t,n){let r,s;var o=function(){try{return s=NS(r,e.fileType||i.type),t([r,s])}catch(c){return n(c)}},l=function(c){try{var d=function(h){try{throw h}catch(f){return n(f)}};try{let h;return LS(i).then(function(f){try{return h=f,CS(h).then(function(v){try{return r=v,function(){try{return o()}catch(g){return n(g)}}()}catch(g){return d(g)}},d)}catch(v){return d(v)}},d)}catch(h){d(h)}}catch(h){return n(h)}};try{if(G2()||[Ys.DESKTOP_SAFARI,Ys.MOBILE_SAFARI].includes(Bd()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(i).then(function(c){try{return r=c,o()}catch{return l()}},l)}catch{l()}})}function R5(i,e,t,n,r=1){return new Promise(function(s,o){let l;if(e==="image/png"){let d,h,f;return d=i.getContext("2d"),{data:h}=d.getImageData(0,0,i.width,i.height),f=To.encode([h.buffer],i.width,i.height,4096*r),l=new Blob([f],{type:e}),l.name=t,l.lastModified=n,c.call(this)}{let d=function(){return c.call(this)};if(e==="image/bmp")return new Promise(h=>SS.toBlob(i,h)).then((function(h){try{return l=h,l.name=t,l.lastModified=n,d.call(this)}catch(f){return o(f)}}).bind(this),o);{let h=function(){return d.call(this)};if(typeof OffscreenCanvas=="function"&&i instanceof OffscreenCanvas)return i.convertToBlob({type:e,quality:r}).then((function(f){try{return l=f,l.name=t,l.lastModified=n,h.call(this)}catch(v){return o(v)}}).bind(this),o);{let f;return f=i.toDataURL(e,r),Qb(f,t,n).then((function(v){try{return l=v,h.call(this)}catch(g){return o(g)}}).bind(this),o)}}}function c(){return s(l)}})}function ql(i){i.width=0,i.height=0}function Kp(){return new Promise(function(i,e){let t,n,r,s;return Kp.cachedResult!==void 0?i(Kp.cachedResult):Qb("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(o){try{return t=o,I5(t).then(function(l){try{return n=l[1],R5(n,t.type,t.name,t.lastModified).then(function(c){try{return r=c,ql(n),I5(r).then(function(d){try{return s=d[0],Kp.cachedResult=s.width===1&&s.height===2,i(Kp.cachedResult)}catch(h){return e(h)}},e)}catch(d){return e(d)}},e)}catch(c){return e(c)}},e)}catch(l){return e(l)}},e)})}function kS(i){return new Promise((e,t)=>{const n=new ES;n.onload=r=>{const s=new DataView(r.target.result);if(s.getUint16(0,!1)!=65496)return e(-2);const o=s.byteLength;let l=2;for(;l<o;){if(s.getUint16(l+2,!1)<=8)return e(-1);const c=s.getUint16(l,!1);if(l+=2,c==65505){if(s.getUint32(l+=2,!1)!=1165519206)return e(-1);const d=s.getUint16(l+=6,!1)==18761;l+=s.getUint32(l+4,d);const h=s.getUint16(l,d);l+=2;for(let f=0;f<h;f++)if(s.getUint16(l+12*f,d)==274)return e(s.getUint16(l+12*f+8,d))}else{if((65280&c)!=65280)break;l+=s.getUint16(l,!1)}}return e(-1)},n.onerror=r=>t(r),n.readAsArrayBuffer(i)})}function TS(i,e){const{width:t}=i,{height:n}=i,{maxWidthOrHeight:r}=e;let s,o=i;return isFinite(r)&&(t>r||n>r)&&([o,s]=wv(t,n),t>n?(o.width=r,o.height=n/t*r):(o.width=t/n*r,o.height=r),s.drawImage(i,0,0,o.width,o.height),ql(i)),o}function IS(i,e){const{width:t}=i,{height:n}=i,[r,s]=wv(t,n);switch(e>4&&e<9?(r.width=n,r.height=t):(r.width=t,r.height=n),e){case 2:s.transform(-1,0,0,1,t,0);break;case 3:s.transform(-1,0,0,-1,t,n);break;case 4:s.transform(1,0,0,-1,0,n);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,n,0);break;case 7:s.transform(0,-1,-1,0,n,t);break;case 8:s.transform(0,-1,1,0,0,t)}return s.drawImage(i,0,0,t,n),ql(i),r}function Yx(i,e,t=0){return new Promise(function(n,r){let s,o,l,c,d,h,f,v,g,b,x,E,S,P,F,M,$,H,q,T;function D(I=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;s+=I,e.onProgress(Math.min(s,100))}function J(I){if(e.signal&&e.signal.aborted)throw e.signal.reason;s=Math.min(Math.max(I,s),100),e.onProgress(s)}return s=t,o=e.maxIteration||10,l=1024*e.maxSizeMB*1024,D(),I5(i,e).then((function(I){try{return[,c]=I,D(),d=TS(c,e),D(),new Promise(function(O,X){var U;if(!(U=e.exifOrientation))return kS(i).then((function(B){try{return U=B,ce.call(this)}catch(j){return X(j)}}).bind(this),X);function ce(){return O(U)}return ce.call(this)}).then((function(O){try{return h=O,D(),Kp().then((function(X){try{return f=X?d:IS(d,h),D(),v=e.initialQuality||1,g=e.fileType||i.type,R5(f,g,i.name,i.lastModified,v).then((function(U){try{{let B=function(){if(o--&&(F>l||F>S)){let G,ie;return G=T?.95*q.width:q.width,ie=T?.95*q.height:q.height,[$,H]=wv(G,ie),H.drawImage(q,0,0,G,ie),v*=g==="image/png"?.85:.95,R5($,g,i.name,i.lastModified,v).then(function(le){try{return M=le,ql(q),q=$,F=M.size,J(Math.min(99,Math.floor((P-F)/(P-l)*100))),B}catch(ue){return r(ue)}},r)}return[1]},j=function(){return ql(q),ql($),ql(d),ql(f),ql(c),J(100),n(M)};if(b=U,D(),x=b.size>l,E=b.size>i.size,!x&&!E)return J(100),n(b);var ce;return S=i.size,P=b.size,F=P,q=f,T=!e.alwaysKeepResolution&&x,(ce=(function(G){for(;G;){if(G.then)return void G.then(ce,r);try{if(G.pop){if(G.length)return G.pop()?j.call(this):G;G=B}else G=G.call(this)}catch(ie){return r(ie)}}}).bind(this))(B)}}catch(B){return r(B)}}).bind(this),r)}catch(U){return r(U)}}).bind(this),r)}catch(X){return r(X)}}).bind(this),r)}catch(O){return r(O)}}).bind(this),r)})}const oL=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Fy;function lL(i,e){return new Promise((t,n)=>{Fy||(Fy=function(o){const l=[];return l.push(o),URL.createObjectURL(new Blob(l))}(oL));const r=new Worker(Fy);r.addEventListener("message",function(o){if(e.signal&&e.signal.aborted)r.terminate();else if(o.data.progress===void 0){if(o.data.error)return n(new Error(o.data.error)),void r.terminate();t(o.data.file),r.terminate()}else e.onProgress(o.data.progress)}),r.addEventListener("error",n),e.signal&&e.signal.addEventListener("abort",()=>{n(e.signal.reason),r.terminate()}),r.postMessage({file:i,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function $i(i,e){return new Promise(function(t,n){let r,s,o,l,c,d;if(r={...e},o=0,{onProgress:l}=r,r.maxSizeMB=r.maxSizeMB||Number.POSITIVE_INFINITY,c=typeof r.useWebWorker!="boolean"||r.useWebWorker,delete r.useWebWorker,r.onProgress=g=>{o=g,typeof l=="function"&&l(o)},!(i instanceof Blob||i instanceof aL))return n(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(i.type))return n(new Error("The file given is not an image"));if(d=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!c||typeof Worker!="function"||d)return Yx(i,r).then((function(g){try{return s=g,v.call(this)}catch(b){return n(b)}}).bind(this),n);var h=(function(){try{return v.call(this)}catch(g){return n(g)}}).bind(this),f=function(g){try{return Yx(i,r).then(function(b){try{return s=b,h()}catch(x){return n(x)}},n)}catch(b){return n(b)}};try{return r.libURL=r.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",lL(i,r).then(function(g){try{return s=g,h()}catch{return f()}},f)}catch{f()}function v(){try{s.name=i.name,s.lastModified=i.lastModified}catch{}try{r.preserveExif&&i.type==="image/jpeg"&&(!r.fileType||r.fileType&&r.fileType===i.type)&&(s=xS(i,s))}catch{}return t(s)}})}$i.getDataUrlFromFile=LS,$i.getFilefromDataUrl=Qb,$i.loadImage=CS,$i.drawImageInCanvas=NS,$i.drawFileInCanvas=I5,$i.canvasToFile=R5,$i.getExifOrientation=kS,$i.handleMaxWidthOrHeight=TS,$i.followExifOrientation=IS,$i.cleanupCanvasMemory=ql,$i.isAutoOrientationInBrowser=Kp,$i.approximateBelowMaximumCanvasSizeOfBrowser=PS,$i.copyExifWithoutOrientation=xS,$i.getBrowserName=Bd,$i.version="2.0.2";var RS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Kx=yn.createContext&&yn.createContext(RS),uL=["attr","size","title"];function cL(i,e){if(i==null)return{};var t=hL(i,e),n,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);for(r=0;r<s.length;r++)n=s[r],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(i,n)&&(t[n]=i[n])}return t}function hL(i,e){if(i==null)return{};var t={};for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n)){if(e.indexOf(n)>=0)continue;t[n]=i[n]}return t}function F5(){return F5=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},F5.apply(this,arguments)}function Qx(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function M5(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Qx(Object(t),!0).forEach(function(n){dL(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Qx(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function dL(i,e,t){return e=fL(e),e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function fL(i){var e=pL(i,"string");return typeof e=="symbol"?e:e+""}function pL(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function FS(i){return i&&i.map((e,t)=>yn.createElement(e.tag,M5({key:t},e.attr),FS(e.child)))}function Jb(i){return e=>yn.createElement(gL,F5({attr:M5({},i.attr)},e),FS(i.child))}function gL(i){var e=t=>{var{attr:n,size:r,title:s}=i,o=cL(i,uL),l=r||t.size||"1em",c;return t.className&&(c=t.className),i.className&&(c=(c?c+" ":"")+i.className),yn.createElement("svg",F5({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,o,{className:c,style:M5(M5({color:i.color||t.color},t.style),i.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&yn.createElement("title",null,s),i.children)};return Kx!==void 0?yn.createElement(Kx.Consumer,null,t=>e(t)):e(RS)}function Jx(i){return Jb({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(i)}function mL(i){return Jb({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(i)}function bv(i){return Jb({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(i)}const vL=()=>{const[i,e]=oe.useState(null),[t,n]=oe.useState(null),[r,s]=oe.useState(50),[o,l]=oe.useState("image/jpeg"),[c,d]=oe.useState(null),[h,f]=oe.useState(null),[v,g]=oe.useState(null),b=M=>{const $=M.target.files&&M.target.files[0];$&&(e($),d(($.size/1024).toFixed(2)),g(null),f(null),n(URL.createObjectURL($)))},x=M=>{M.preventDefault()},E=M=>{M.preventDefault();const $=M.dataTransfer.files[0];$&&(e($),n(URL.createObjectURL($)))};console.log(i,"drag and drop");const S=M=>new Promise(($,H)=>{const q=new FileReader;q.onload=T=>{const D=new Image;D.onload=()=>{const J=document.createElement("canvas");J.width=D.width,J.height=D.height,J.getContext("2d").drawImage(D,0,0),J.toBlob(O=>{O?$(O):H(new Error("Canvas is empty"))},"image/png")},D.onerror=J=>H(J),D.src=T.target.result},q.onerror=T=>H(T),q.readAsDataURL(M)}),P=async()=>{if(!i)return;if(r<=0){alert("Please enter a valid target size.");return}const M=r/1024;let $=i;const H={maxSizeMB:M>0?M:.1,maxWidthOrHeight:1024,useWebWorker:!0};try{let q=0;for(;$.size/1024>r&&q<5;)q++,$=await $i($,H),console.log(`Attempt ${q}: Compressed Size =`,($.size/1024).toFixed(2),"KB"),H.maxSizeMB*=.8;if($.size/1024>r&&alert("Could not achieve exact target size. Closest possible compression applied."),o==="image/png"){const T=await S($);f((T.size/1024).toFixed(2)),g(URL.createObjectURL(T))}else f(($.size/1024).toFixed(2)),g(URL.createObjectURL($))}catch(q){console.error("Error during image compression:",q)}},F=()=>{if(!v)return;const M=document.createElement("a");M.href=v,M.download=o==="image/jpeg"?"compressed_image.jpg":"compressed_image.png",document.body.appendChild(M),M.click(),document.body.removeChild(M)};return be.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto",fontFamily:"Arial, sans-serif"},children:[be.jsx("h2",{children:"Image Compressor"}),be.jsx("div",{className:"flex justify-center items-center ",children:i?be.jsx(be.Fragment,{children:"file uploaded"}):be.jsx(be.Fragment,{children:be.jsxs("label",{htmlFor:"file-upload",className:"flex flex-col items-center justify-center w-90 h-60  border-2 border-dashed border-gray-300 rounded-xl shadow-lg cursor-pointer hover:bg-gray-100 ",onDragOver:x,onDrop:E,children:[be.jsxs("div",{className:"flex flex-col items-center justify-center p-5",children:[be.jsx(bv,{className:"text-5xl text-blue-500 mb-3"}),be.jsx("span",{className:"text-gray-600 text-lg font-semibold",children:"Upload Image"}),be.jsx("span",{className:"text-gray-400 text-sm mt-1",children:i?i.name:"or, drag and drop an image here"})]}),be.jsx("input",{id:"file-upload",type:"file",accept:"image/*",onChange:b,className:"hidden"})]})})}),c&&be.jsxs("p",{children:["Original Size: ",be.jsx("strong",{children:c})," KB"]}),h&&be.jsxs("p",{children:["Compressed Size: ",be.jsx("strong",{children:h})," KB"]}),t?be.jsx(be.Fragment,{children:be.jsx("img",{src:t,alt:"upload file",style:{maxWidth:"50%",margin:"0 auto"}})}):be.jsx(be.Fragment,{}),be.jsxs("div",{className:"flex flex-col items-center my-4",children:[be.jsx("label",{htmlFor:"targetSize",className:" font-medium",children:"Target Size (KB):"}),be.jsx("input",{id:"targetSize",type:"number",value:r,onChange:M=>{const $=M.target.value;s($===""?"":Number($))},className:"w-20 px-3 py-1  border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm "})]}),be.jsx("button",{onClick:P,className:"px-4 py-2 mb-2 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-md transition duration-300",children:"Click To Compress"}),h&&be.jsxs("p",{children:["Compressed Size: ",be.jsx("strong",{children:h})," KB"]}),v&&be.jsxs("div",{children:[be.jsx("h3",{children:"Compressed Image Preview:"}),be.jsx("img",{src:v,alt:"Compressed Preview",style:{maxWidth:"50%",margin:"0 auto"}}),be.jsx("br",{}),be.jsxs("div",{style:{margin:"10px 0"},children:[be.jsx("label",{htmlFor:"format",children:"Download Format: "}),be.jsxs("select",{id:"format",value:o,onChange:M=>l(M.target.value),style:{marginLeft:"5px"},children:[be.jsx("option",{value:"image/jpeg",children:"JPEG"}),be.jsx("option",{value:"image/png",children:"PNG"})]})]}),be.jsx("button",{onClick:F,className:"px-4 py-2 mb-2 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-md transition duration-300",children:"Download Image"})]})]})};var Vl=AS();/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function f1(){return f1=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},f1.apply(this,arguments)}var Uh;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(Uh||(Uh={}));const Zx="popstate";function yL(i){i===void 0&&(i={});function e(n,r){let{pathname:s,search:o,hash:l}=n.location;return lw("",{pathname:s,search:o,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(n,r){return typeof r=="string"?r:O5(r)}return bL(e,t,null,i)}function Or(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function MS(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wL(){return Math.random().toString(36).substr(2,8)}function e3(i,e){return{usr:i.state,key:i.key,idx:e}}function lw(i,e,t,n){return t===void 0&&(t=null),f1({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof e=="string"?fm(e):e,{state:t,key:e&&e.key||n||wL()})}function O5(i){let{pathname:e="/",search:t="",hash:n=""}=i;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function fm(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substr(t),i=i.substr(0,t));let n=i.indexOf("?");n>=0&&(e.search=i.substr(n),i=i.substr(0,n)),i&&(e.pathname=i)}return e}function bL(i,e,t,n){n===void 0&&(n={});let{window:r=document.defaultView,v5Compat:s=!1}=n,o=r.history,l=Uh.Pop,c=null,d=h();d==null&&(d=0,o.replaceState(f1({},o.state,{idx:d}),""));function h(){return(o.state||{idx:null}).idx}function f(){l=Uh.Pop;let E=h(),S=E==null?null:E-d;d=E,c&&c({action:l,location:x.location,delta:S})}function v(E,S){l=Uh.Push;let P=lw(x.location,E,S);d=h()+1;let F=e3(P,d),M=x.createHref(P);try{o.pushState(F,"",M)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;r.location.assign(M)}s&&c&&c({action:l,location:x.location,delta:1})}function g(E,S){l=Uh.Replace;let P=lw(x.location,E,S);d=h();let F=e3(P,d),M=x.createHref(P);o.replaceState(F,"",M),s&&c&&c({action:l,location:x.location,delta:0})}function b(E){let S=r.location.origin!=="null"?r.location.origin:r.location.href,P=typeof E=="string"?E:O5(E);return P=P.replace(/ $/,"%20"),Or(S,"No window.location.(origin|href) available to create URL for href: "+P),new URL(P,S)}let x={get action(){return l},get location(){return i(r,o)},listen(E){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(Zx,f),c=E,()=>{r.removeEventListener(Zx,f),c=null}},createHref(E){return e(r,E)},createURL:b,encodeLocation(E){let S=b(E);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:v,replace:g,go(E){return o.go(E)}};return x}var t3;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(t3||(t3={}));function AL(i,e,t){return t===void 0&&(t="/"),xL(i,e,t)}function xL(i,e,t,n){let r=typeof e=="string"?fm(e):e,s=Zb(r.pathname||"/",t);if(s==null)return null;let o=OS(i);SL(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=ML(s);l=IL(o[c],d)}return l}function OS(i,e,t,n){e===void 0&&(e=[]),t===void 0&&(t=[]),n===void 0&&(n="");let r=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Or(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=$h([n,c.relativePath]),h=t.concat(c);s.children&&s.children.length>0&&(Or(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),OS(s.children,e,h,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:kL(d,s.index),routesMeta:h})};return i.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))r(s,o);else for(let c of DS(s.path))r(s,o,c)}),e}function DS(i){let e=i.split("/");if(e.length===0)return[];let[t,...n]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(n.length===0)return r?[s,""]:[s];let o=DS(n.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),r&&l.push(...o),l.map(c=>i.startsWith("/")&&c===""?"/":c)}function SL(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:TL(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}const _L=/^:[\w-]+$/,EL=3,LL=2,CL=1,PL=10,NL=-2,n3=i=>i==="*";function kL(i,e){let t=i.split("/"),n=t.length;return t.some(n3)&&(n+=NL),e&&(n+=LL),t.filter(r=>!n3(r)).reduce((r,s)=>r+(_L.test(s)?EL:s===""?CL:PL),n)}function TL(i,e){return i.length===e.length&&i.slice(0,-1).every((n,r)=>n===e[r])?i[i.length-1]-e[e.length-1]:0}function IL(i,e,t){let{routesMeta:n}=i,r={},s="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,h=s==="/"?e:e.slice(s.length)||"/",f=RL({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),v=c.route;if(!f)return null;Object.assign(r,f.params),o.push({params:r,pathname:$h([s,f.pathname]),pathnameBase:BL($h([s,f.pathnameBase])),route:v}),f.pathnameBase!=="/"&&(s=$h([s,f.pathnameBase]))}return o}function RL(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,n]=FL(i.path,i.caseSensitive,i.end),r=e.match(t);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:n.reduce((d,h,f)=>{let{paramName:v,isOptional:g}=h;if(v==="*"){let x=l[f]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const b=l[f];return g&&!b?d[v]=void 0:d[v]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:i}}function FL(i,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),MS(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let n=[],r="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(n.push({paramName:"*"}),r+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":i!==""&&i!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),n]}function ML(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return MS(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),i}}function Zb(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=i.charAt(t);return n&&n!=="/"?null:i.slice(t)||"/"}function OL(i,e){e===void 0&&(e="/");let{pathname:t,search:n="",hash:r=""}=typeof i=="string"?fm(i):i;return{pathname:t?t.startsWith("/")?t:DL(t,e):e,search:zL(n),hash:UL(r)}}function DL(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function My(i,e,t,n){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function jL(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function jS(i,e){let t=jL(i);return e?t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase):t.map(n=>n.pathnameBase)}function BS(i,e,t,n){n===void 0&&(n=!1);let r;typeof i=="string"?r=fm(i):(r=f1({},i),Or(!r.pathname||!r.pathname.includes("?"),My("?","pathname","search",r)),Or(!r.pathname||!r.pathname.includes("#"),My("#","pathname","hash",r)),Or(!r.search||!r.search.includes("#"),My("#","search","hash",r)));let s=i===""||r.pathname==="",o=s?"/":r.pathname,l;if(o==null)l=t;else{let f=e.length-1;if(!n&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),f-=1;r.pathname=v.join("/")}l=f>=0?e[f]:"/"}let c=OL(r,l),d=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}const $h=i=>i.join("/").replace(/\/\/+/g,"/"),BL=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),zL=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,UL=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function HL(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const zS=["post","put","patch","delete"];new Set(zS);const $L=["get",...zS];new Set($L);/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function p1(){return p1=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},p1.apply(this,arguments)}const eA=oe.createContext(null),qL=oe.createContext(null),rp=oe.createContext(null),Av=oe.createContext(null),ip=oe.createContext({outlet:null,matches:[],isDataRoute:!1}),US=oe.createContext(null);function WL(i,e){let{relative:t}=e===void 0?{}:e;G0()||Or(!1);let{basename:n,navigator:r}=oe.useContext(rp),{hash:s,pathname:o,search:l}=qS(i,{relative:t}),c=o;return n!=="/"&&(c=o==="/"?n:$h([n,o])),r.createHref({pathname:c,search:l,hash:s})}function G0(){return oe.useContext(Av)!=null}function xv(){return G0()||Or(!1),oe.useContext(Av).location}function HS(i){oe.useContext(rp).static||oe.useLayoutEffect(i)}function $S(){let{isDataRoute:i}=oe.useContext(ip);return i?iC():VL()}function VL(){G0()||Or(!1);let i=oe.useContext(eA),{basename:e,future:t,navigator:n}=oe.useContext(rp),{matches:r}=oe.useContext(ip),{pathname:s}=xv(),o=JSON.stringify(jS(r,t.v7_relativeSplatPath)),l=oe.useRef(!1);return HS(()=>{l.current=!0}),oe.useCallback(function(d,h){if(h===void 0&&(h={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let f=BS(d,JSON.parse(o),s,h.relative==="path");i==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:$h([e,f.pathname])),(h.replace?n.replace:n.push)(f,h.state,h)},[e,n,o,s,i])}function qS(i,e){let{relative:t}=e===void 0?{}:e,{future:n}=oe.useContext(rp),{matches:r}=oe.useContext(ip),{pathname:s}=xv(),o=JSON.stringify(jS(r,n.v7_relativeSplatPath));return oe.useMemo(()=>BS(i,JSON.parse(o),s,t==="path"),[i,o,s,t])}function GL(i,e){return XL(i,e)}function XL(i,e,t,n){G0()||Or(!1);let{navigator:r,static:s}=oe.useContext(rp),{matches:o}=oe.useContext(ip),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let h=xv(),f;if(e){var v;let S=typeof e=="string"?fm(e):e;d==="/"||(v=S.pathname)!=null&&v.startsWith(d)||Or(!1),f=S}else f=h;let g=f.pathname||"/",b=g;if(d!=="/"){let S=d.replace(/^\//,"").split("/");b="/"+g.replace(/^\//,"").split("/").slice(S.length).join("/")}let x=AL(i,{pathname:b}),E=ZL(x&&x.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:$h([d,r.encodeLocation?r.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?d:$h([d,r.encodeLocation?r.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),o,t,n);return e&&E?oe.createElement(Av.Provider,{value:{location:p1({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Uh.Pop}},E):E}function YL(){let i=rC(),e=HL(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return oe.createElement(oe.Fragment,null,oe.createElement("h2",null,"Unexpected Application Error!"),oe.createElement("h3",{style:{fontStyle:"italic"}},e),t?oe.createElement("pre",{style:r},t):null,null)}const KL=oe.createElement(YL,null);class QL extends oe.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?oe.createElement(ip.Provider,{value:this.props.routeContext},oe.createElement(US.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function JL(i){let{routeContext:e,match:t,children:n}=i,r=oe.useContext(eA);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),oe.createElement(ip.Provider,{value:e},n)}function ZL(i,e,t,n){var r;if(e===void 0&&(e=[]),t===void 0&&(t=null),n===void 0&&(n=null),i==null){var s;if(!t)return null;if(t.errors)i=t.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,l=(r=t)==null?void 0:r.errors;if(l!=null){let h=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);h>=0||Or(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,d=-1;if(t&&n&&n.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=h),f.route.id){let{loaderData:v,errors:g}=t,b=f.route.loader&&v[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||b){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,f,v)=>{let g,b=!1,x=null,E=null;t&&(g=l&&f.route.id?l[f.route.id]:void 0,x=f.route.errorElement||KL,c&&(d<0&&v===0?(sC("route-fallback"),b=!0,E=null):d===v&&(b=!0,E=f.route.hydrateFallbackElement||null)));let S=e.concat(o.slice(0,v+1)),P=()=>{let F;return g?F=x:b?F=E:f.route.Component?F=oe.createElement(f.route.Component,null):f.route.element?F=f.route.element:F=h,oe.createElement(JL,{match:f,routeContext:{outlet:h,matches:S,isDataRoute:t!=null},children:F})};return t&&(f.route.ErrorBoundary||f.route.errorElement||v===0)?oe.createElement(QL,{location:t.location,revalidation:t.revalidation,component:x,error:g,children:P(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):P()},null)}var WS=function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i}(WS||{}),D5=function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i}(D5||{});function eC(i){let e=oe.useContext(eA);return e||Or(!1),e}function tC(i){let e=oe.useContext(qL);return e||Or(!1),e}function nC(i){let e=oe.useContext(ip);return e||Or(!1),e}function VS(i){let e=nC(),t=e.matches[e.matches.length-1];return t.route.id||Or(!1),t.route.id}function rC(){var i;let e=oe.useContext(US),t=tC(D5.UseRouteError),n=VS(D5.UseRouteError);return e!==void 0?e:(i=t.errors)==null?void 0:i[n]}function iC(){let{router:i}=eC(WS.UseNavigateStable),e=VS(D5.UseNavigateStable),t=oe.useRef(!1);return HS(()=>{t.current=!0}),oe.useCallback(function(r,s){s===void 0&&(s={}),t.current&&(typeof r=="number"?i.navigate(r):i.navigate(r,p1({fromRouteId:e},s)))},[i,e])}const r3={};function sC(i,e,t){r3[i]||(r3[i]=!0)}function aC(i,e){i==null||i.v7_startTransition,i==null||i.v7_relativeSplatPath}function Io(i){Or(!1)}function oC(i){let{basename:e="/",children:t=null,location:n,navigationType:r=Uh.Pop,navigator:s,static:o=!1,future:l}=i;G0()&&Or(!1);let c=e.replace(/^\/*/,"/"),d=oe.useMemo(()=>({basename:c,navigator:s,static:o,future:p1({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof n=="string"&&(n=fm(n));let{pathname:h="/",search:f="",hash:v="",state:g=null,key:b="default"}=n,x=oe.useMemo(()=>{let E=Zb(h,c);return E==null?null:{location:{pathname:E,search:f,hash:v,state:g,key:b},navigationType:r}},[c,h,f,v,g,b,r]);return x==null?null:oe.createElement(rp.Provider,{value:d},oe.createElement(Av.Provider,{children:t,value:x}))}function lC(i){let{children:e,location:t}=i;return GL(uw(e),t)}new Promise(()=>{});function uw(i,e){e===void 0&&(e=[]);let t=[];return oe.Children.forEach(i,(n,r)=>{if(!oe.isValidElement(n))return;let s=[...e,r];if(n.type===oe.Fragment){t.push.apply(t,uw(n.props.children,s));return}n.type!==Io&&Or(!1),!n.props.index||!n.props.children||Or(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=uw(n.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cw(){return cw=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},cw.apply(this,arguments)}function uC(i,e){if(i==null)return{};var t={},n=Object.keys(i),r,s;for(s=0;s<n.length;s++)r=n[s],!(e.indexOf(r)>=0)&&(t[r]=i[r]);return t}function cC(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function hC(i,e){return i.button===0&&(!e||e==="_self")&&!cC(i)}const dC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],fC="6";try{window.__reactRouterVersion=fC}catch{}const pC="startTransition",i3=N5[pC];function gC(i){let{basename:e,children:t,future:n,window:r}=i,s=oe.useRef();s.current==null&&(s.current=yL({window:r,v5Compat:!0}));let o=s.current,[l,c]=oe.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},h=oe.useCallback(f=>{d&&i3?i3(()=>c(f)):c(f)},[c,d]);return oe.useLayoutEffect(()=>o.listen(h),[o,h]),oe.useEffect(()=>aC(n),[n]),oe.createElement(oC,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:o,future:n})}const mC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Td=oe.forwardRef(function(e,t){let{onClick:n,relative:r,reloadDocument:s,replace:o,state:l,target:c,to:d,preventScrollReset:h,viewTransition:f}=e,v=uC(e,dC),{basename:g}=oe.useContext(rp),b,x=!1;if(typeof d=="string"&&vC.test(d)&&(b=d,mC))try{let F=new URL(window.location.href),M=d.startsWith("//")?new URL(F.protocol+d):new URL(d),$=Zb(M.pathname,g);M.origin===F.origin&&$!=null?d=$+M.search+M.hash:x=!0}catch{}let E=WL(d,{relative:r}),S=yC(d,{replace:o,state:l,target:c,preventScrollReset:h,relative:r,viewTransition:f});function P(F){n&&n(F),F.defaultPrevented||S(F)}return oe.createElement("a",cw({},v,{href:b||E,onClick:x||s?n:P,ref:t,target:c}))});var s3;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(s3||(s3={}));var a3;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(a3||(a3={}));function yC(i,e){let{target:t,replace:n,state:r,preventScrollReset:s,relative:o,viewTransition:l}=e===void 0?{}:e,c=$S(),d=xv(),h=qS(i,{relative:o});return oe.useCallback(f=>{if(hC(f,t)){f.preventDefault();let v=n!==void 0?n:O5(d)===O5(h);c(i,{replace:v,state:r,preventScrollReset:s,relative:o,viewTransition:l})}},[d,c,h,n,r,t,i,s,o,l])}const GS=typeof document<"u"?yn.useLayoutEffect:()=>{};function wC(i){const e=oe.useRef(null);return GS(()=>{e.current=i},[i]),oe.useCallback((...t)=>{const n=e.current;return n==null?void 0:n(...t)},[])}const X0=i=>{var e;return(e=i==null?void 0:i.ownerDocument)!==null&&e!==void 0?e:document},zd=i=>i&&"window"in i&&i.window===i?i:X0(i).defaultView||window;function bC(i){var e;return typeof window>"u"||window.navigator==null?!1:((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands.some(t=>i.test(t.brand)))||i.test(window.navigator.userAgent)}function AC(i){var e;return typeof window<"u"&&window.navigator!=null?i.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function XS(i){let e=null;return()=>(e==null&&(e=i()),e)}const xC=XS(function(){return AC(/^Mac/i)}),SC=XS(function(){return bC(/Android/i)});function _C(i){return i.mozInputSource===0&&i.isTrusted?!0:SC()&&i.pointerType?i.type==="click"&&i.buttons===1:i.detail===0&&!i.pointerType}class EC{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(e,t){this.nativeEvent=t,this.target=t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget,this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.defaultPrevented=t.defaultPrevented,this.eventPhase=t.eventPhase,this.isTrusted=t.isTrusted,this.timeStamp=t.timeStamp,this.type=e}}function YS(i){let e=oe.useRef({isFocused:!1,observer:null});GS(()=>{const n=e.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]);let t=wC(n=>{i==null||i(n)});return oe.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){e.current.isFocused=!0;let r=n.target,s=o=>{e.current.isFocused=!1,r.disabled&&t(new EC("blur",o)),e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};r.addEventListener("focusout",s,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&r.disabled){var o;(o=e.current.observer)===null||o===void 0||o.disconnect();let l=r===document.activeElement?null:document.activeElement;r.dispatchEvent(new FocusEvent("blur",{relatedTarget:l})),r.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:l}))}}),e.current.observer.observe(r,{attributes:!0,attributeFilter:["disabled"]})}},[t])}function LC(i){let{isDisabled:e,onFocus:t,onBlur:n,onFocusChange:r}=i;const s=oe.useCallback(c=>{if(c.target===c.currentTarget)return n&&n(c),r&&r(!1),!0},[n,r]),o=YS(s),l=oe.useCallback(c=>{const d=X0(c.target);c.target===c.currentTarget&&d.activeElement===c.target&&(t&&t(c),r&&r(!0),o(c))},[r,t,o]);return{focusProps:{onFocus:!e&&(t||r||n)?l:void 0,onBlur:!e&&(n||r)?s:void 0}}}let Y0=null,hw=new Set,l1=new Map,Yf=!1,dw=!1;const CC={Tab:!0,Escape:!0};function tA(i,e){for(let t of hw)t(i,e)}function PC(i){return!(i.metaKey||!xC()&&i.altKey||i.ctrlKey||i.key==="Control"||i.key==="Shift"||i.key==="Meta")}function j5(i){Yf=!0,PC(i)&&(Y0="keyboard",tA("keyboard",i))}function to(i){Y0="pointer",(i.type==="mousedown"||i.type==="pointerdown")&&(Yf=!0,tA("pointer",i))}function KS(i){_C(i)&&(Yf=!0,Y0="virtual")}function QS(i){i.target===window||i.target===document||(!Yf&&!dw&&(Y0="virtual",tA("virtual",i)),Yf=!1,dw=!1)}function JS(){Yf=!1,dw=!0}function fw(i){if(typeof window>"u"||l1.get(zd(i)))return;const e=zd(i),t=X0(i);let n=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){Yf=!0,n.apply(this,arguments)},t.addEventListener("keydown",j5,!0),t.addEventListener("keyup",j5,!0),t.addEventListener("click",KS,!0),e.addEventListener("focus",QS,!0),e.addEventListener("blur",JS,!1),typeof PointerEvent<"u"?(t.addEventListener("pointerdown",to,!0),t.addEventListener("pointermove",to,!0),t.addEventListener("pointerup",to,!0)):(t.addEventListener("mousedown",to,!0),t.addEventListener("mousemove",to,!0),t.addEventListener("mouseup",to,!0)),e.addEventListener("beforeunload",()=>{ZS(i)},{once:!0}),l1.set(e,{focus:n})}const ZS=(i,e)=>{const t=zd(i),n=X0(i);e&&n.removeEventListener("DOMContentLoaded",e),l1.has(t)&&(t.HTMLElement.prototype.focus=l1.get(t).focus,n.removeEventListener("keydown",j5,!0),n.removeEventListener("keyup",j5,!0),n.removeEventListener("click",KS,!0),t.removeEventListener("focus",QS,!0),t.removeEventListener("blur",JS,!1),typeof PointerEvent<"u"?(n.removeEventListener("pointerdown",to,!0),n.removeEventListener("pointermove",to,!0),n.removeEventListener("pointerup",to,!0)):(n.removeEventListener("mousedown",to,!0),n.removeEventListener("mousemove",to,!0),n.removeEventListener("mouseup",to,!0)),l1.delete(t))};function NC(i){const e=X0(i);let t;return e.readyState!=="loading"?fw(i):(t=()=>{fw(i)},e.addEventListener("DOMContentLoaded",t)),()=>ZS(i,t)}typeof document<"u"&&NC();function e4(){return Y0!=="pointer"}const kC=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function TC(i,e,t){var n;const r=typeof window<"u"?zd(t==null?void 0:t.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?zd(t==null?void 0:t.target).HTMLTextAreaElement:HTMLTextAreaElement,o=typeof window<"u"?zd(t==null?void 0:t.target).HTMLElement:HTMLElement,l=typeof window<"u"?zd(t==null?void 0:t.target).KeyboardEvent:KeyboardEvent;return i=i||(t==null?void 0:t.target)instanceof r&&!kC.has(t==null||(n=t.target)===null||n===void 0?void 0:n.type)||(t==null?void 0:t.target)instanceof s||(t==null?void 0:t.target)instanceof o&&(t==null?void 0:t.target.isContentEditable),!(i&&e==="keyboard"&&t instanceof l&&!CC[t.key])}function IC(i,e,t){fw(),oe.useEffect(()=>{let n=(r,s)=>{TC(!!(t!=null&&t.isTextInput),r,s)&&i(e4())};return hw.add(n),()=>{hw.delete(n)}},e)}function RC(i){let{isDisabled:e,onBlurWithin:t,onFocusWithin:n,onFocusWithinChange:r}=i,s=oe.useRef({isFocusWithin:!1}),o=oe.useCallback(d=>{s.current.isFocusWithin&&!d.currentTarget.contains(d.relatedTarget)&&(s.current.isFocusWithin=!1,t&&t(d),r&&r(!1))},[t,r,s]),l=YS(o),c=oe.useCallback(d=>{!s.current.isFocusWithin&&document.activeElement===d.target&&(n&&n(d),r&&r(!0),s.current.isFocusWithin=!0,l(d))},[n,r,l]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:c,onBlur:o}}}let B5=!1,Oy=0;function pw(){B5=!0,setTimeout(()=>{B5=!1},50)}function o3(i){i.pointerType==="touch"&&pw()}function FC(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",o3):document.addEventListener("touchend",pw),Oy++,()=>{Oy--,!(Oy>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",o3):document.removeEventListener("touchend",pw))}}function t4(i){let{onHoverStart:e,onHoverChange:t,onHoverEnd:n,isDisabled:r}=i,[s,o]=oe.useState(!1),l=oe.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;oe.useEffect(FC,[]);let{hoverProps:c,triggerHoverEnd:d}=oe.useMemo(()=>{let h=(g,b)=>{if(l.pointerType=b,r||b==="touch"||l.isHovered||!g.currentTarget.contains(g.target))return;l.isHovered=!0;let x=g.currentTarget;l.target=x,e&&e({type:"hoverstart",target:x,pointerType:b}),t&&t(!0),o(!0)},f=(g,b)=>{if(l.pointerType="",l.target=null,b==="touch"||!l.isHovered)return;l.isHovered=!1;let x=g.currentTarget;n&&n({type:"hoverend",target:x,pointerType:b}),t&&t(!1),o(!1)},v={};return typeof PointerEvent<"u"?(v.onPointerEnter=g=>{B5&&g.pointerType==="mouse"||h(g,g.pointerType)},v.onPointerLeave=g=>{!r&&g.currentTarget.contains(g.target)&&f(g,g.pointerType)}):(v.onTouchStart=()=>{l.ignoreEmulatedMouseEvents=!0},v.onMouseEnter=g=>{!l.ignoreEmulatedMouseEvents&&!B5&&h(g,"mouse"),l.ignoreEmulatedMouseEvents=!1},v.onMouseLeave=g=>{!r&&g.currentTarget.contains(g.target)&&f(g,"mouse")}),{hoverProps:v,triggerHoverEnd:f}},[e,t,n,r,l]);return oe.useEffect(()=>{r&&d({currentTarget:l.target},l.pointerType)},[r]),{hoverProps:c,isHovered:s}}function n4(i={}){let{autoFocus:e=!1,isTextInput:t,within:n}=i,r=oe.useRef({isFocused:!1,isFocusVisible:e||e4()}),[s,o]=oe.useState(!1),[l,c]=oe.useState(()=>r.current.isFocused&&r.current.isFocusVisible),d=oe.useCallback(()=>c(r.current.isFocused&&r.current.isFocusVisible),[]),h=oe.useCallback(g=>{r.current.isFocused=g,o(g),d()},[d]);IC(g=>{r.current.isFocusVisible=g,d()},[],{isTextInput:t});let{focusProps:f}=LC({isDisabled:n,onFocusChange:h}),{focusWithinProps:v}=RC({isDisabled:!n,onFocusWithinChange:h});return{isFocused:s,isFocusVisible:l,focusProps:n?v:f}}var MC=Object.defineProperty,OC=(i,e,t)=>e in i?MC(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Dy=(i,e,t)=>(OC(i,typeof e!="symbol"?e+"":e,t),t);let DC=class{constructor(){Dy(this,"current",this.detect()),Dy(this,"handoffState","pending"),Dy(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Gf=new DC;function sp(i){return Gf.isServer?null:i instanceof Node?i.ownerDocument:i!=null&&i.hasOwnProperty("current")&&i.current instanceof Node?i.current.ownerDocument:document}function r4(i){typeof queueMicrotask=="function"?queueMicrotask(i):Promise.resolve().then(i).catch(e=>setTimeout(()=>{throw e}))}function Ql(){let i=[],e={addEventListener(t,n,r,s){return t.addEventListener(n,r,s),e.add(()=>t.removeEventListener(n,r,s))},requestAnimationFrame(...t){let n=requestAnimationFrame(...t);return e.add(()=>cancelAnimationFrame(n))},nextFrame(...t){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...t))},setTimeout(...t){let n=setTimeout(...t);return e.add(()=>clearTimeout(n))},microTask(...t){let n={current:!0};return r4(()=>{n.current&&t[0]()}),e.add(()=>{n.current=!1})},style(t,n,r){let s=t.style.getPropertyValue(n);return Object.assign(t.style,{[n]:r}),this.add(()=>{Object.assign(t.style,{[n]:s})})},group(t){let n=Ql();return t(n),this.add(()=>n.dispose())},add(t){return i.includes(t)||i.push(t),()=>{let n=i.indexOf(t);if(n>=0)for(let r of i.splice(n,1))r()}},dispose(){for(let t of i.splice(0))t()}};return e}function Sv(){let[i]=oe.useState(Ql);return oe.useEffect(()=>()=>i.dispose(),[i]),i}let Dr=(i,e)=>{Gf.isServer?oe.useEffect(i,e):oe.useLayoutEffect(i,e)};function K0(i){let e=oe.useRef(i);return Dr(()=>{e.current=i},[i]),e}let Cn=function(i){let e=K0(i);return yn.useCallback((...t)=>e.current(...t),[e])};function jC(i){let e=i.width/2,t=i.height/2;return{top:i.clientY-t,right:i.clientX+e,bottom:i.clientY+t,left:i.clientX-e}}function BC(i,e){return!(!i||!e||i.right<e.left||i.left>e.right||i.bottom<e.top||i.top>e.bottom)}function i4({disabled:i=!1}={}){let e=oe.useRef(null),[t,n]=oe.useState(!1),r=Sv(),s=Cn(()=>{e.current=null,n(!1),r.dispose()}),o=Cn(l=>{if(r.dispose(),e.current===null){e.current=l.currentTarget,n(!0);{let c=sp(l.currentTarget);r.addEventListener(c,"pointerup",s,!1),r.addEventListener(c,"pointermove",d=>{if(e.current){let h=jC(d);n(BC(h,e.current.getBoundingClientRect()))}},!1),r.addEventListener(c,"pointercancel",s,!1)}}});return{pressed:t,pressProps:i?{}:{onPointerDown:o,onPointerUp:s,onClick:s}}}let zC=oe.createContext(void 0);function s4(){return oe.useContext(zC)}function l3(...i){return Array.from(new Set(i.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function Jh(i,e,...t){if(i in e){let r=e[i];return typeof r=="function"?r(...t):r}let n=new Error(`Tried to handle "${i}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(r=>`"${r}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Jh),n}var g1=(i=>(i[i.None=0]="None",i[i.RenderStrategy=1]="RenderStrategy",i[i.Static=2]="Static",i))(g1||{}),UC=(i=>(i[i.Unmount=0]="Unmount",i[i.Hidden=1]="Hidden",i))(UC||{});function Es(){let i=$C();return oe.useCallback(e=>HC({mergeRefs:i,...e}),[i])}function HC({ourProps:i,theirProps:e,slot:t,defaultTag:n,features:r,visible:s=!0,name:o,mergeRefs:l}){l=l??qC;let c=a4(e,i);if(s)return D2(c,t,n,o,l);let d=r??0;if(d&2){let{static:h=!1,...f}=c;if(h)return D2(f,t,n,o,l)}if(d&1){let{unmount:h=!0,...f}=c;return Jh(h?0:1,{0(){return null},1(){return D2({...f,hidden:!0,style:{display:"none"}},t,n,o,l)}})}return D2(c,t,n,o,l)}function D2(i,e={},t,n,r){let{as:s=t,children:o,refName:l="ref",...c}=jy(i,["unmount","static"]),d=i.ref!==void 0?{[l]:i.ref}:{},h=typeof o=="function"?o(e):o;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(e)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let f={};if(e){let v=!1,g=[];for(let[b,x]of Object.entries(e))typeof x=="boolean"&&(v=!0),x===!0&&g.push(b.replace(/([A-Z])/g,E=>`-${E.toLowerCase()}`));if(v){f["data-headlessui-state"]=g.join(" ");for(let b of g)f[`data-${b}`]=""}}if(s===oe.Fragment&&(Object.keys(jp(c)).length>0||Object.keys(jp(f)).length>0))if(!oe.isValidElement(h)||Array.isArray(h)&&h.length>1){if(Object.keys(jp(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(jp(c)).concat(Object.keys(jp(f))).map(v=>`  - ${v}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(v=>`  - ${v}`).join(`
`)].join(`
`))}else{let v=h.props,g=v==null?void 0:v.className,b=typeof g=="function"?(...S)=>l3(g(...S),c.className):l3(g,c.className),x=b?{className:b}:{},E=a4(h.props,jp(jy(c,["ref"])));for(let S in f)S in E&&delete f[S];return oe.cloneElement(h,Object.assign({},E,f,d,{ref:r(WC(h),d.ref)},x))}return oe.createElement(s,Object.assign({},jy(c,["ref"]),s!==oe.Fragment&&d,s!==oe.Fragment&&f),h)}function $C(){let i=oe.useRef([]),e=oe.useCallback(t=>{for(let n of i.current)n!=null&&(typeof n=="function"?n(t):n.current=t)},[]);return(...t)=>{if(!t.every(n=>n==null))return i.current=t,e}}function qC(...i){return i.every(e=>e==null)?void 0:e=>{for(let t of i)t!=null&&(typeof t=="function"?t(e):t.current=e)}}function a4(...i){if(i.length===0)return{};if(i.length===1)return i[0];let e={},t={};for(let n of i)for(let r in n)r.startsWith("on")&&typeof n[r]=="function"?(t[r]!=null||(t[r]=[]),t[r].push(n[r])):e[r]=n[r];if(e.disabled||e["aria-disabled"])for(let n in t)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(n)&&(t[n]=[r=>{var s;return(s=r==null?void 0:r.preventDefault)==null?void 0:s.call(r)}]);for(let n in t)Object.assign(e,{[n](r,...s){let o=t[n];for(let l of o){if((r instanceof Event||(r==null?void 0:r.nativeEvent)instanceof Event)&&r.defaultPrevented)return;l(r,...s)}}});return e}function z5(...i){if(i.length===0)return{};if(i.length===1)return i[0];let e={},t={};for(let n of i)for(let r in n)r.startsWith("on")&&typeof n[r]=="function"?(t[r]!=null||(t[r]=[]),t[r].push(n[r])):e[r]=n[r];for(let n in t)Object.assign(e,{[n](...r){let s=t[n];for(let o of s)o==null||o(...r)}});return e}function Ls(i){var e;return Object.assign(oe.forwardRef(i),{displayName:(e=i.displayName)!=null?e:i.name})}function jp(i){let e=Object.assign({},i);for(let t in e)e[t]===void 0&&delete e[t];return e}function jy(i,e=[]){let t=Object.assign({},i);for(let n of e)n in t&&delete t[n];return t}function WC(i){return yn.version.split(".")[0]>="19"?i.props.ref:i.ref}let VC=oe.createContext(void 0);function GC(){return oe.useContext(VC)}function o4(i){let e=i.parentElement,t=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(t=e),e=e.parentElement;let n=(e==null?void 0:e.getAttribute("disabled"))==="";return n&&XC(t)?!1:n}function XC(i){if(!i)return!1;let e=i.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}let l4=Symbol();function u4(i,e=!0){return Object.assign(i,{[l4]:e})}function so(...i){let e=oe.useRef(i);oe.useEffect(()=>{e.current=i},[i]);let t=Cn(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)});return i.every(n=>n==null||(n==null?void 0:n[l4]))?void 0:t}let nA=oe.createContext(null);nA.displayName="DescriptionContext";function c4(){let i=oe.useContext(nA);if(i===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,c4),e}return i}function YC(){let[i,e]=oe.useState([]);return[i.length>0?i.join(" "):void 0,oe.useMemo(()=>function(t){let n=Cn(s=>(e(o=>[...o,s]),()=>e(o=>{let l=o.slice(),c=l.indexOf(s);return c!==-1&&l.splice(c,1),l}))),r=oe.useMemo(()=>({register:n,slot:t.slot,name:t.name,props:t.props,value:t.value}),[n,t.slot,t.name,t.props,t.value]);return yn.createElement(nA.Provider,{value:r},t.children)},[e])]}let KC="p";function QC(i,e){let t=oe.useId(),n=s4(),{id:r=`headlessui-description-${t}`,...s}=i,o=c4(),l=so(e);Dr(()=>o.register(r),[r,o.register]);let c=n||!1,d=oe.useMemo(()=>({...o.slot,disabled:c}),[o.slot,c]),h={ref:l,...o.props,id:r};return Es()({ourProps:h,theirProps:s,slot:d,defaultTag:KC,name:o.name||"Description"})}let JC=Ls(QC);Object.assign(JC,{});var wr=(i=>(i.Space=" ",i.Enter="Enter",i.Escape="Escape",i.Backspace="Backspace",i.Delete="Delete",i.ArrowLeft="ArrowLeft",i.ArrowUp="ArrowUp",i.ArrowRight="ArrowRight",i.ArrowDown="ArrowDown",i.Home="Home",i.End="End",i.PageUp="PageUp",i.PageDown="PageDown",i.Tab="Tab",i))(wr||{});let _v=oe.createContext(null);_v.displayName="LabelContext";function rA(){let i=oe.useContext(_v);if(i===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,rA),e}return i}function ZC(i){var e,t,n;let r=(t=(e=oe.useContext(_v))==null?void 0:e.value)!=null?t:void 0;return((n=void 0)!=null?n:0)>0?[r,...i].filter(Boolean).join(" "):r}function h4({inherit:i=!1}={}){let e=ZC(),[t,n]=oe.useState([]),r=i?[e,...t].filter(Boolean):t;return[r.length>0?r.join(" "):void 0,oe.useMemo(()=>function(s){let o=Cn(c=>(n(d=>[...d,c]),()=>n(d=>{let h=d.slice(),f=h.indexOf(c);return f!==-1&&h.splice(f,1),h}))),l=oe.useMemo(()=>({register:o,slot:s.slot,name:s.name,props:s.props,value:s.value}),[o,s.slot,s.name,s.props,s.value]);return yn.createElement(_v.Provider,{value:l},s.children)},[n])]}let eP="label";function tP(i,e){var t;let n=oe.useId(),r=rA(),s=GC(),o=s4(),{id:l=`headlessui-label-${n}`,htmlFor:c=s??((t=r.props)==null?void 0:t.htmlFor),passive:d=!1,...h}=i,f=so(e);Dr(()=>r.register(l),[l,r.register]);let v=Cn(E=>{let S=E.currentTarget;if(S instanceof HTMLLabelElement&&E.preventDefault(),r.props&&"onClick"in r.props&&typeof r.props.onClick=="function"&&r.props.onClick(E),S instanceof HTMLLabelElement){let P=document.getElementById(S.htmlFor);if(P){let F=P.getAttribute("disabled");if(F==="true"||F==="")return;let M=P.getAttribute("aria-disabled");if(M==="true"||M==="")return;(P instanceof HTMLInputElement&&(P.type==="radio"||P.type==="checkbox")||P.role==="radio"||P.role==="checkbox"||P.role==="switch")&&P.click(),P.focus({preventScroll:!0})}}}),g=o||!1,b=oe.useMemo(()=>({...r.slot,disabled:g}),[r.slot,g]),x={ref:f,...r.props,id:l,htmlFor:c,onClick:v};return d&&("onClick"in x&&(delete x.htmlFor,delete x.onClick),"onClick"in h&&delete h.onClick),Es()({ourProps:x,theirProps:h,slot:b,defaultTag:c?eP:"div",name:r.name||"Label"})}let nP=Ls(tP);Object.assign(nP,{});let rP=oe.createContext(()=>{});function iP({value:i,children:e}){return yn.createElement(rP.Provider,{value:i},e)}function sP(i){if(i===null)return{width:0,height:0};let{width:e,height:t}=i.getBoundingClientRect();return{width:e,height:t}}function aP(i,e=!1){let[t,n]=oe.useReducer(()=>({}),{}),r=oe.useMemo(()=>sP(i),[i,t]);return Dr(()=>{if(!i)return;let s=new ResizeObserver(n);return s.observe(i),()=>{s.disconnect()}},[i]),e?{width:`${r.width}px`,height:`${r.height}px`}:r}let oP=class extends Map{constructor(e){super(),this.factory=e}get(e){let t=super.get(e);return t===void 0&&(t=this.factory(e),this.set(e,t)),t}};function d4(i,e){let t=i(),n=new Set;return{getSnapshot(){return t},subscribe(r){return n.add(r),()=>n.delete(r)},dispatch(r,...s){let o=e[r].call(t,...s);o&&(t=o,n.forEach(l=>l()))}}}function f4(i){return oe.useSyncExternalStore(i.subscribe,i.getSnapshot,i.getSnapshot)}let lP=new oP(()=>d4(()=>[],{ADD(i){return this.includes(i)?this:[...this,i]},REMOVE(i){let e=this.indexOf(i);if(e===-1)return this;let t=this.slice();return t.splice(e,1),t}}));function iA(i,e){let t=lP.get(e),n=oe.useId(),r=f4(t);if(Dr(()=>{if(i)return t.dispatch("ADD",n),()=>t.dispatch("REMOVE",n)},[t,i]),!i)return!1;let s=r.indexOf(n),o=r.length;return s===-1&&(s=o,o+=1),s===o-1}let gw=new Map,u1=new Map;function u3(i){var e;let t=(e=u1.get(i))!=null?e:0;return u1.set(i,t+1),t!==0?()=>c3(i):(gw.set(i,{"aria-hidden":i.getAttribute("aria-hidden"),inert:i.inert}),i.setAttribute("aria-hidden","true"),i.inert=!0,()=>c3(i))}function c3(i){var e;let t=(e=u1.get(i))!=null?e:1;if(t===1?u1.delete(i):u1.set(i,t-1),t!==1)return;let n=gw.get(i);n&&(n["aria-hidden"]===null?i.removeAttribute("aria-hidden"):i.setAttribute("aria-hidden",n["aria-hidden"]),i.inert=n.inert,gw.delete(i))}function uP(i,{allowed:e,disallowed:t}={}){let n=iA(i,"inert-others");Dr(()=>{var r,s;if(!n)return;let o=Ql();for(let c of(r=t==null?void 0:t())!=null?r:[])c&&o.add(u3(c));let l=(s=e==null?void 0:e())!=null?s:[];for(let c of l){if(!c)continue;let d=sp(c);if(!d)continue;let h=c.parentElement;for(;h&&h!==d.body;){for(let f of h.children)l.some(v=>f.contains(v))||o.add(u3(f));h=h.parentElement}}return o.dispose},[n,e,t])}function cP(i,e,t){let n=K0(r=>{let s=r.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&t()});oe.useEffect(()=>{if(!i)return;let r=e===null?null:e instanceof HTMLElement?e:e.current;if(!r)return;let s=Ql();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>n.current(r));o.observe(r),s.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>n.current(r));o.observe(r),s.add(()=>o.disconnect())}return()=>s.dispose()},[e,n,i])}let mw=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(i=>`${i}:not([tabindex='-1'])`).join(","),hP=["[data-autofocus]"].map(i=>`${i}:not([tabindex='-1'])`).join(",");var vw=(i=>(i[i.First=1]="First",i[i.Previous=2]="Previous",i[i.Next=4]="Next",i[i.Last=8]="Last",i[i.WrapAround=16]="WrapAround",i[i.NoScroll=32]="NoScroll",i[i.AutoFocus=64]="AutoFocus",i))(vw||{}),dP=(i=>(i[i.Error=0]="Error",i[i.Overflow=1]="Overflow",i[i.Success=2]="Success",i[i.Underflow=3]="Underflow",i))(dP||{}),fP=(i=>(i[i.Previous=-1]="Previous",i[i.Next=1]="Next",i))(fP||{});function p4(i=document.body){return i==null?[]:Array.from(i.querySelectorAll(mw)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}function pP(i=document.body){return i==null?[]:Array.from(i.querySelectorAll(hP)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}var sA=(i=>(i[i.Strict=0]="Strict",i[i.Loose=1]="Loose",i))(sA||{});function aA(i,e=0){var t;return i===((t=sp(i))==null?void 0:t.body)?!1:Jh(e,{0(){return i.matches(mw)},1(){let n=i;for(;n!==null;){if(n.matches(mw))return!0;n=n.parentElement}return!1}})}function g4(i){let e=sp(i);Ql().nextFrame(()=>{e&&!aA(e.activeElement,0)&&mP(i)})}var gP=(i=>(i[i.Keyboard=0]="Keyboard",i[i.Mouse=1]="Mouse",i))(gP||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",i=>{i.metaKey||i.altKey||i.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",i=>{i.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:i.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function mP(i){i==null||i.focus({preventScroll:!0})}let vP=["textarea","input"].join(",");function yP(i){var e,t;return(t=(e=i==null?void 0:i.matches)==null?void 0:e.call(i,vP))!=null?t:!1}function m4(i,e=t=>t){return i.slice().sort((t,n)=>{let r=e(t),s=e(n);if(r===null||s===null)return 0;let o=r.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function wP(i,e){return bP(p4(),e,{relativeTo:i})}function bP(i,e,{sorted:t=!0,relativeTo:n=null,skipElements:r=[]}={}){let s=Array.isArray(i)?i.length>0?i[0].ownerDocument:document:i.ownerDocument,o=Array.isArray(i)?t?m4(i):i:e&64?pP(i):p4(i);r.length>0&&o.length>1&&(o=o.filter(g=>!r.some(b=>b!=null&&"current"in b?(b==null?void 0:b.current)===g:b===g))),n=n??s.activeElement;let l=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(n))-1;if(e&4)return Math.max(0,o.indexOf(n))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=e&32?{preventScroll:!0}:{},h=0,f=o.length,v;do{if(h>=f||h+f<=0)return 0;let g=c+h;if(e&16)g=(g+f)%f;else{if(g<0)return 3;if(g>=f)return 1}v=o[g],v==null||v.focus(d),h+=l}while(v!==s.activeElement);return e&6&&yP(v)&&v.select(),2}function v4(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function AP(){return/Android/gi.test(window.navigator.userAgent)}function xP(){return v4()||AP()}function Bm(i,e,t,n){let r=K0(t);oe.useEffect(()=>{if(!i)return;function s(o){r.current(o)}return document.addEventListener(e,s,n),()=>document.removeEventListener(e,s,n)},[i,e,n])}function SP(i,e,t,n){let r=K0(t);oe.useEffect(()=>{if(!i)return;function s(o){r.current(o)}return window.addEventListener(e,s,n),()=>window.removeEventListener(e,s,n)},[i,e,n])}const h3=30;function _P(i,e,t){let n=iA(i,"outside-click"),r=K0(t),s=oe.useCallback(function(c,d){if(c.defaultPrevented)return;let h=d(c);if(h===null||!h.getRootNode().contains(h)||!h.isConnected)return;let f=function v(g){return typeof g=="function"?v(g()):Array.isArray(g)||g instanceof Set?g:[g]}(e);for(let v of f)if(v!==null&&(v.contains(h)||c.composed&&c.composedPath().includes(v)))return;return!aA(h,sA.Loose)&&h.tabIndex!==-1&&c.preventDefault(),r.current(c,h)},[r,e]),o=oe.useRef(null);Bm(n,"pointerdown",c=>{var d,h;o.current=((h=(d=c.composedPath)==null?void 0:d.call(c))==null?void 0:h[0])||c.target},!0),Bm(n,"mousedown",c=>{var d,h;o.current=((h=(d=c.composedPath)==null?void 0:d.call(c))==null?void 0:h[0])||c.target},!0),Bm(n,"click",c=>{xP()||o.current&&(s(c,()=>o.current),o.current=null)},!0);let l=oe.useRef({x:0,y:0});Bm(n,"touchstart",c=>{l.current.x=c.touches[0].clientX,l.current.y=c.touches[0].clientY},!0),Bm(n,"touchend",c=>{let d={x:c.changedTouches[0].clientX,y:c.changedTouches[0].clientY};if(!(Math.abs(d.x-l.current.x)>=h3||Math.abs(d.y-l.current.y)>=h3))return s(c,()=>c.target instanceof HTMLElement?c.target:null)},!0),SP(n,"blur",c=>s(c,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function oA(...i){return oe.useMemo(()=>sp(...i),[...i])}function y4(i,e){return oe.useMemo(()=>{var t;if(i.type)return i.type;let n=(t=i.as)!=null?t:"button";if(typeof n=="string"&&n.toLowerCase()==="button"||(e==null?void 0:e.tagName)==="BUTTON"&&!e.hasAttribute("type"))return"button"},[i.type,i.as,e])}function EP(){let i;return{before({doc:e}){var t;let n=e.documentElement,r=(t=e.defaultView)!=null?t:window;i=Math.max(0,r.innerWidth-n.clientWidth)},after({doc:e,d:t}){let n=e.documentElement,r=Math.max(0,n.clientWidth-n.offsetWidth),s=Math.max(0,i-r);t.style(n,"paddingRight",`${s}px`)}}}function LP(){return v4()?{before({doc:i,d:e,meta:t}){function n(r){return t.containers.flatMap(s=>s()).some(s=>s.contains(r))}e.microTask(()=>{var r;if(window.getComputedStyle(i.documentElement).scrollBehavior!=="auto"){let l=Ql();l.style(i.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>l.dispose()))}let s=(r=window.scrollY)!=null?r:window.pageYOffset,o=null;e.addEventListener(i,"click",l=>{if(l.target instanceof HTMLElement)try{let c=l.target.closest("a");if(!c)return;let{hash:d}=new URL(c.href),h=i.querySelector(d);h&&!n(h)&&(o=h)}catch{}},!0),e.addEventListener(i,"touchstart",l=>{if(l.target instanceof HTMLElement)if(n(l.target)){let c=l.target;for(;c.parentElement&&n(c.parentElement);)c=c.parentElement;e.style(c,"overscrollBehavior","contain")}else e.style(l.target,"touchAction","none")}),e.addEventListener(i,"touchmove",l=>{if(l.target instanceof HTMLElement){if(l.target.tagName==="INPUT")return;if(n(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()}},{passive:!1}),e.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;s!==c&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function CP(){return{before({doc:i,d:e}){e.style(i.documentElement,"overflow","hidden")}}}function PP(i){let e={};for(let t of i)Object.assign(e,t(e));return e}let Ud=d4(()=>new Map,{PUSH(i,e){var t;let n=(t=this.get(i))!=null?t:{doc:i,count:0,d:Ql(),meta:new Set};return n.count++,n.meta.add(e),this.set(i,n),this},POP(i,e){let t=this.get(i);return t&&(t.count--,t.meta.delete(e)),this},SCROLL_PREVENT({doc:i,d:e,meta:t}){let n={doc:i,d:e,meta:PP(t)},r=[LP(),EP(),CP()];r.forEach(({before:s})=>s==null?void 0:s(n)),r.forEach(({after:s})=>s==null?void 0:s(n))},SCROLL_ALLOW({d:i}){i.dispose()},TEARDOWN({doc:i}){this.delete(i)}});Ud.subscribe(()=>{let i=Ud.getSnapshot(),e=new Map;for(let[t]of i)e.set(t,t.documentElement.style.overflow);for(let t of i.values()){let n=e.get(t.doc)==="hidden",r=t.count!==0;(r&&!n||!r&&n)&&Ud.dispatch(t.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",t),t.count===0&&Ud.dispatch("TEARDOWN",t)}});function NP(i,e,t=()=>({containers:[]})){let n=f4(Ud),r=e?n.get(e):void 0,s=r?r.count>0:!1;return Dr(()=>{if(!(!e||!i))return Ud.dispatch("PUSH",e,t),()=>Ud.dispatch("POP",e,t)},[i,e]),s}function kP(i,e,t=()=>[document.body]){let n=iA(i,"scroll-lock");NP(n,e,r=>{var s;return{containers:[...(s=r.containers)!=null?s:[],t]}})}function d3(i){return[i.screenX,i.screenY]}function TP(){let i=oe.useRef([-1,-1]);return{wasMoved(e){let t=d3(e);return i.current[0]===t[0]&&i.current[1]===t[1]?!1:(i.current=t,!0)},update(e){i.current=d3(e)}}}function IP(i=0){let[e,t]=oe.useState(i),n=oe.useCallback(c=>t(c),[e]),r=oe.useCallback(c=>t(d=>d|c),[e]),s=oe.useCallback(c=>(e&c)===c,[e]),o=oe.useCallback(c=>t(d=>d&~c),[t]),l=oe.useCallback(c=>t(d=>d^c),[t]);return{flags:e,setFlag:n,addFlag:r,hasFlag:s,removeFlag:o,toggleFlag:l}}var RP={},f3,p3;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((f3=process==null?void 0:RP)==null?void 0:f3.NODE_ENV)==="test"&&typeof((p3=Element==null?void 0:Element.prototype)==null?void 0:p3.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var FP=(i=>(i[i.None=0]="None",i[i.Closed=1]="Closed",i[i.Enter=2]="Enter",i[i.Leave=4]="Leave",i))(FP||{});function w4(i){let e={};for(let t in i)i[t]===!0&&(e[`data-${t}`]="");return e}function b4(i,e,t,n){let[r,s]=oe.useState(t),{hasFlag:o,addFlag:l,removeFlag:c}=IP(i&&r?3:0),d=oe.useRef(!1),h=oe.useRef(!1),f=Sv();return Dr(()=>{var v;if(i){if(t&&s(!0),!e){t&&l(3);return}return(v=void 0)==null||v.call(n,t),MP(e,{inFlight:d,prepare(){h.current?h.current=!1:h.current=d.current,d.current=!0,!h.current&&(t?(l(3),c(4)):(l(4),c(2)))},run(){h.current?t?(c(3),l(4)):(c(4),l(3)):t?c(1):l(1)},done(){var g;h.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(d.current=!1,c(7),t||s(!1),(g=void 0)==null||g.call(n,t))}})}},[i,t,e,f]),i?[r,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[t,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function MP(i,{prepare:e,run:t,done:n,inFlight:r}){let s=Ql();return DP(i,{prepare:e,inFlight:r}),s.nextFrame(()=>{t(),s.requestAnimationFrame(()=>{s.add(OP(i,n))})}),s.dispose}function OP(i,e){var t,n;let r=Ql();if(!i)return r.dispose;let s=!1;r.add(()=>{s=!0});let o=(n=(t=i.getAnimations)==null?void 0:t.call(i).filter(l=>l instanceof CSSTransition))!=null?n:[];return o.length===0?(e(),r.dispose):(Promise.allSettled(o.map(l=>l.finished)).then(()=>{s||e()}),r.dispose)}function DP(i,{inFlight:e,prepare:t}){if(e!=null&&e.current){t();return}let n=i.style.transition;i.style.transition="none",t(),i.offsetHeight,i.style.transition=n}function jP(i,{container:e,accept:t,walk:n}){let r=oe.useRef(t),s=oe.useRef(n);oe.useEffect(()=>{r.current=t,s.current=n},[t,n]),Dr(()=>{if(!e||!i)return;let o=sp(e);if(!o)return;let l=r.current,c=s.current,d=Object.assign(f=>l(f),{acceptNode:l}),h=o.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,d,!1);for(;h.nextNode();)c(h.currentNode)},[e,i,r,s])}function Ev(){return typeof window<"u"}function pm(i){return A4(i)?(i.nodeName||"").toLowerCase():"#document"}function Pa(i){var e;return(i==null||(e=i.ownerDocument)==null?void 0:e.defaultView)||window}function Jl(i){var e;return(e=(A4(i)?i.ownerDocument:i.document)||window.document)==null?void 0:e.documentElement}function A4(i){return Ev()?i instanceof Node||i instanceof Pa(i).Node:!1}function As(i){return Ev()?i instanceof Element||i instanceof Pa(i).Element:!1}function Yl(i){return Ev()?i instanceof HTMLElement||i instanceof Pa(i).HTMLElement:!1}function g3(i){return!Ev()||typeof ShadowRoot>"u"?!1:i instanceof ShadowRoot||i instanceof Pa(i).ShadowRoot}function Q0(i){const{overflow:e,overflowX:t,overflowY:n,display:r}=Yo(i);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!["inline","contents"].includes(r)}function BP(i){return["table","td","th"].includes(pm(i))}function Lv(i){return[":popover-open",":modal"].some(e=>{try{return i.matches(e)}catch{return!1}})}function lA(i){const e=uA(),t=As(i)?Yo(i):i;return["transform","translate","scale","rotate","perspective"].some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(t.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(t.contain||"").includes(n))}function zP(i){let e=Wh(i);for(;Yl(e)&&!dm(e);){if(lA(e))return e;if(Lv(e))return null;e=Wh(e)}return null}function uA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function dm(i){return["html","body","#document"].includes(pm(i))}function Yo(i){return Pa(i).getComputedStyle(i)}function Cv(i){return As(i)?{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}:{scrollLeft:i.scrollX,scrollTop:i.scrollY}}function Wh(i){if(pm(i)==="html")return i;const e=i.assignedSlot||i.parentNode||g3(i)&&i.host||Jl(i);return g3(e)?e.host:e}function x4(i){const e=Wh(i);return dm(e)?i.ownerDocument?i.ownerDocument.body:i.body:Yl(e)&&Q0(e)?e:x4(e)}function m1(i,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const r=x4(i),s=r===((n=i.ownerDocument)==null?void 0:n.body),o=Pa(r);if(s){const l=yw(o);return e.concat(o,o.visualViewport||[],Q0(r)?r:[],l&&t?m1(l):[])}return e.concat(r,m1(r,[],t))}function yw(i){return i.parent&&Object.getPrototypeOf(i.parent)?i.frameElement:null}function UP(){const i=navigator.userAgentData;return i&&Array.isArray(i.brands)?i.brands.map(e=>{let{brand:t,version:n}=e;return t+"/"+n}).join(" "):navigator.userAgent}const Kf=Math.min,Ji=Math.max,v1=Math.round,j2=Math.floor,Gl=i=>({x:i,y:i}),HP={left:"right",right:"left",bottom:"top",top:"bottom"},$P={start:"end",end:"start"};function m3(i,e,t){return Ji(i,Kf(e,t))}function gm(i,e){return typeof i=="function"?i(e):i}function Vh(i){return i.split("-")[0]}function J0(i){return i.split("-")[1]}function S4(i){return i==="x"?"y":"x"}function _4(i){return i==="y"?"height":"width"}function Qf(i){return["top","bottom"].includes(Vh(i))?"y":"x"}function E4(i){return S4(Qf(i))}function qP(i,e,t){t===void 0&&(t=!1);const n=J0(i),r=E4(i),s=_4(r);let o=r==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=U5(o)),[o,U5(o)]}function WP(i){const e=U5(i);return[ww(i),e,ww(e)]}function ww(i){return i.replace(/start|end/g,e=>$P[e])}function VP(i,e,t){const n=["left","right"],r=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(i){case"top":case"bottom":return t?e?r:n:e?n:r;case"left":case"right":return e?s:o;default:return[]}}function GP(i,e,t,n){const r=J0(i);let s=VP(Vh(i),t==="start",n);return r&&(s=s.map(o=>o+"-"+r),e&&(s=s.concat(s.map(ww)))),s}function U5(i){return i.replace(/left|right|bottom|top/g,e=>HP[e])}function XP(i){return{top:0,right:0,bottom:0,left:0,...i}}function YP(i){return typeof i!="number"?XP(i):{top:i,right:i,bottom:i,left:i}}function H5(i){const{x:e,y:t,width:n,height:r}=i;return{width:n,height:r,top:t,left:e,right:e+n,bottom:t+r,x:e,y:t}}function v3(i,e,t){let{reference:n,floating:r}=i;const s=Qf(e),o=E4(e),l=_4(o),c=Vh(e),d=s==="y",h=n.x+n.width/2-r.width/2,f=n.y+n.height/2-r.height/2,v=n[l]/2-r[l]/2;let g;switch(c){case"top":g={x:h,y:n.y-r.height};break;case"bottom":g={x:h,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:f};break;case"left":g={x:n.x-r.width,y:f};break;default:g={x:n.x,y:n.y}}switch(J0(e)){case"start":g[o]-=v*(t&&d?-1:1);break;case"end":g[o]+=v*(t&&d?-1:1);break}return g}const KP=async(i,e,t)=>{const{placement:n="bottom",strategy:r="absolute",middleware:s=[],platform:o}=t,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:i,floating:e,strategy:r}),{x:h,y:f}=v3(d,n,c),v=n,g={},b=0;for(let x=0;x<l.length;x++){const{name:E,fn:S}=l[x],{x:P,y:F,data:M,reset:$}=await S({x:h,y:f,initialPlacement:n,placement:v,strategy:r,middlewareData:g,rects:d,platform:o,elements:{reference:i,floating:e}});h=P??h,f=F??f,g={...g,[E]:{...g[E],...M}},$&&b<=50&&(b++,typeof $=="object"&&($.placement&&(v=$.placement),$.rects&&(d=$.rects===!0?await o.getElementRects({reference:i,floating:e,strategy:r}):$.rects),{x:h,y:f}=v3(d,v,c)),x=-1)}return{x:h,y:f,placement:v,strategy:r,middlewareData:g}};async function Pv(i,e){var t;e===void 0&&(e={});const{x:n,y:r,platform:s,rects:o,elements:l,strategy:c}=i,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:v=!1,padding:g=0}=gm(e,i),b=YP(g),E=l[v?f==="floating"?"reference":"floating":f],S=H5(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(E)))==null||t?E:E.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:c})),P=f==="floating"?{x:n,y:r,width:o.floating.width,height:o.floating.height}:o.reference,F=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),M=await(s.isElement==null?void 0:s.isElement(F))?await(s.getScale==null?void 0:s.getScale(F))||{x:1,y:1}:{x:1,y:1},$=H5(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:P,offsetParent:F,strategy:c}):P);return{top:(S.top-$.top+b.top)/M.y,bottom:($.bottom-S.bottom+b.bottom)/M.y,left:(S.left-$.left+b.left)/M.x,right:($.right-S.right+b.right)/M.x}}const QP=function(i){return i===void 0&&(i={}),{name:"flip",options:i,async fn(e){var t,n;const{placement:r,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:v,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:x=!0,...E}=gm(i,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const S=Vh(r),P=Qf(l),F=Vh(l)===l,M=await(c.isRTL==null?void 0:c.isRTL(d.floating)),$=v||(F||!x?[U5(l)]:WP(l)),H=b!=="none";!v&&H&&$.push(...GP(l,x,b,M));const q=[l,...$],T=await Pv(e,E),D=[];let J=((n=s.flip)==null?void 0:n.overflows)||[];if(h&&D.push(T[S]),f){const U=qP(r,o,M);D.push(T[U[0]],T[U[1]])}if(J=[...J,{placement:r,overflows:D}],!D.every(U=>U<=0)){var I,O;const U=(((I=s.flip)==null?void 0:I.index)||0)+1,ce=q[U];if(ce)return{data:{index:U,overflows:J},reset:{placement:ce}};let B=(O=J.filter(j=>j.overflows[0]<=0).sort((j,G)=>j.overflows[1]-G.overflows[1])[0])==null?void 0:O.placement;if(!B)switch(g){case"bestFit":{var X;const j=(X=J.filter(G=>{if(H){const ie=Qf(G.placement);return ie===P||ie==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(ie=>ie>0).reduce((ie,le)=>ie+le,0)]).sort((G,ie)=>G[1]-ie[1])[0])==null?void 0:X[0];j&&(B=j);break}case"initialPlacement":B=l;break}if(r!==B)return{reset:{placement:B}}}return{}}}};async function JP(i,e){const{placement:t,platform:n,elements:r}=i,s=await(n.isRTL==null?void 0:n.isRTL(r.floating)),o=Vh(t),l=J0(t),c=Qf(t)==="y",d=["left","top"].includes(o)?-1:1,h=s&&c?-1:1,f=gm(e,i);let{mainAxis:v,crossAxis:g,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof b=="number"&&(g=l==="end"?b*-1:b),c?{x:g*h,y:v*d}:{x:v*d,y:g*h}}const ZP=function(i){return i===void 0&&(i=0),{name:"offset",options:i,async fn(e){var t,n;const{x:r,y:s,placement:o,middlewareData:l}=e,c=await JP(e,i);return o===((t=l.offset)==null?void 0:t.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:r+c.x,y:s+c.y,data:{...c,placement:o}}}}},eN=function(i){return i===void 0&&(i={}),{name:"shift",options:i,async fn(e){const{x:t,y:n,placement:r}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:E=>{let{x:S,y:P}=E;return{x:S,y:P}}},...c}=gm(i,e),d={x:t,y:n},h=await Pv(e,c),f=Qf(Vh(r)),v=S4(f);let g=d[v],b=d[f];if(s){const E=v==="y"?"top":"left",S=v==="y"?"bottom":"right",P=g+h[E],F=g-h[S];g=m3(P,g,F)}if(o){const E=f==="y"?"top":"left",S=f==="y"?"bottom":"right",P=b+h[E],F=b-h[S];b=m3(P,b,F)}const x=l.fn({...e,[v]:g,[f]:b});return{...x,data:{x:x.x-t,y:x.y-n,enabled:{[v]:s,[f]:o}}}}}},tN=function(i){return i===void 0&&(i={}),{name:"size",options:i,async fn(e){var t,n;const{placement:r,rects:s,platform:o,elements:l}=e,{apply:c=()=>{},...d}=gm(i,e),h=await Pv(e,d),f=Vh(r),v=J0(r),g=Qf(r)==="y",{width:b,height:x}=s.floating;let E,S;f==="top"||f==="bottom"?(E=f,S=v===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(S=f,E=v==="end"?"top":"bottom");const P=x-h.top-h.bottom,F=b-h.left-h.right,M=Kf(x-h[E],P),$=Kf(b-h[S],F),H=!e.middlewareData.shift;let q=M,T=$;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(T=F),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(q=P),H&&!v){const J=Ji(h.left,0),I=Ji(h.right,0),O=Ji(h.top,0),X=Ji(h.bottom,0);g?T=b-2*(J!==0||I!==0?J+I:Ji(h.left,h.right)):q=x-2*(O!==0||X!==0?O+X:Ji(h.top,h.bottom))}await c({...e,availableWidth:T,availableHeight:q});const D=await o.getDimensions(l.floating);return b!==D.width||x!==D.height?{reset:{rects:!0}}:{}}}};function L4(i){const e=Yo(i);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const r=Yl(i),s=r?i.offsetWidth:t,o=r?i.offsetHeight:n,l=v1(t)!==s||v1(n)!==o;return l&&(t=s,n=o),{width:t,height:n,$:l}}function cA(i){return As(i)?i:i.contextElement}function eg(i){const e=cA(i);if(!Yl(e))return Gl(1);const t=e.getBoundingClientRect(),{width:n,height:r,$:s}=L4(e);let o=(s?v1(t.width):t.width)/n,l=(s?v1(t.height):t.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const nN=Gl(0);function C4(i){const e=Pa(i);return!uA()||!e.visualViewport?nN:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function rN(i,e,t){return e===void 0&&(e=!1),!t||e&&t!==Pa(i)?!1:e}function Jf(i,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=i.getBoundingClientRect(),s=cA(i);let o=Gl(1);e&&(n?As(n)&&(o=eg(n)):o=eg(i));const l=rN(s,t,n)?C4(s):Gl(0);let c=(r.left+l.x)/o.x,d=(r.top+l.y)/o.y,h=r.width/o.x,f=r.height/o.y;if(s){const v=Pa(s),g=n&&As(n)?Pa(n):n;let b=v,x=yw(b);for(;x&&n&&g!==b;){const E=eg(x),S=x.getBoundingClientRect(),P=Yo(x),F=S.left+(x.clientLeft+parseFloat(P.paddingLeft))*E.x,M=S.top+(x.clientTop+parseFloat(P.paddingTop))*E.y;c*=E.x,d*=E.y,h*=E.x,f*=E.y,c+=F,d+=M,b=Pa(x),x=yw(b)}}return H5({width:h,height:f,x:c,y:d})}function hA(i,e){const t=Cv(i).scrollLeft;return e?e.left+t:Jf(Jl(i)).left+t}function P4(i,e,t){t===void 0&&(t=!1);const n=i.getBoundingClientRect(),r=n.left+e.scrollLeft-(t?0:hA(i,n)),s=n.top+e.scrollTop;return{x:r,y:s}}function iN(i){let{elements:e,rect:t,offsetParent:n,strategy:r}=i;const s=r==="fixed",o=Jl(n),l=e?Lv(e.floating):!1;if(n===o||l&&s)return t;let c={scrollLeft:0,scrollTop:0},d=Gl(1);const h=Gl(0),f=Yl(n);if((f||!f&&!s)&&((pm(n)!=="body"||Q0(o))&&(c=Cv(n)),Yl(n))){const g=Jf(n);d=eg(n),h.x=g.x+n.clientLeft,h.y=g.y+n.clientTop}const v=o&&!f&&!s?P4(o,c,!0):Gl(0);return{width:t.width*d.x,height:t.height*d.y,x:t.x*d.x-c.scrollLeft*d.x+h.x+v.x,y:t.y*d.y-c.scrollTop*d.y+h.y+v.y}}function sN(i){return Array.from(i.getClientRects())}function aN(i){const e=Jl(i),t=Cv(i),n=i.ownerDocument.body,r=Ji(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=Ji(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-t.scrollLeft+hA(i);const l=-t.scrollTop;return Yo(n).direction==="rtl"&&(o+=Ji(e.clientWidth,n.clientWidth)-r),{width:r,height:s,x:o,y:l}}function oN(i,e){const t=Pa(i),n=Jl(i),r=t.visualViewport;let s=n.clientWidth,o=n.clientHeight,l=0,c=0;if(r){s=r.width,o=r.height;const d=uA();(!d||d&&e==="fixed")&&(l=r.offsetLeft,c=r.offsetTop)}return{width:s,height:o,x:l,y:c}}function lN(i,e){const t=Jf(i,!0,e==="fixed"),n=t.top+i.clientTop,r=t.left+i.clientLeft,s=Yl(i)?eg(i):Gl(1),o=i.clientWidth*s.x,l=i.clientHeight*s.y,c=r*s.x,d=n*s.y;return{width:o,height:l,x:c,y:d}}function y3(i,e,t){let n;if(e==="viewport")n=oN(i,t);else if(e==="document")n=aN(Jl(i));else if(As(e))n=lN(e,t);else{const r=C4(i);n={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return H5(n)}function N4(i,e){const t=Wh(i);return t===e||!As(t)||dm(t)?!1:Yo(t).position==="fixed"||N4(t,e)}function uN(i,e){const t=e.get(i);if(t)return t;let n=m1(i,[],!1).filter(l=>As(l)&&pm(l)!=="body"),r=null;const s=Yo(i).position==="fixed";let o=s?Wh(i):i;for(;As(o)&&!dm(o);){const l=Yo(o),c=lA(o);!c&&l.position==="fixed"&&(r=null),(s?!c&&!r:!c&&l.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||Q0(o)&&!c&&N4(i,o))?n=n.filter(h=>h!==o):r=l,o=Wh(o)}return e.set(i,n),n}function cN(i){let{element:e,boundary:t,rootBoundary:n,strategy:r}=i;const o=[...t==="clippingAncestors"?Lv(e)?[]:uN(e,this._c):[].concat(t),n],l=o[0],c=o.reduce((d,h)=>{const f=y3(e,h,r);return d.top=Ji(f.top,d.top),d.right=Kf(f.right,d.right),d.bottom=Kf(f.bottom,d.bottom),d.left=Ji(f.left,d.left),d},y3(e,l,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function hN(i){const{width:e,height:t}=L4(i);return{width:e,height:t}}function dN(i,e,t){const n=Yl(e),r=Jl(e),s=t==="fixed",o=Jf(i,!0,s,e);let l={scrollLeft:0,scrollTop:0};const c=Gl(0);if(n||!n&&!s)if((pm(e)!=="body"||Q0(r))&&(l=Cv(e)),n){const v=Jf(e,!0,s,e);c.x=v.x+e.clientLeft,c.y=v.y+e.clientTop}else r&&(c.x=hA(r));const d=r&&!n&&!s?P4(r,l):Gl(0),h=o.left+l.scrollLeft-c.x-d.x,f=o.top+l.scrollTop-c.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function By(i){return Yo(i).position==="static"}function w3(i,e){if(!Yl(i)||Yo(i).position==="fixed")return null;if(e)return e(i);let t=i.offsetParent;return Jl(i)===t&&(t=t.ownerDocument.body),t}function k4(i,e){const t=Pa(i);if(Lv(i))return t;if(!Yl(i)){let r=Wh(i);for(;r&&!dm(r);){if(As(r)&&!By(r))return r;r=Wh(r)}return t}let n=w3(i,e);for(;n&&BP(n)&&By(n);)n=w3(n,e);return n&&dm(n)&&By(n)&&!lA(n)?t:n||zP(i)||t}const fN=async function(i){const e=this.getOffsetParent||k4,t=this.getDimensions,n=await t(i.floating);return{reference:dN(i.reference,await e(i.floating),i.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function pN(i){return Yo(i).direction==="rtl"}const gN={convertOffsetParentRelativeRectToViewportRelativeRect:iN,getDocumentElement:Jl,getClippingRect:cN,getOffsetParent:k4,getElementRects:fN,getClientRects:sN,getDimensions:hN,getScale:eg,isElement:As,isRTL:pN};function T4(i,e){return i.x===e.x&&i.y===e.y&&i.width===e.width&&i.height===e.height}function mN(i,e){let t=null,n;const r=Jl(i);function s(){var l;clearTimeout(n),(l=t)==null||l.disconnect(),t=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const d=i.getBoundingClientRect(),{left:h,top:f,width:v,height:g}=d;if(l||e(),!v||!g)return;const b=j2(f),x=j2(r.clientWidth-(h+v)),E=j2(r.clientHeight-(f+g)),S=j2(h),F={rootMargin:-b+"px "+-x+"px "+-E+"px "+-S+"px",threshold:Ji(0,Kf(1,c))||1};let M=!0;function $(H){const q=H[0].intersectionRatio;if(q!==c){if(!M)return o();q?o(!1,q):n=setTimeout(()=>{o(!1,1e-7)},1e3)}q===1&&!T4(d,i.getBoundingClientRect())&&o(),M=!1}try{t=new IntersectionObserver($,{...F,root:r.ownerDocument})}catch{t=new IntersectionObserver($,F)}t.observe(i)}return o(!0),s}function vN(i,e,t,n){n===void 0&&(n={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=cA(i),h=r||s?[...d?m1(d):[],...m1(e)]:[];h.forEach(S=>{r&&S.addEventListener("scroll",t,{passive:!0}),s&&S.addEventListener("resize",t)});const f=d&&l?mN(d,t):null;let v=-1,g=null;o&&(g=new ResizeObserver(S=>{let[P]=S;P&&P.target===d&&g&&(g.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var F;(F=g)==null||F.observe(e)})),t()}),d&&!c&&g.observe(d),g.observe(e));let b,x=c?Jf(i):null;c&&E();function E(){const S=Jf(i);x&&!T4(x,S)&&t(),x=S,b=requestAnimationFrame(E)}return t(),()=>{var S;h.forEach(P=>{r&&P.removeEventListener("scroll",t),s&&P.removeEventListener("resize",t)}),f==null||f(),(S=g)==null||S.disconnect(),g=null,c&&cancelAnimationFrame(b)}}const zy=Pv,yN=ZP,wN=eN,bN=QP,AN=tN,xN=(i,e,t)=>{const n=new Map,r={platform:gN,...t},s={...r.platform,_c:n};return KP(i,e,{...r,platform:s})};var X2=typeof document<"u"?oe.useLayoutEffect:oe.useEffect;function $5(i,e){if(i===e)return!0;if(typeof i!=typeof e)return!1;if(typeof i=="function"&&i.toString()===e.toString())return!0;let t,n,r;if(i&&e&&typeof i=="object"){if(Array.isArray(i)){if(t=i.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!$5(i[n],e[n]))return!1;return!0}if(r=Object.keys(i),t=r.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,r[n]))return!1;for(n=t;n--!==0;){const s=r[n];if(!(s==="_owner"&&i.$$typeof)&&!$5(i[s],e[s]))return!1}return!0}return i!==i&&e!==e}function I4(i){return typeof window>"u"?1:(i.ownerDocument.defaultView||window).devicePixelRatio||1}function b3(i,e){const t=I4(i);return Math.round(e*t)/t}function Uy(i){const e=oe.useRef(i);return X2(()=>{e.current=i}),e}function SN(i){i===void 0&&(i={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:r,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=i,[h,f]=oe.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[v,g]=oe.useState(n);$5(v,n)||g(n);const[b,x]=oe.useState(null),[E,S]=oe.useState(null),P=oe.useCallback(G=>{G!==H.current&&(H.current=G,x(G))},[]),F=oe.useCallback(G=>{G!==q.current&&(q.current=G,S(G))},[]),M=s||b,$=o||E,H=oe.useRef(null),q=oe.useRef(null),T=oe.useRef(h),D=c!=null,J=Uy(c),I=Uy(r),O=Uy(d),X=oe.useCallback(()=>{if(!H.current||!q.current)return;const G={placement:e,strategy:t,middleware:v};I.current&&(G.platform=I.current),xN(H.current,q.current,G).then(ie=>{const le={...ie,isPositioned:O.current!==!1};U.current&&!$5(T.current,le)&&(T.current=le,Vl.flushSync(()=>{f(le)}))})},[v,e,t,I,O]);X2(()=>{d===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(G=>({...G,isPositioned:!1})))},[d]);const U=oe.useRef(!1);X2(()=>(U.current=!0,()=>{U.current=!1}),[]),X2(()=>{if(M&&(H.current=M),$&&(q.current=$),M&&$){if(J.current)return J.current(M,$,X);X()}},[M,$,X,J,D]);const ce=oe.useMemo(()=>({reference:H,floating:q,setReference:P,setFloating:F}),[P,F]),B=oe.useMemo(()=>({reference:M,floating:$}),[M,$]),j=oe.useMemo(()=>{const G={position:t,left:0,top:0};if(!B.floating)return G;const ie=b3(B.floating,h.x),le=b3(B.floating,h.y);return l?{...G,transform:"translate("+ie+"px, "+le+"px)",...I4(B.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ie,top:le}},[t,l,B.floating,h.x,h.y]);return oe.useMemo(()=>({...h,update:X,refs:ce,elements:B,floatingStyles:j}),[h,X,ce,B,j])}const R4=(i,e)=>({...yN(i),options:[i,e]}),_N=(i,e)=>({...wN(i),options:[i,e]}),EN=(i,e)=>({...bN(i),options:[i,e]}),LN=(i,e)=>({...AN(i),options:[i,e]}),F4={...N5},CN=F4.useInsertionEffect,PN=CN||(i=>i());function M4(i){const e=oe.useRef(()=>{});return PN(()=>{e.current=i}),oe.useCallback(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.current==null?void 0:e.current(...n)},[])}var bw=typeof document<"u"?oe.useLayoutEffect:oe.useEffect;let A3=!1,NN=0;const x3=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+NN++;function kN(){const[i,e]=oe.useState(()=>A3?x3():void 0);return bw(()=>{i==null&&e(x3())},[]),oe.useEffect(()=>{A3=!0},[]),i}const TN=F4.useId,IN=TN||kN;function RN(){const i=new Map;return{emit(e,t){var n;(n=i.get(e))==null||n.forEach(r=>r(t))},on(e,t){i.set(e,[...i.get(e)||[],t])},off(e,t){var n;i.set(e,((n=i.get(e))==null?void 0:n.filter(r=>r!==t))||[])}}}const FN=oe.createContext(null),MN=oe.createContext(null),ON=()=>{var i;return((i=oe.useContext(FN))==null?void 0:i.id)||null},DN=()=>oe.useContext(MN),jN="data-floating-ui-focusable";function BN(i){const{open:e=!1,onOpenChange:t,elements:n}=i,r=IN(),s=oe.useRef({}),[o]=oe.useState(()=>RN()),l=ON()!=null,[c,d]=oe.useState(n.reference),h=M4((g,b,x)=>{s.current.openEvent=g?b:void 0,o.emit("openchange",{open:g,event:b,reason:x,nested:l}),t==null||t(g,b,x)}),f=oe.useMemo(()=>({setPositionReference:d}),[]),v=oe.useMemo(()=>({reference:c||n.reference||null,floating:n.floating||null,domReference:n.reference}),[c,n.reference,n.floating]);return oe.useMemo(()=>({dataRef:s,open:e,onOpenChange:h,elements:v,events:o,floatingId:r,refs:f}),[e,h,v,o,r,f])}function zN(i){i===void 0&&(i={});const{nodeId:e}=i,t=BN({...i,elements:{reference:null,floating:null,...i.elements}}),n=i.rootContext||t,r=n.elements,[s,o]=oe.useState(null),[l,c]=oe.useState(null),h=(r==null?void 0:r.domReference)||s,f=oe.useRef(null),v=DN();bw(()=>{h&&(f.current=h)},[h]);const g=SN({...i,elements:{...r,...l&&{reference:l}}}),b=oe.useCallback(F=>{const M=As(F)?{getBoundingClientRect:()=>F.getBoundingClientRect(),contextElement:F}:F;c(M),g.refs.setReference(M)},[g.refs]),x=oe.useCallback(F=>{(As(F)||F===null)&&(f.current=F,o(F)),(As(g.refs.reference.current)||g.refs.reference.current===null||F!==null&&!As(F))&&g.refs.setReference(F)},[g.refs]),E=oe.useMemo(()=>({...g.refs,setReference:x,setPositionReference:b,domReference:f}),[g.refs,x,b]),S=oe.useMemo(()=>({...g.elements,domReference:h}),[g.elements,h]),P=oe.useMemo(()=>({...g,...n,refs:E,elements:S,nodeId:e}),[g,E,S,e,n]);return bw(()=>{n.dataRef.current.floatingContext=P;const F=v==null?void 0:v.nodesRef.current.find(M=>M.id===e);F&&(F.context=P)}),oe.useMemo(()=>({...g,context:P,refs:E,elements:S}),[g,E,S,P])}const S3="active",_3="selected";function Hy(i,e,t){const n=new Map,r=t==="item";let s=i;if(r&&i){const{[S3]:o,[_3]:l,...c}=i;s=c}return{...t==="floating"&&{tabIndex:-1,[jN]:""},...s,...e.map(o=>{const l=o?o[t]:null;return typeof l=="function"?i?l(i):null:l}).concat(i).reduce((o,l)=>(l&&Object.entries(l).forEach(c=>{let[d,h]=c;if(!(r&&[S3,_3].includes(d)))if(d.indexOf("on")===0){if(n.has(d)||n.set(d,[]),typeof h=="function"){var f;(f=n.get(d))==null||f.push(h),o[d]=function(){for(var v,g=arguments.length,b=new Array(g),x=0;x<g;x++)b[x]=arguments[x];return(v=n.get(d))==null?void 0:v.map(E=>E(...b)).find(E=>E!==void 0)}}}else o[d]=h}),o),{})}}function UN(i){i===void 0&&(i=[]);const e=i.map(l=>l==null?void 0:l.reference),t=i.map(l=>l==null?void 0:l.floating),n=i.map(l=>l==null?void 0:l.item),r=oe.useCallback(l=>Hy(l,i,"reference"),e),s=oe.useCallback(l=>Hy(l,i,"floating"),t),o=oe.useCallback(l=>Hy(l,i,"item"),n);return oe.useMemo(()=>({getReferenceProps:r,getFloatingProps:s,getItemProps:o}),[r,s,o])}function E3(i,e){return{...i,rects:{...i.rects,floating:{...i.rects.floating,height:e}}}}const HN=i=>({name:"inner",options:i,async fn(e){const{listRef:t,overflowRef:n,onFallbackChange:r,offset:s=0,index:o=0,minItemsVisible:l=4,referenceOverflowThreshold:c=0,scrollRef:d,...h}=gm(i,e),{rects:f,elements:{floating:v}}=e,g=t.current[o],b=(d==null?void 0:d.current)||v,x=v.clientTop||b.clientTop,E=v.clientTop!==0,S=b.clientTop!==0,P=v===b;if(!g)return{};const F={...e,...await R4(-g.offsetTop-v.clientTop-f.reference.height/2-g.offsetHeight/2-s).fn(e)},M=await zy(E3(F,b.scrollHeight+x+v.clientTop),h),$=await zy(F,{...h,elementContext:"reference"}),H=Ji(0,M.top),q=F.y+H,J=(b.scrollHeight>b.clientHeight?I=>I:v1)(Ji(0,b.scrollHeight+(E&&P||S?x*2:0)-H-Ji(0,M.bottom)));if(b.style.maxHeight=J+"px",b.scrollTop=H,r){const I=b.offsetHeight<g.offsetHeight*Kf(l,t.current.length)-1||$.top>=-c||$.bottom>=-c;Vl.flushSync(()=>r(I))}return n&&(n.current=await zy(E3({...F,y:q},b.offsetHeight+x+v.clientTop),h)),{y:q}}});function $N(i,e){const{open:t,elements:n}=i,{enabled:r=!0,overflowRef:s,scrollRef:o,onChange:l}=e,c=M4(l),d=oe.useRef(!1),h=oe.useRef(null),f=oe.useRef(null);oe.useEffect(()=>{if(!r)return;function g(x){if(x.ctrlKey||!b||s.current==null)return;const E=x.deltaY,S=s.current.top>=-.5,P=s.current.bottom>=-.5,F=b.scrollHeight-b.clientHeight,M=E<0?-1:1,$=E<0?"max":"min";b.scrollHeight<=b.clientHeight||(!S&&E>0||!P&&E<0?(x.preventDefault(),Vl.flushSync(()=>{c(H=>H+Math[$](E,F*M))})):/firefox/i.test(UP())&&(b.scrollTop+=E))}const b=(o==null?void 0:o.current)||n.floating;if(t&&b)return b.addEventListener("wheel",g),requestAnimationFrame(()=>{h.current=b.scrollTop,s.current!=null&&(f.current={...s.current})}),()=>{h.current=null,f.current=null,b.removeEventListener("wheel",g)}},[r,t,n.floating,s,o,c]);const v=oe.useMemo(()=>({onKeyDown(){d.current=!0},onWheel(){d.current=!1},onPointerMove(){d.current=!1},onScroll(){const g=(o==null?void 0:o.current)||n.floating;if(!(!s.current||!g||!d.current)){if(h.current!==null){const b=g.scrollTop-h.current;(s.current.bottom<-.5&&b<-1||s.current.top<-.5&&b>1)&&Vl.flushSync(()=>c(x=>x+b))}requestAnimationFrame(()=>{h.current=g.scrollTop})}}}),[n.floating,c,s,o]);return oe.useMemo(()=>r?{floating:v}:{},[r,v])}let mm=oe.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});mm.displayName="FloatingContext";let dA=oe.createContext(null);dA.displayName="PlacementContext";function qN(i){return oe.useMemo(()=>i?typeof i=="string"?{to:i}:i:null,[i])}function WN(){return oe.useContext(mm).setReference}function VN(){return oe.useContext(mm).getReferenceProps}function GN(){let{getFloatingProps:i,slot:e}=oe.useContext(mm);return oe.useCallback((...t)=>Object.assign({},i(...t),{"data-anchor":e.anchor}),[i,e])}function XN(i=null){i===!1&&(i=null),typeof i=="string"&&(i={to:i});let e=oe.useContext(dA),t=oe.useMemo(()=>i,[JSON.stringify(i,(r,s)=>{var o;return(o=s==null?void 0:s.outerHTML)!=null?o:s})]);Dr(()=>{e==null||e(t??null)},[e,t]);let n=oe.useContext(mm);return oe.useMemo(()=>[n.setFloating,i?n.styles:{}],[n.setFloating,i,n.styles])}let L3=4;function YN({children:i,enabled:e=!0}){let[t,n]=oe.useState(null),[r,s]=oe.useState(0),o=oe.useRef(null),[l,c]=oe.useState(null);KN(l);let d=e&&t!==null&&l!==null,{to:h="bottom",gap:f=0,offset:v=0,padding:g=0,inner:b}=QN(t,l),[x,E="center"]=h.split(" ");Dr(()=>{d&&s(0)},[d]);let{refs:S,floatingStyles:P,context:F}=zN({open:d,placement:x==="selection"?E==="center"?"bottom":`bottom-${E}`:E==="center"?`${x}`:`${x}-${E}`,strategy:"absolute",transform:!1,middleware:[R4({mainAxis:x==="selection"?0:f,crossAxis:v}),_N({padding:g}),x!=="selection"&&EN({padding:g}),x==="selection"&&b?HN({...b,padding:g,overflowRef:o,offset:r,minItemsVisible:L3,referenceOverflowThreshold:g,onFallbackChange(I){var O,X;if(!I)return;let U=F.elements.floating;if(!U)return;let ce=parseFloat(getComputedStyle(U).scrollPaddingBottom)||0,B=Math.min(L3,U.childElementCount),j=0,G=0;for(let ie of(X=(O=F.elements.floating)==null?void 0:O.childNodes)!=null?X:[])if(ie instanceof HTMLElement){let le=ie.offsetTop,ue=le+ie.clientHeight+ce,k=U.scrollTop,Y=k+U.clientHeight;if(le>=k&&ue<=Y)B--;else{G=Math.max(0,Math.min(ue,Y)-Math.max(le,k)),j=ie.clientHeight;break}}B>=1&&s(ie=>{let le=j*B-G+ce;return ie>=le?ie:le})}}):null,LN({padding:g,apply({availableWidth:I,availableHeight:O,elements:X}){Object.assign(X.floating.style,{overflow:"auto",maxWidth:`${I}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${O}px)`})}})].filter(Boolean),whileElementsMounted:vN}),[M=x,$=E]=F.placement.split("-");x==="selection"&&(M="selection");let H=oe.useMemo(()=>({anchor:[M,$].filter(Boolean).join(" ")}),[M,$]),q=$N(F,{overflowRef:o,onChange:s}),{getReferenceProps:T,getFloatingProps:D}=UN([q]),J=Cn(I=>{c(I),S.setFloating(I)});return oe.createElement(dA.Provider,{value:n},oe.createElement(mm.Provider,{value:{setFloating:J,setReference:S.setReference,styles:P,getReferenceProps:T,getFloatingProps:D,slot:H}},i))}function KN(i){Dr(()=>{if(!i)return;let e=new MutationObserver(()=>{let t=window.getComputedStyle(i).maxHeight,n=parseFloat(t);if(isNaN(n))return;let r=parseInt(t);isNaN(r)||n!==r&&(i.style.maxHeight=`${Math.ceil(n)}px`)});return e.observe(i,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[i])}function QN(i,e){var t,n,r;let s=$y((t=i==null?void 0:i.gap)!=null?t:"var(--anchor-gap, 0)",e),o=$y((n=i==null?void 0:i.offset)!=null?n:"var(--anchor-offset, 0)",e),l=$y((r=i==null?void 0:i.padding)!=null?r:"var(--anchor-padding, 0)",e);return{...i,gap:s,offset:o,padding:l}}function $y(i,e,t=void 0){let n=Sv(),r=Cn((c,d)=>{if(c==null)return[t,null];if(typeof c=="number")return[c,null];if(typeof c=="string"){if(!d)return[t,null];let h=C3(c,d);return[h,f=>{let v=O4(c);{let g=v.map(b=>window.getComputedStyle(d).getPropertyValue(b));n.requestAnimationFrame(function b(){n.nextFrame(b);let x=!1;for(let[S,P]of v.entries()){let F=window.getComputedStyle(d).getPropertyValue(P);if(g[S]!==F){g[S]=F,x=!0;break}}if(!x)return;let E=C3(c,d);h!==E&&(f(E),h=E)})}return n.dispose}]}return[t,null]}),s=oe.useMemo(()=>r(i,e)[0],[i,e]),[o=s,l]=oe.useState();return Dr(()=>{let[c,d]=r(i,e);if(l(c),!!d)return d(l)},[i,e]),o}function O4(i){let e=/var\((.*)\)/.exec(i);if(e){let t=e[1].indexOf(",");if(t===-1)return[e[1]];let n=e[1].slice(0,t).trim(),r=e[1].slice(t+1).trim();return r?[n,...O4(r)]:[n]}return[]}function C3(i,e){let t=document.createElement("div");e.appendChild(t),t.style.setProperty("margin-top","0px","important"),t.style.setProperty("margin-top",i,"important");let n=parseFloat(window.getComputedStyle(t).marginTop)||0;return e.removeChild(t),n}let Nv=oe.createContext(null);Nv.displayName="OpenClosedContext";var fc=(i=>(i[i.Open=1]="Open",i[i.Closed=2]="Closed",i[i.Closing=4]="Closing",i[i.Opening=8]="Opening",i))(fc||{});function D4(){return oe.useContext(Nv)}function j4({value:i,children:e}){return yn.createElement(Nv.Provider,{value:i},e)}function JN({children:i}){return yn.createElement(Nv.Provider,{value:null},i)}function ZN(i){throw new Error("Unexpected object: "+i)}var Zi=(i=>(i[i.First=0]="First",i[i.Previous=1]="Previous",i[i.Next=2]="Next",i[i.Last=3]="Last",i[i.Specific=4]="Specific",i[i.Nothing=5]="Nothing",i))(Zi||{});function qy(i,e){let t=e.resolveItems();if(t.length<=0)return null;let n=e.resolveActiveIndex(),r=n??-1;switch(i.focus){case 0:{for(let s=0;s<t.length;++s)if(!e.resolveDisabled(t[s],s,t))return s;return n}case 1:{r===-1&&(r=t.length);for(let s=r-1;s>=0;--s)if(!e.resolveDisabled(t[s],s,t))return s;return n}case 2:{for(let s=r+1;s<t.length;++s)if(!e.resolveDisabled(t[s],s,t))return s;return n}case 3:{for(let s=t.length-1;s>=0;--s)if(!e.resolveDisabled(t[s],s,t))return s;return n}case 4:{for(let s=0;s<t.length;++s)if(e.resolveId(t[s],s,t)===i.id)return s;return n}case 5:return null;default:ZN(i)}}function ek(i){let e=Cn(i),t=oe.useRef(!1);oe.useEffect(()=>(t.current=!1,()=>{t.current=!0,r4(()=>{t.current&&e()})}),[e])}function tk(){let i=typeof document>"u";return"useSyncExternalStore"in N5?(e=>e.useSyncExternalStore)(N5)(()=>()=>{},()=>!1,()=>!i):!1}function nk(){let i=tk(),[e,t]=oe.useState(Gf.isHandoffComplete);return e&&Gf.isHandoffComplete===!1&&t(!1),oe.useEffect(()=>{e!==!0&&t(!0)},[e]),oe.useEffect(()=>Gf.handoff(),[]),i?!1:e}let rk=oe.createContext(!1);function ik(){return oe.useContext(rk)}function sk(i){let e=ik(),t=oe.useContext(z4),n=oA(i),[r,s]=oe.useState(()=>{var o;if(!e&&t!==null)return(o=t.current)!=null?o:null;if(Gf.isServer)return null;let l=n==null?void 0:n.getElementById("headlessui-portal-root");if(l)return l;if(n===null)return null;let c=n.createElement("div");return c.setAttribute("id","headlessui-portal-root"),n.body.appendChild(c)});return oe.useEffect(()=>{r!==null&&(n!=null&&n.body.contains(r)||n==null||n.body.appendChild(r))},[r,n]),oe.useEffect(()=>{e||t!==null&&s(t.current)},[t,s,e]),r}let B4=oe.Fragment,ak=Ls(function(i,e){let t=i,n=oe.useRef(null),r=so(u4(f=>{n.current=f}),e),s=oA(n),o=sk(n),[l]=oe.useState(()=>{var f;return Gf.isServer?null:(f=s==null?void 0:s.createElement("div"))!=null?f:null}),c=oe.useContext(ck),d=nk();Dr(()=>{!o||!l||o.contains(l)||(l.setAttribute("data-headlessui-portal",""),o.appendChild(l))},[o,l]),Dr(()=>{if(l&&c)return c.register(l)},[c,l]),ek(()=>{var f;!o||!l||(l instanceof Node&&o.contains(l)&&o.removeChild(l),o.childNodes.length<=0&&((f=o.parentElement)==null||f.removeChild(o)))});let h=Es();return d?!o||!l?null:Vl.createPortal(h({ourProps:{ref:r},theirProps:t,slot:{},defaultTag:B4,name:"Portal"}),l):null});function ok(i,e){let t=so(e),{enabled:n=!0,...r}=i,s=Es();return n?yn.createElement(ak,{...r,ref:t}):s({ourProps:{ref:t},theirProps:r,slot:{},defaultTag:B4,name:"Portal"})}let lk=oe.Fragment,z4=oe.createContext(null);function uk(i,e){let{target:t,...n}=i,r={ref:so(e)},s=Es();return yn.createElement(z4.Provider,{value:t},s({ourProps:r,theirProps:n,defaultTag:lk,name:"Popover.Group"}))}let ck=oe.createContext(null),hk=Ls(ok),dk=Ls(uk),fk=Object.assign(hk,{Group:dk});var P3;let pk=(P3=yn.startTransition)!=null?P3:function(i){i()};var gk=(i=>(i[i.Open=0]="Open",i[i.Closed=1]="Closed",i))(gk||{}),mk=(i=>(i[i.ToggleDisclosure=0]="ToggleDisclosure",i[i.CloseDisclosure=1]="CloseDisclosure",i[i.SetButtonId=2]="SetButtonId",i[i.SetPanelId=3]="SetPanelId",i[i.SetButtonElement=4]="SetButtonElement",i[i.SetPanelElement=5]="SetPanelElement",i))(mk||{});let vk={0:i=>({...i,disclosureState:Jh(i.disclosureState,{0:1,1:0})}),1:i=>i.disclosureState===1?i:{...i,disclosureState:1},2(i,e){return i.buttonId===e.buttonId?i:{...i,buttonId:e.buttonId}},3(i,e){return i.panelId===e.panelId?i:{...i,panelId:e.panelId}},4(i,e){return i.buttonElement===e.element?i:{...i,buttonElement:e.element}},5(i,e){return i.panelElement===e.element?i:{...i,panelElement:e.element}}},fA=oe.createContext(null);fA.displayName="DisclosureContext";function pA(i){let e=oe.useContext(fA);if(e===null){let t=new Error(`<${i} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,pA),t}return e}let gA=oe.createContext(null);gA.displayName="DisclosureAPIContext";function U4(i){let e=oe.useContext(gA);if(e===null){let t=new Error(`<${i} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,U4),t}return e}let mA=oe.createContext(null);mA.displayName="DisclosurePanelContext";function yk(){return oe.useContext(mA)}function wk(i,e){return Jh(e.type,vk,i,e)}let bk=oe.Fragment;function Ak(i,e){let{defaultOpen:t=!1,...n}=i,r=oe.useRef(null),s=so(e,u4(x=>{r.current=x},i.as===void 0||i.as===oe.Fragment)),o=oe.useReducer(wk,{disclosureState:t?0:1,buttonElement:null,panelElement:null,buttonId:null,panelId:null}),[{disclosureState:l,buttonId:c},d]=o,h=Cn(x=>{d({type:1});let E=sp(r);if(!E||!c)return;let S=x?x instanceof HTMLElement?x:x.current instanceof HTMLElement?x.current:E.getElementById(c):E.getElementById(c);S==null||S.focus()}),f=oe.useMemo(()=>({close:h}),[h]),v=oe.useMemo(()=>({open:l===0,close:h}),[l,h]),g={ref:s},b=Es();return yn.createElement(fA.Provider,{value:o},yn.createElement(gA.Provider,{value:f},yn.createElement(iP,{value:h},yn.createElement(j4,{value:Jh(l,{0:fc.Open,1:fc.Closed})},b({ourProps:g,theirProps:n,slot:v,defaultTag:bk,name:"Disclosure"})))))}let xk="button";function Sk(i,e){let t=oe.useId(),{id:n=`headlessui-disclosure-button-${t}`,disabled:r=!1,autoFocus:s=!1,...o}=i,[l,c]=pA("Disclosure.Button"),d=yk(),h=d===null?!1:d===l.panelId,f=oe.useRef(null),v=so(f,e,Cn(D=>{if(!h)return c({type:4,element:D})}));oe.useEffect(()=>{if(!h)return c({type:2,buttonId:n}),()=>{c({type:2,buttonId:null})}},[n,c,h]);let g=Cn(D=>{var J;if(h){if(l.disclosureState===1)return;switch(D.key){case wr.Space:case wr.Enter:D.preventDefault(),D.stopPropagation(),c({type:0}),(J=l.buttonElement)==null||J.focus();break}}else switch(D.key){case wr.Space:case wr.Enter:D.preventDefault(),D.stopPropagation(),c({type:0});break}}),b=Cn(D=>{switch(D.key){case wr.Space:D.preventDefault();break}}),x=Cn(D=>{var J;o4(D.currentTarget)||r||(h?(c({type:0}),(J=l.buttonElement)==null||J.focus()):c({type:0}))}),{isFocusVisible:E,focusProps:S}=n4({autoFocus:s}),{isHovered:P,hoverProps:F}=t4({isDisabled:r}),{pressed:M,pressProps:$}=i4({disabled:r}),H=oe.useMemo(()=>({open:l.disclosureState===0,hover:P,active:M,disabled:r,focus:E,autofocus:s}),[l,P,M,E,r,s]),q=y4(i,l.buttonElement),T=z5(h?{ref:v,type:q,disabled:r||void 0,autoFocus:s,onKeyDown:g,onClick:x}:{ref:v,id:n,type:q,"aria-expanded":l.disclosureState===0,"aria-controls":l.panelElement?l.panelId:void 0,disabled:r||void 0,autoFocus:s,onKeyDown:g,onKeyUp:b,onClick:x},S,F,$);return Es()({ourProps:T,theirProps:o,slot:H,defaultTag:xk,name:"Disclosure.Button"})}let _k="div",Ek=g1.RenderStrategy|g1.Static;function Lk(i,e){let t=oe.useId(),{id:n=`headlessui-disclosure-panel-${t}`,transition:r=!1,...s}=i,[o,l]=pA("Disclosure.Panel"),{close:c}=U4("Disclosure.Panel"),[d,h]=oe.useState(null),f=so(e,Cn(P=>{pk(()=>l({type:5,element:P}))}),h);oe.useEffect(()=>(l({type:3,panelId:n}),()=>{l({type:3,panelId:null})}),[n,l]);let v=D4(),[g,b]=b4(r,d,v!==null?(v&fc.Open)===fc.Open:o.disclosureState===0),x=oe.useMemo(()=>({open:o.disclosureState===0,close:c}),[o.disclosureState,c]),E={ref:f,id:n,...w4(b)},S=Es();return yn.createElement(JN,null,yn.createElement(mA.Provider,{value:o.panelId},S({ourProps:E,theirProps:s,slot:x,defaultTag:_k,features:Ek,visible:g,name:"Disclosure.Panel"})))}let Ck=Ls(Ak),Aw=Ls(Sk),H4=Ls(Lk),Pk=Object.assign(Ck,{Button:Aw,Panel:H4});function Nk(i,e){let t=oe.useRef({left:0,top:0});if(Dr(()=>{if(!e)return;let r=e.getBoundingClientRect();r&&(t.current=r)},[i,e]),e==null||!i||e===document.activeElement)return!1;let n=e.getBoundingClientRect();return n.top!==t.current.top||n.left!==t.current.left}let N3=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function k3(i){var e,t;let n=(e=i.innerText)!=null?e:"",r=i.cloneNode(!0);if(!(r instanceof HTMLElement))return n;let s=!1;for(let l of r.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))l.remove(),s=!0;let o=s?(t=r.innerText)!=null?t:"":n;return N3.test(o)&&(o=o.replace(N3,"")),o}function kk(i){let e=i.getAttribute("aria-label");if(typeof e=="string")return e.trim();let t=i.getAttribute("aria-labelledby");if(t){let n=t.split(" ").map(r=>{let s=document.getElementById(r);if(s){let o=s.getAttribute("aria-label");return typeof o=="string"?o.trim():k3(s).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return k3(i).trim()}function Tk(i){let e=oe.useRef(""),t=oe.useRef("");return Cn(()=>{let n=i.current;if(!n)return"";let r=n.innerText;if(e.current===r)return t.current;let s=kk(n).trim().toLowerCase();return e.current=r,t.current=s,s})}var Ik=(i=>(i[i.Open=0]="Open",i[i.Closed=1]="Closed",i))(Ik||{}),Rk=(i=>(i[i.Pointer=0]="Pointer",i[i.Other=1]="Other",i))(Rk||{}),Fk=(i=>(i[i.OpenMenu=0]="OpenMenu",i[i.CloseMenu=1]="CloseMenu",i[i.GoToItem=2]="GoToItem",i[i.Search=3]="Search",i[i.ClearSearch=4]="ClearSearch",i[i.RegisterItem=5]="RegisterItem",i[i.UnregisterItem=6]="UnregisterItem",i[i.SetButtonElement=7]="SetButtonElement",i[i.SetItemsElement=8]="SetItemsElement",i))(Fk||{});function Wy(i,e=t=>t){let t=i.activeItemIndex!==null?i.items[i.activeItemIndex]:null,n=m4(e(i.items.slice()),s=>s.dataRef.current.domRef.current),r=t?n.indexOf(t):null;return r===-1&&(r=null),{items:n,activeItemIndex:r}}let Mk={1(i){return i.menuState===1?i:{...i,activeItemIndex:null,menuState:1}},0(i){return i.menuState===0?i:{...i,__demoMode:!1,menuState:0}},2:(i,e)=>{var t,n,r,s,o;if(i.menuState===1)return i;let l={...i,searchQuery:"",activationTrigger:(t=e.trigger)!=null?t:1,__demoMode:!1};if(e.focus===Zi.Nothing)return{...l,activeItemIndex:null};if(e.focus===Zi.Specific)return{...l,activeItemIndex:i.items.findIndex(h=>h.id===e.id)};if(e.focus===Zi.Previous){let h=i.activeItemIndex;if(h!==null){let f=i.items[h].dataRef.current.domRef,v=qy(e,{resolveItems:()=>i.items,resolveActiveIndex:()=>i.activeItemIndex,resolveId:g=>g.id,resolveDisabled:g=>g.dataRef.current.disabled});if(v!==null){let g=i.items[v].dataRef.current.domRef;if(((n=f.current)==null?void 0:n.previousElementSibling)===g.current||((r=g.current)==null?void 0:r.previousElementSibling)===null)return{...l,activeItemIndex:v}}}}else if(e.focus===Zi.Next){let h=i.activeItemIndex;if(h!==null){let f=i.items[h].dataRef.current.domRef,v=qy(e,{resolveItems:()=>i.items,resolveActiveIndex:()=>i.activeItemIndex,resolveId:g=>g.id,resolveDisabled:g=>g.dataRef.current.disabled});if(v!==null){let g=i.items[v].dataRef.current.domRef;if(((s=f.current)==null?void 0:s.nextElementSibling)===g.current||((o=g.current)==null?void 0:o.nextElementSibling)===null)return{...l,activeItemIndex:v}}}}let c=Wy(i),d=qy(e,{resolveItems:()=>c.items,resolveActiveIndex:()=>c.activeItemIndex,resolveId:h=>h.id,resolveDisabled:h=>h.dataRef.current.disabled});return{...l,...c,activeItemIndex:d}},3:(i,e)=>{let t=i.searchQuery!==""?0:1,n=i.searchQuery+e.value.toLowerCase(),r=(i.activeItemIndex!==null?i.items.slice(i.activeItemIndex+t).concat(i.items.slice(0,i.activeItemIndex+t)):i.items).find(o=>{var l;return((l=o.dataRef.current.textValue)==null?void 0:l.startsWith(n))&&!o.dataRef.current.disabled}),s=r?i.items.indexOf(r):-1;return s===-1||s===i.activeItemIndex?{...i,searchQuery:n}:{...i,searchQuery:n,activeItemIndex:s,activationTrigger:1}},4(i){return i.searchQuery===""?i:{...i,searchQuery:"",searchActiveItemIndex:null}},5:(i,e)=>{let t=Wy(i,n=>[...n,{id:e.id,dataRef:e.dataRef}]);return{...i,...t}},6:(i,e)=>{let t=Wy(i,n=>{let r=n.findIndex(s=>s.id===e.id);return r!==-1&&n.splice(r,1),n});return{...i,...t,activationTrigger:1}},7:(i,e)=>i.buttonElement===e.element?i:{...i,buttonElement:e.element},8:(i,e)=>i.itemsElement===e.element?i:{...i,itemsElement:e.element}},vA=oe.createContext(null);vA.displayName="MenuContext";function kv(i){let e=oe.useContext(vA);if(e===null){let t=new Error(`<${i} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,kv),t}return e}function Ok(i,e){return Jh(e.type,Mk,i,e)}let Dk=oe.Fragment;function jk(i,e){let{__demoMode:t=!1,...n}=i,r=oe.useReducer(Ok,{__demoMode:t,menuState:t?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:s,itemsElement:o,buttonElement:l},c]=r,d=so(e);_P(s===0,[l,o],(b,x)=>{c({type:1}),aA(x,sA.Loose)||(b.preventDefault(),l==null||l.focus())});let h=Cn(()=>{c({type:1})}),f=oe.useMemo(()=>({open:s===0,close:h}),[s,h]),v={ref:d},g=Es();return yn.createElement(YN,null,yn.createElement(vA.Provider,{value:r},yn.createElement(j4,{value:Jh(s,{0:fc.Open,1:fc.Closed})},g({ourProps:v,theirProps:n,slot:f,defaultTag:Dk,name:"Menu"}))))}let Bk="button";function zk(i,e){var t;let n=oe.useId(),{id:r=`headlessui-menu-button-${n}`,disabled:s=!1,autoFocus:o=!1,...l}=i,[c,d]=kv("Menu.Button"),h=VN(),f=so(e,WN(),Cn(q=>d({type:7,element:q}))),v=Cn(q=>{switch(q.key){case wr.Space:case wr.Enter:case wr.ArrowDown:q.preventDefault(),q.stopPropagation(),Vl.flushSync(()=>d({type:0})),d({type:2,focus:Zi.First});break;case wr.ArrowUp:q.preventDefault(),q.stopPropagation(),Vl.flushSync(()=>d({type:0})),d({type:2,focus:Zi.Last});break}}),g=Cn(q=>{switch(q.key){case wr.Space:q.preventDefault();break}}),b=Cn(q=>{var T;if(o4(q.currentTarget))return q.preventDefault();s||(c.menuState===0?(Vl.flushSync(()=>d({type:1})),(T=c.buttonElement)==null||T.focus({preventScroll:!0})):(q.preventDefault(),d({type:0})))}),{isFocusVisible:x,focusProps:E}=n4({autoFocus:o}),{isHovered:S,hoverProps:P}=t4({isDisabled:s}),{pressed:F,pressProps:M}=i4({disabled:s}),$=oe.useMemo(()=>({open:c.menuState===0,active:F||c.menuState===0,disabled:s,hover:S,focus:x,autofocus:o}),[c,S,x,F,s,o]),H=z5(h(),{ref:f,id:r,type:y4(i,c.buttonElement),"aria-haspopup":"menu","aria-controls":(t=c.itemsElement)==null?void 0:t.id,"aria-expanded":c.menuState===0,disabled:s||void 0,autoFocus:o,onKeyDown:v,onKeyUp:g,onClick:b},E,P,M);return Es()({ourProps:H,theirProps:l,slot:$,defaultTag:Bk,name:"Menu.Button"})}let Uk="div",Hk=g1.RenderStrategy|g1.Static;function $k(i,e){var t,n;let r=oe.useId(),{id:s=`headlessui-menu-items-${r}`,anchor:o,portal:l=!1,modal:c=!0,transition:d=!1,...h}=i,f=qN(o),[v,g]=kv("Menu.Items"),[b,x]=XN(f),E=GN(),[S,P]=oe.useState(null),F=so(e,f?b:null,Cn(G=>g({type:8,element:G})),P),M=oA(v.itemsElement);f&&(l=!0);let $=D4(),[H,q]=b4(d,S,$!==null?($&fc.Open)===fc.Open:v.menuState===0);cP(H,v.buttonElement,()=>{g({type:1})});let T=v.__demoMode?!1:c&&v.menuState===0;kP(T,M);let D=v.__demoMode?!1:c&&v.menuState===0;uP(D,{allowed:oe.useCallback(()=>[v.buttonElement,v.itemsElement],[v.buttonElement,v.itemsElement])});let J=v.menuState!==0,I=Nk(J,v.buttonElement)?!1:H;oe.useEffect(()=>{let G=v.itemsElement;G&&v.menuState===0&&G!==(M==null?void 0:M.activeElement)&&G.focus({preventScroll:!0})},[v.menuState,v.itemsElement,M]),jP(v.menuState===0,{container:v.itemsElement,accept(G){return G.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:G.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(G){G.setAttribute("role","none")}});let O=Sv(),X=Cn(G=>{var ie,le,ue;switch(O.dispose(),G.key){case wr.Space:if(v.searchQuery!=="")return G.preventDefault(),G.stopPropagation(),g({type:3,value:G.key});case wr.Enter:if(G.preventDefault(),G.stopPropagation(),g({type:1}),v.activeItemIndex!==null){let{dataRef:k}=v.items[v.activeItemIndex];(le=(ie=k.current)==null?void 0:ie.domRef.current)==null||le.click()}g4(v.buttonElement);break;case wr.ArrowDown:return G.preventDefault(),G.stopPropagation(),g({type:2,focus:Zi.Next});case wr.ArrowUp:return G.preventDefault(),G.stopPropagation(),g({type:2,focus:Zi.Previous});case wr.Home:case wr.PageUp:return G.preventDefault(),G.stopPropagation(),g({type:2,focus:Zi.First});case wr.End:case wr.PageDown:return G.preventDefault(),G.stopPropagation(),g({type:2,focus:Zi.Last});case wr.Escape:G.preventDefault(),G.stopPropagation(),Vl.flushSync(()=>g({type:1})),(ue=v.buttonElement)==null||ue.focus({preventScroll:!0});break;case wr.Tab:G.preventDefault(),G.stopPropagation(),Vl.flushSync(()=>g({type:1})),wP(v.buttonElement,G.shiftKey?vw.Previous:vw.Next);break;default:G.key.length===1&&(g({type:3,value:G.key}),O.setTimeout(()=>g({type:4}),350));break}}),U=Cn(G=>{switch(G.key){case wr.Space:G.preventDefault();break}}),ce=oe.useMemo(()=>({open:v.menuState===0}),[v.menuState]),B=z5(f?E():{},{"aria-activedescendant":v.activeItemIndex===null||(t=v.items[v.activeItemIndex])==null?void 0:t.id,"aria-labelledby":(n=v.buttonElement)==null?void 0:n.id,id:s,onKeyDown:X,onKeyUp:U,role:"menu",tabIndex:v.menuState===0?0:void 0,ref:F,style:{...h.style,...x,"--button-width":aP(v.buttonElement,!0).width},...w4(q)}),j=Es();return yn.createElement(fk,{enabled:l?i.static||H:!1},j({ourProps:B,theirProps:h,slot:ce,defaultTag:Uk,features:Hk,visible:I,name:"Menu.Items"}))}let qk=oe.Fragment;function Wk(i,e){let t=oe.useId(),{id:n=`headlessui-menu-item-${t}`,disabled:r=!1,...s}=i,[o,l]=kv("Menu.Item"),c=o.activeItemIndex!==null?o.items[o.activeItemIndex].id===n:!1,d=oe.useRef(null),h=so(e,d);Dr(()=>{if(!o.__demoMode&&o.menuState===0&&c&&o.activationTrigger!==0)return Ql().requestAnimationFrame(()=>{var I,O;(O=(I=d.current)==null?void 0:I.scrollIntoView)==null||O.call(I,{block:"nearest"})})},[o.__demoMode,d,c,o.menuState,o.activationTrigger,o.activeItemIndex]);let f=Tk(d),v=oe.useRef({disabled:r,domRef:d,get textValue(){return f()}});Dr(()=>{v.current.disabled=r},[v,r]),Dr(()=>(l({type:5,id:n,dataRef:v}),()=>l({type:6,id:n})),[v,n]);let g=Cn(()=>{l({type:1})}),b=Cn(I=>{if(r)return I.preventDefault();l({type:1}),g4(o.buttonElement)}),x=Cn(()=>{if(r)return l({type:2,focus:Zi.Nothing});l({type:2,focus:Zi.Specific,id:n})}),E=TP(),S=Cn(I=>{E.update(I),!r&&(c||l({type:2,focus:Zi.Specific,id:n,trigger:0}))}),P=Cn(I=>{E.wasMoved(I)&&(r||c||l({type:2,focus:Zi.Specific,id:n,trigger:0}))}),F=Cn(I=>{E.wasMoved(I)&&(r||c&&l({type:2,focus:Zi.Nothing}))}),[M,$]=h4(),[H,q]=YC(),T=oe.useMemo(()=>({active:c,focus:c,disabled:r,close:g}),[c,r,g]),D={id:n,ref:h,role:"menuitem",tabIndex:r===!0?void 0:-1,"aria-disabled":r===!0?!0:void 0,"aria-labelledby":M,"aria-describedby":H,disabled:void 0,onClick:b,onFocus:x,onPointerEnter:S,onMouseEnter:S,onPointerMove:P,onMouseMove:P,onPointerLeave:F,onMouseLeave:F},J=Es();return yn.createElement($,null,yn.createElement(q,null,J({ourProps:D,theirProps:s,slot:T,defaultTag:qk,name:"Menu.Item"})))}let Vk="div";function Gk(i,e){let[t,n]=h4(),r=i,s={ref:e,"aria-labelledby":t,role:"group"},o=Es();return yn.createElement(n,null,o({ourProps:s,theirProps:r,slot:{},defaultTag:Vk,name:"Menu.Section"}))}let Xk="header";function Yk(i,e){let t=oe.useId(),{id:n=`headlessui-menu-heading-${t}`,...r}=i,s=rA();Dr(()=>s.register(n),[n,s.register]);let o={id:n,ref:e,role:"presentation",...s.props};return Es()({ourProps:o,theirProps:r,slot:{},defaultTag:Xk,name:"Menu.Heading"})}let Kk="div";function Qk(i,e){let t=i,n={ref:e,role:"separator"};return Es()({ourProps:n,theirProps:t,slot:{},defaultTag:Kk,name:"Menu.Separator"})}let Jk=Ls(jk),$4=Ls(zk),q4=Ls($k),xw=Ls(Wk),Zk=Ls(Gk),e8=Ls(Yk),t8=Ls(Qk),n8=Object.assign(Jk,{Button:$4,Items:q4,Item:xw,Section:Zk,Heading:e8,Separator:t8});function r8({title:i,titleId:e,...t},n){return oe.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),i?oe.createElement("title",{id:e},i):null,oe.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const i8=oe.forwardRef(r8);function s8({title:i,titleId:e,...t},n){return oe.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),i?oe.createElement("title",{id:e},i):null,oe.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const a8=oe.forwardRef(s8);function o8({title:i,titleId:e,...t},n){return oe.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),i?oe.createElement("title",{id:e},i):null,oe.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const l8=oe.forwardRef(o8),u8="data:image/png;base64,UklGRtAJAABXRUJQVlA4WAoAAAAQAAAA/wEA/wEAQUxQSAcFAAABkFBbWx07vwQkICESkBAHFwfFQXAwcUAcTB0gYST8EpDw9d1Ofsidry8iYgKk82693bUB0HpPQdjuUsVPtrIyzW0Nv1Ijy9zW8Ks1Uiwonlk8vz7gyerZdcPT2xu3Cs74xqwN5wy82nDS5lnlcVp1pNLz4MapDWcOjPI4dWVUORcCnzxOXvkUzwZHp3q6xCaH01c2redrbNrPh4VM1UAk08NAJlMzUMiE6b/pv+m/6b/pv+m/f8q59XbXhkE+A9e+6TdrrbWUW05xDd5dJJcqhvpu+cXtUUtel2vjtobBvq++/7incFHc1jDc99k3aw7XIygG/I4D0Mp6LT5gyO87AK2E63DDSw6ARncNCl52gBZ/ATa88gAUP7oNrz7oNjaP1x+gcWRKAaD4YW0gAbANyoMHUD+kwgS0OCAPKgA3N5zIBqgfTaUDdBmLAx+ANJSVEthGsnMC20AqKXAbx4MVKMNotMBtFOAFNvphox/ehqDUaMsIHtSA+gEc3EAdQCIHbv0L7EDonjR2qOvewQ7cuxfogbV3ovRorneZHrj1TpQeCL0L/Ki9kzs9EHrnlB7aO1kaOxB7J5Ee2j2J7EDsnqyNHLV/4pUbCP0T2blxH4H4yozmRiASDl4gjUHEx8qKOoqvw5qLzb6Uy15/UFVbV+AGYrcv70fnQ4h5r48OJNL8aEjVWKWPiPjDVHMEEvFqCIFCItlQJpEsaqaySLxaaTQSr0aw0Eh8MxJ5JKuRnUiy2/jIJKcmlEkSTMAxSaqJhUrBRKSSaxYSlaRa2LmULBQurRYql7wF5ZJYaGRSAyBTteC4dFjw9Fu4lC0ELiULK5eihfhnWfgdI9Evc8n/i2GnX/mzzNFPpv+m/6b/pv+m/6b/pv+m/6b/pv+m/6b/pv+m/6b/pv+m/6b/pv+m/6b//lj4SL/6j7lGP/0Hw4N++odZ/QsDyHSn32HB0c9zabewcClbCFxKFiKXooXEpdXCzqVg4SOXvAXlkrMARyVpFgKX1ELi0t1C5dJhAZ5KycSNStEEFiYtNiqTnA0kIonaQCDSYUQ9j5IRqKdRsAL1LHLNCtpKIqlmgI1E2RA0UihYAmokkDRTQKs5LOQ5jH1b6/2WU1xDCIv/2jEldOG9WbpiVOs9hXG4RohvtrIOQnZWANA4hkAMQOMI5MEMoPgBZG5Aff9c4wbaW/ckkwN4655r7EDonWR6NN8719gBdZ2TTA/ceueUHgidk5UftXdS6YHQO9/oUXsniR5wvZNKj9Q939hRuyeJHa1/spMDS//cgxyxf+IbN/IAJHCjjEAS/STTTzL95ODFPgo5aJGHITsr1nFIJsUyEMmUUBlqYkQZiyzKh3Uw4h9sUBlvJkMZkKxKBT8i8QcRigw6KgvUj0r8QYIoA/cPBuwy9qgvP3WDE4n62lMvFzDqC0+9XMNwvOoeXi6jj/UVtzu5lD7WF1tb5YKGXNurrGUnV3WJe20vr5adXFy3rGm/10d7SbUSnFxo50MIMcb89V6ufuyKFpN7il44aaEIl6f/pv+m/6b/pv+m//4VoAZ2Mj0MZDIdBlYyJQMLmcL5VNjcTlfodJxupVM4mwqf9WSFUPlknlCipyrC6HAm9ZSS+4micNrpaXZh9dJOoo5WEs+hXogdz6BeqL22pz28kNvrk3Yn/N6f0VahuK+/qmUnLA/Hr2jZCdN9rD/WSnDC97DmUkrZU/Tyf8wAVlA4IKIEAADwZACdASoAAgACPm0yl0kkIqKhIfFZ4IANiWlu4XXua/Ff/48u1rR8kWNKwAUMV3/cH1l6z/wid0AH5fAKcOh2VEw/LqBG+21OVBziZ2aomH5dQJEw/LqBImF6YzMb4KcOh2VEw/LqBImH442SMvNO3AKcOh2VEw/Lp5Yk704uln0iOzlJHUrYrG9DbmWRi37CBTunBL6S+XM9TxpcsdVkaesRXlT/GMsFkQdeNGnB+CnDz1sB5eOp7cr/0l+2Z0YV6G4vgDo2P4Mlxpjut5A8esRARgjz3Q2wA1+fUCE1ArkDqB95iWQzU+WsdVky2CryQZwqmnXgFPJPmfJ5+STIADQKWtx0BT4i3wav6uL4E8m6xvUiRmF6kSMwvUiHTDpIO0ENRt9aD1vmJ3rgpxeBt6SkgTsqJh+XUBO2AUuWZXtAUGx0ECQ+XTRvcuy6gSJh+ONkaYCdlRML0xmY3wU4dDsqJacJHVg9BAkPl03tmn8uoEiYfjjZIy8xOHQ60TRruwsYfl1AkS04SOrB6CBIfLpo3tBImH5dQI328xm1A/Lp7k0gKiBF8uggSJhemNRb1wU4c+xdkWPjh0OyomHw6LiGy1QJEtOEjqweggSJh+XRblAziNRMPxxskZdLsqJh+XUBhw5ut8jsqJacJHVg9BAkTD8ui3KBnEaiYfjjZGl54fl1AkTD4dFxDZaoEiWnCTqNRdQJEw/LotyhoUOOh2U325oZlBrJCu6Qt2VEw/LqAw4cg6QGH5dFuPA/S2Uot60hVzkC0Wh3jO6cIINc3Q25WlGJyBTTshBreyOG36CNJ20ARsBiAcBV//JAmp0wcsZPu0dMD4EXVUi5U6tYVvWk1Q41hW9dW12wgE8mf/7fGsAp8blk2xygH6aFkOB3FiCEDsWc3+5UioHu9E8xh7YQjs1GrxHOsFOHQ7Kh8Yq6S7KZLXssw/LX44GGKc0gMnS2N6kSMwvT2R76kTkmKnqKJh+XUCRMPy6gSHy6b2zUB+yXy6CBImH5dQJEtOEjqlLBTh0OyomH5dQJEw+HQ7j0WNQBQ46HZUTD8uoEiYfl1AUKUXo03rTz68IwKAAA/v14aXi4nbZORC/KKZXpvF4Co8ed5eECLX+tIYhMvQHpQATLu9xATBbYTHkcsHACiV89Em+9LAH7yafb3a24COMUZQ9wxDBfo+/mosfBh4c2YPGkI25FMhIJmRULtKVzsecLhiJZhsERMJtVKy4I+M+dF4FoPYiZs8B6VtgvWJJ//d3KGcMEY5seRT2fOZC3rJjPMAOeae3rIdp8k+zhm9udM9Elku0JItWFfrGICyNYPS++rfcVGaYiwCX+L6sQmiGVlR/hAKDP0gZK+6uVXLwgMrnYD5PRJZPkqPlAWYIKVk1MioB5voIILT0ggMYGhTbQ0IGsP13jRVXabgdUqb0YqRiTbn/Y2E7Su2aJyinB5oxQrhFsoLhEmkgdEZ+9R/RSlW2BVYXtKtKuieqd/8Jlrf4mu/gIE2ZnHUd7lQBWmzBIMgDNwdjDvOdeUDL8o88EJxfuFnwgE2CAZLJ2EdA1focxwHmLsnfOmGfFOQgA",c8="/assets/profillogo1-ItiYSOVd.jpg";/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h8=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),W4=(...i)=>i.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var d8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f8=oe.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:r="",children:s,iconNode:o,...l},c)=>oe.createElement("svg",{ref:c,...d8,width:e,height:e,stroke:i,strokeWidth:n?Number(t)*24/Number(e):t,className:W4("lucide",r),...l},[...o.map(([d,h])=>oe.createElement(d,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8=(i,e)=>{const t=oe.forwardRef(({className:n,...r},s)=>oe.createElement(f8,{ref:s,iconNode:e,className:W4(`lucide-${h8(i)}`,n),...r}));return t.displayName=`${i}`,t};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],T3=p8("ChevronDown",g8),I3=[{name:"Image Resizers",href:"/resize",current:!0},{name:"Crop Image",href:"/",current:!1},{name:"Compress",current:!1,dropdown:[{name:"MB to KB",href:"/resize"},{name:"JPG to PNG",href:"/compress/jpg-to-png"},{name:"WEBP to PNG",href:"/compress/webp-to-png"}]},{name:"Convert",current:!1,dropdown:[{name:"IMG to PDF",href:"/convert/img-to-pdf"},{name:"PDF to IMG",href:"/convert/pdf-to-img"},{name:"WEBP to PNG",href:"/convert/webp-to-png"}]},{name:"Bulk Resize",href:"/bulk-resize",current:!1}];function R3(...i){return i.filter(Boolean).join(" ")}const m8=()=>{const i=$S(),[e,t]=oe.useState(!1);return be.jsxs(Pk,{as:"nav",className:"bg-gray-800",children:[be.jsx("div",{className:"mx-auto max-w-7xl px-2 sm:px-6 lg:px-8",children:be.jsxs("div",{className:"relative flex h-16 items-center justify-between",children:[be.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center sm:hidden",children:be.jsxs(Aw,{className:"group relative inline-flex items-center justify-center rounded-md p-2 text-gray-400 hover:bg-gray-700 hover:text-white focus:ring-2 focus:ring-white focus:outline-hidden focus:ring-inset",children:[be.jsx("span",{className:"absolute -inset-0.5"}),be.jsx("span",{className:"sr-only",children:"Open main menu"}),be.jsx(i8,{"aria-hidden":"true",className:"block size-6 group-data-open:hidden"}),be.jsx(l8,{"aria-hidden":"true",className:"hidden size-6 group-data-open:block"})]})}),be.jsxs("div",{className:"flex flex-1 items-center justify-center sm:items-stretch sm:justify-start",children:[be.jsx("div",{className:"flex shrink-0 items-center",children:be.jsx(Td,{to:"/",children:be.jsx("img",{alt:"Your Company",src:u8,className:"h-8 w-auto "})})}),be.jsx("div",{className:"hidden sm:ml-6 sm:block ",children:be.jsx("div",{className:"flex space-x-4  ",children:I3.map((n,r)=>be.jsxs("div",{to:n.href,onMouseEnter:()=>n.dropdown&&t(r),onMouseLeave:()=>n.dropdown&&t(null),children:[be.jsxs("div",{to:n.href,"aria-current":n.current?"page":void 0,className:R3(n.current?"bg-gray-800 text-white":"","hover:bg-gray-700 hover:text-white","rounded-md px-3 py-2 text-sm font-medium flex items-center"),children:[" ",be.jsxs("button",{onClick:()=>!n.dropdown&&i(n.href),className:"bg-gray-800  text-gray-300 hover:bg-gray-700 hover:text-white rounded-md px-3 py-2 text-sm font-medium flex items-center",children:[n.name,n.dropdown&&be.jsx(T3,{className:`ml-2 w-4 h-4 transition-transform duration-200 ${e===r?"rotate-180":"rotate-0"}`})]})]}),n.dropdown&&e===r&&be.jsx("div",{className:"absolute  w-40 bg-gray-800 text-white rounded-md shadow-lg",children:n.dropdown.map(s=>be.jsx(Td,{to:s.href,className:"block px-4 py-2 text-gray-300 hover:bg-gray-700",children:s.name},s.name))})]},n.name))})})]}),be.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0",children:[be.jsxs("button",{type:"button",className:"relative rounded-full bg-gray-800 p-1 text-gray-400 hover:text-white focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-800 focus:outline-hidden",children:[be.jsx("span",{className:"absolute -inset-1.5"}),be.jsx("span",{className:"sr-only",children:"View notifications"}),be.jsx(a8,{"aria-hidden":"true",className:"size-6"})]}),be.jsxs(n8,{as:"div",className:"relative ml-3",children:[be.jsx("div",{children:be.jsxs($4,{className:"relative flex rounded-full bg-gray-800 text-sm focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-800 focus:outline-hidden",children:[be.jsx("span",{className:"absolute -inset-1.5"}),be.jsx("span",{className:"sr-only",children:"Open user menu"}),be.jsx("img",{alt:"",src:c8,className:"size-8 rounded-full"})]})}),be.jsxs(q4,{transition:!0,className:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white py-1 ring-1 shadow-lg ring-black/5 transition focus:outline-hidden data-closed:scale-95 data-closed:transform data-closed:opacity-0 data-enter:duration-100 data-enter:ease-out data-leave:duration-75 data-leave:ease-in",children:[be.jsx(xw,{children:be.jsx(Td,{to:"#",className:"block px-4 py-2 text-sm text-gray-700 data-focus:bg-gray-100 data-focus:outline-hidden",children:"Your Profile"})}),be.jsx(xw,{children:be.jsx(Td,{to:"#",className:"block px-4 py-2 text-sm text-gray-700 data-focus:bg-gray-100 data-focus:outline-hidden",children:"Settings"})})]})]})]})]})}),be.jsx(H4,{className:"space-y-1 px-2 pt-2 pb-3",children:I3.map((n,r)=>be.jsxs("div",{children:[be.jsxs(Aw,{as:Td,to:n.href,onClick:()=>{n.dropdown?t(e===r?null:r):close()},className:R3(n.current?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white","block rounded-md px-3 py-2 text-base font-medium flex justify-between items-center"),children:[n.name,n.dropdown&&be.jsx(T3,{className:`ml-2 w-4 h-4 transition-transform ${e===r?"rotate-180":"rotate-0"}`})]}),n.dropdown&&e===r&&be.jsx("div",{className:"ml-4 space-y-1",children:n.dropdown.map(s=>be.jsx(Td,{to:s.href,className:"block px-3 py-2 text-gray-300 hover:bg-gray-700 hover:text-white rounded-md text-sm",children:s.name},s.name))})]},n.name))})]})},v8=()=>be.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[be.jsxs("header",{className:"bg-gray-800 py-6 text-center",children:[be.jsx("h1",{className:"text-4xl font-bold",children:"Online Image Resizer"}),be.jsx("p",{className:"mt-2 text-gray-400 text-lg",children:"Resize, Compress & Convert Images Instantly"})]}),be.jsxs("section",{className:"text-center mt-12",children:[be.jsx("h2",{className:"text-2xl font-semibold",children:"Get Started Now"}),be.jsx("p",{className:"text-gray-300 mt-2",children:"Upload and resize your images instantly."}),be.jsx(Td,{to:"/resize",className:"mt-4 inline-block text-white bg-blue-600 hover:bg-blue-500 hover:text-white px-6 py-3 text-lg rounded-md",children:"Resize Images Now"})]}),be.jsxs("section",{className:"max-w-5xl mx-auto mt-10 px-4",children:[be.jsx("h2",{className:"text-2xl font-semibold text-center",children:"Features"}),be.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mt-6",children:[be.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md",children:[be.jsx("h3",{className:"text-xl font-semibold",children:"Resize Images"}),be.jsx("p",{className:"mt-2 text-gray-300",children:"Adjust image dimensions without losing quality."})]}),be.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md",children:[be.jsx("h3",{className:"text-xl font-semibold",children:"Compress Files"}),be.jsx("p",{className:"mt-2 text-gray-300",children:"Reduce image file size while maintaining clarity."})]}),be.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md",children:[be.jsx("h3",{className:"text-xl font-semibold",children:"Format Conversion"}),be.jsx("p",{className:"mt-2 text-gray-300",children:"Convert between JPG, PNG, WEBP, and PDF formats."})]}),be.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md",children:[be.jsx("h3",{className:"text-xl font-semibold",children:"Bulk Resize"}),be.jsx("p",{className:"mt-2 text-gray-300",children:"Resize multiple images at once efficiently."})]}),be.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md",children:[be.jsx("h3",{className:"text-xl font-semibold",children:"High-Speed Processing"}),be.jsx("p",{className:"mt-2 text-gray-300",children:"Process large images quickly and effectively."})]}),be.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md",children:[be.jsx("h3",{className:"text-xl font-semibold",children:"Secure & Private"}),be.jsx("p",{className:"mt-2 text-gray-300",children:"All images are processed securely with no data stored."})]})]})]}),be.jsxs("section",{className:"max-w-4xl mx-auto text-center mt-10 px-4",children:[be.jsx("h2",{className:"text-2xl font-semibold",children:"Why Use Our Image Resizer?"}),be.jsx("p",{className:"mt-4 text-gray-300",children:"Quickly adjust the size, quality, and format of your images with our easy-to-use online tool. Perfect for websites, social media, and professional use."})]}),be.jsx("section",{className:"bg-gray-800 p-15 mt-5",children:be.jsxs("div",{className:" grid-cols-1  space-x-1.5 flex-auto ",children:[be.jsx("p",{children:"IMG TO PDF"}),be.jsx("p",{children:"IMG TO PDF"}),be.jsx("p",{children:"IMG TO PDF"}),be.jsx("p",{children:"IMG TO PDF"}),be.jsx("p",{children:"IMG TO PDF"})]})})]}),y8="modulepreload",w8=function(i){return"/"+i},F3={},Sw=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(t.map(c=>{if(c=w8(c),c in F3)return;F3[c]=!0;const d=c.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":y8,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((v,g)=>{f.addEventListener("load",v),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return r.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})};function In(i){"@babel/helpers - typeof";return In=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},In(i)}var es=Uint8Array,Ca=Uint16Array,yA=Int32Array,Tv=new es([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Iv=new es([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),_w=new es([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),V4=function(i,e){for(var t=new Ca(31),n=0;n<31;++n)t[n]=e+=1<<i[n-1];for(var r=new yA(t[30]),n=1;n<30;++n)for(var s=t[n];s<t[n+1];++s)r[s]=s-t[n]<<5|n;return{b:t,r}},G4=V4(Tv,2),X4=G4.b,Ew=G4.r;X4[28]=258,Ew[258]=28;var Y4=V4(Iv,0),b8=Y4.b,M3=Y4.r,Lw=new Ca(32768);for(var Jn=0;Jn<32768;++Jn){var oh=(Jn&43690)>>1|(Jn&21845)<<1;oh=(oh&52428)>>2|(oh&13107)<<2,oh=(oh&61680)>>4|(oh&3855)<<4,Lw[Jn]=((oh&65280)>>8|(oh&255)<<8)>>1}var Xl=function(i,e,t){for(var n=i.length,r=0,s=new Ca(e);r<n;++r)i[r]&&++s[i[r]-1];var o=new Ca(e);for(r=1;r<e;++r)o[r]=o[r-1]+s[r-1]<<1;var l;if(t){l=new Ca(1<<e);var c=15-e;for(r=0;r<n;++r)if(i[r])for(var d=r<<4|i[r],h=e-i[r],f=o[i[r]-1]++<<h,v=f|(1<<h)-1;f<=v;++f)l[Lw[f]>>c]=d}else for(l=new Ca(n),r=0;r<n;++r)i[r]&&(l[r]=Lw[o[i[r]-1]++]>>15-i[r]);return l},Gh=new es(288);for(var Jn=0;Jn<144;++Jn)Gh[Jn]=8;for(var Jn=144;Jn<256;++Jn)Gh[Jn]=9;for(var Jn=256;Jn<280;++Jn)Gh[Jn]=7;for(var Jn=280;Jn<288;++Jn)Gh[Jn]=8;var y1=new es(32);for(var Jn=0;Jn<32;++Jn)y1[Jn]=5;var A8=Xl(Gh,9,0),x8=Xl(Gh,9,1),S8=Xl(y1,5,0),_8=Xl(y1,5,1),Vy=function(i){for(var e=i[0],t=1;t<i.length;++t)i[t]>e&&(e=i[t]);return e},No=function(i,e,t){var n=e/8|0;return(i[n]|i[n+1]<<8)>>(e&7)&t},Gy=function(i,e){var t=e/8|0;return(i[t]|i[t+1]<<8|i[t+2]<<16)>>(e&7)},wA=function(i){return(i+7)/8|0},K4=function(i,e,t){return(t==null||t>i.length)&&(t=i.length),new es(i.subarray(e,t))},E8=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Fo=function(i,e,t){var n=new Error(e||E8[i]);if(n.code=i,Error.captureStackTrace&&Error.captureStackTrace(n,Fo),!t)throw n;return n},L8=function(i,e,t,n){var r=i.length,s=0;if(!r||e.f&&!e.l)return t||new es(0);var o=!t,l=o||e.i!=2,c=e.i;o&&(t=new es(r*3));var d=function(ze){var Xe=t.length;if(ze>Xe){var Je=new es(Math.max(Xe*2,ze));Je.set(t),t=Je}},h=e.f||0,f=e.p||0,v=e.b||0,g=e.l,b=e.d,x=e.m,E=e.n,S=r*8;do{if(!g){h=No(i,f,1);var P=No(i,f+1,3);if(f+=3,P)if(P==1)g=x8,b=_8,x=9,E=5;else if(P==2){var H=No(i,f,31)+257,q=No(i,f+10,15)+4,T=H+No(i,f+5,31)+1;f+=14;for(var D=new es(T),J=new es(19),I=0;I<q;++I)J[_w[I]]=No(i,f+I*3,7);f+=q*3;for(var O=Vy(J),X=(1<<O)-1,U=Xl(J,O,1),I=0;I<T;){var ce=U[No(i,f,X)];f+=ce&15;var F=ce>>4;if(F<16)D[I++]=F;else{var B=0,j=0;for(F==16?(j=3+No(i,f,3),f+=2,B=D[I-1]):F==17?(j=3+No(i,f,7),f+=3):F==18&&(j=11+No(i,f,127),f+=7);j--;)D[I++]=B}}var G=D.subarray(0,H),ie=D.subarray(H);x=Vy(G),E=Vy(ie),g=Xl(G,x,1),b=Xl(ie,E,1)}else Fo(1);else{var F=wA(f)+4,M=i[F-4]|i[F-3]<<8,$=F+M;if($>r){c&&Fo(0);break}l&&d(v+M),t.set(i.subarray(F,$),v),e.b=v+=M,e.p=f=$*8,e.f=h;continue}if(f>S){c&&Fo(0);break}}l&&d(v+131072);for(var le=(1<<x)-1,ue=(1<<E)-1,k=f;;k=f){var B=g[Gy(i,f)&le],Y=B>>4;if(f+=B&15,f>S){c&&Fo(0);break}if(B||Fo(2),Y<256)t[v++]=Y;else if(Y==256){k=f,g=null;break}else{var te=Y-254;if(Y>264){var I=Y-257,re=Tv[I];te=No(i,f,(1<<re)-1)+X4[I],f+=re}var de=b[Gy(i,f)&ue],me=de>>4;de||Fo(3),f+=de&15;var ie=b8[me];if(me>3){var re=Iv[me];ie+=Gy(i,f)&(1<<re)-1,f+=re}if(f>S){c&&Fo(0);break}l&&d(v+131072);var we=v+te;if(v<ie){var _e=s-ie,je=Math.min(ie,we);for(_e+v<0&&Fo(3);v<je;++v)t[v]=n[_e+v]}for(;v<we;++v)t[v]=t[v-ie]}}e.l=g,e.p=k,e.b=v,e.f=h,g&&(h=1,e.m=x,e.d=b,e.n=E)}while(!h);return v!=t.length&&o?K4(t,0,v):t.subarray(0,v)},Ru=function(i,e,t){t<<=e&7;var n=e/8|0;i[n]|=t,i[n+1]|=t>>8},zm=function(i,e,t){t<<=e&7;var n=e/8|0;i[n]|=t,i[n+1]|=t>>8,i[n+2]|=t>>16},Xy=function(i,e){for(var t=[],n=0;n<i.length;++n)i[n]&&t.push({s:n,f:i[n]});var r=t.length,s=t.slice();if(!r)return{t:J4,l:0};if(r==1){var o=new es(t[0].s+1);return o[t[0].s]=1,{t:o,l:1}}t.sort(function($,H){return $.f-H.f}),t.push({s:-1,f:25001});var l=t[0],c=t[1],d=0,h=1,f=2;for(t[0]={s:-1,f:l.f+c.f,l,r:c};h!=r-1;)l=t[t[d].f<t[f].f?d++:f++],c=t[d!=h&&t[d].f<t[f].f?d++:f++],t[h++]={s:-1,f:l.f+c.f,l,r:c};for(var v=s[0].s,n=1;n<r;++n)s[n].s>v&&(v=s[n].s);var g=new Ca(v+1),b=Cw(t[h-1],g,0);if(b>e){var n=0,x=0,E=b-e,S=1<<E;for(s.sort(function(H,q){return g[q.s]-g[H.s]||H.f-q.f});n<r;++n){var P=s[n].s;if(g[P]>e)x+=S-(1<<b-g[P]),g[P]=e;else break}for(x>>=E;x>0;){var F=s[n].s;g[F]<e?x-=1<<e-g[F]++-1:++n}for(;n>=0&&x;--n){var M=s[n].s;g[M]==e&&(--g[M],++x)}b=e}return{t:new es(g),l:b}},Cw=function(i,e,t){return i.s==-1?Math.max(Cw(i.l,e,t+1),Cw(i.r,e,t+1)):e[i.s]=t},O3=function(i){for(var e=i.length;e&&!i[--e];);for(var t=new Ca(++e),n=0,r=i[0],s=1,o=function(c){t[n++]=c},l=1;l<=e;++l)if(i[l]==r&&l!=e)++s;else{if(!r&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(r),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(r);s=1,r=i[l]}return{c:t.subarray(0,n),n:e}},Um=function(i,e){for(var t=0,n=0;n<e.length;++n)t+=i[n]*e[n];return t},Q4=function(i,e,t){var n=t.length,r=wA(e+2);i[r]=n&255,i[r+1]=n>>8,i[r+2]=i[r]^255,i[r+3]=i[r+1]^255;for(var s=0;s<n;++s)i[r+s+4]=t[s];return(r+4+n)*8},D3=function(i,e,t,n,r,s,o,l,c,d,h){Ru(e,h++,t),++r[256];for(var f=Xy(r,15),v=f.t,g=f.l,b=Xy(s,15),x=b.t,E=b.l,S=O3(v),P=S.c,F=S.n,M=O3(x),$=M.c,H=M.n,q=new Ca(19),T=0;T<P.length;++T)++q[P[T]&31];for(var T=0;T<$.length;++T)++q[$[T]&31];for(var D=Xy(q,7),J=D.t,I=D.l,O=19;O>4&&!J[_w[O-1]];--O);var X=d+5<<3,U=Um(r,Gh)+Um(s,y1)+o,ce=Um(r,v)+Um(s,x)+o+14+3*O+Um(q,J)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&X<=U&&X<=ce)return Q4(e,h,i.subarray(c,c+d));var B,j,G,ie;if(Ru(e,h,1+(ce<U)),h+=2,ce<U){B=Xl(v,g,0),j=v,G=Xl(x,E,0),ie=x;var le=Xl(J,I,0);Ru(e,h,F-257),Ru(e,h+5,H-1),Ru(e,h+10,O-4),h+=14;for(var T=0;T<O;++T)Ru(e,h+3*T,J[_w[T]]);h+=3*O;for(var ue=[P,$],k=0;k<2;++k)for(var Y=ue[k],T=0;T<Y.length;++T){var te=Y[T]&31;Ru(e,h,le[te]),h+=J[te],te>15&&(Ru(e,h,Y[T]>>5&127),h+=Y[T]>>12)}}else B=A8,j=Gh,G=S8,ie=y1;for(var T=0;T<l;++T){var re=n[T];if(re>255){var te=re>>18&31;zm(e,h,B[te+257]),h+=j[te+257],te>7&&(Ru(e,h,re>>23&31),h+=Tv[te]);var de=re&31;zm(e,h,G[de]),h+=ie[de],de>3&&(zm(e,h,re>>5&8191),h+=Iv[de])}else zm(e,h,B[re]),h+=j[re]}return zm(e,h,B[256]),h+j[256]},C8=new yA([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),J4=new es(0),P8=function(i,e,t,n,r,s){var o=s.z||i.length,l=new es(n+o+5*(1+Math.ceil(o/7e3))+r),c=l.subarray(n,l.length-r),d=s.l,h=(s.r||0)&7;if(e){h&&(c[0]=s.r>>3);for(var f=C8[e-1],v=f>>13,g=f&8191,b=(1<<t)-1,x=s.p||new Ca(32768),E=s.h||new Ca(b+1),S=Math.ceil(t/3),P=2*S,F=function(pt){return(i[pt]^i[pt+1]<<S^i[pt+2]<<P)&b},M=new yA(25e3),$=new Ca(288),H=new Ca(32),q=0,T=0,D=s.i||0,J=0,I=s.w||0,O=0;D+2<o;++D){var X=F(D),U=D&32767,ce=E[X];if(x[U]=ce,E[X]=U,I<=D){var B=o-D;if((q>7e3||J>24576)&&(B>423||!d)){h=D3(i,c,0,M,$,H,T,J,O,D-O,h),J=q=T=0,O=D;for(var j=0;j<286;++j)$[j]=0;for(var j=0;j<30;++j)H[j]=0}var G=2,ie=0,le=g,ue=U-ce&32767;if(B>2&&X==F(D-ue))for(var k=Math.min(v,B)-1,Y=Math.min(32767,D),te=Math.min(258,B);ue<=Y&&--le&&U!=ce;){if(i[D+G]==i[D+G-ue]){for(var re=0;re<te&&i[D+re]==i[D+re-ue];++re);if(re>G){if(G=re,ie=ue,re>k)break;for(var de=Math.min(ue,re-2),me=0,j=0;j<de;++j){var we=D-ue+j&32767,_e=x[we],je=we-_e&32767;je>me&&(me=je,ce=we)}}}U=ce,ce=x[U],ue+=U-ce&32767}if(ie){M[J++]=268435456|Ew[G]<<18|M3[ie];var ze=Ew[G]&31,Xe=M3[ie]&31;T+=Tv[ze]+Iv[Xe],++$[257+ze],++H[Xe],I=D+G,++q}else M[J++]=i[D],++$[i[D]]}}for(D=Math.max(D,I);D<o;++D)M[J++]=i[D],++$[i[D]];h=D3(i,c,d,M,$,H,T,J,O,D-O,h),d||(s.r=h&7|c[h/8|0]<<3,h-=7,s.h=E,s.p=x,s.i=D,s.w=I)}else{for(var D=s.w||0;D<o+d;D+=65535){var Je=D+65535;Je>=o&&(c[h/8|0]=d,Je=o),h=Q4(c,h+1,i.subarray(D,Je))}s.i=o}return K4(l,0,n+wA(h)+r)},Z4=function(){var i=1,e=0;return{p:function(t){for(var n=i,r=e,s=t.length|0,o=0;o!=s;){for(var l=Math.min(o+2655,s);o<l;++o)r+=n+=t[o];n=(n&65535)+15*(n>>16),r=(r&65535)+15*(r>>16)}i=n,e=r},d:function(){return i%=65521,e%=65521,(i&255)<<24|(i&65280)<<8|(e&255)<<8|e>>8}}},N8=function(i,e,t,n,r){if(!r&&(r={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new es(s.length+i.length);o.set(s),o.set(i,s.length),i=o,r.w=s.length}return P8(i,e.level==null?6:e.level,e.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(i.length)))*1.5):20:12+e.mem,t,n,r)},e_=function(i,e,t){for(;t;++e)i[e]=t,t>>>=8},k8=function(i,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(i[0]=120,i[1]=n<<6|(e.dictionary&&32),i[1]|=31-(i[0]<<8|i[1])%31,e.dictionary){var r=Z4();r.p(e.dictionary),e_(i,2,r.d())}},T8=function(i,e){return((i[0]&15)!=8||i[0]>>4>7||(i[0]<<8|i[1])%31)&&Fo(6,"invalid zlib data"),(i[1]>>5&1)==1&&Fo(6,"invalid zlib data: "+(i[1]&32?"need":"unexpected")+" dictionary"),(i[1]>>3&4)+2};function Pw(i,e){e||(e={});var t=Z4();t.p(i);var n=N8(i,e,e.dictionary?6:2,4);return k8(n,e),e_(n,n.length-4,t.d()),n}function I8(i,e){return L8(i.subarray(T8(i),-4),{i:2},e,e)}var R8=typeof TextDecoder<"u"&&new TextDecoder,F8=0;try{R8.decode(J4,{stream:!0}),F8=1}catch{}var Ot=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Yy(){Ot.console&&typeof Ot.console.log=="function"&&Ot.console.log.apply(Ot.console,arguments)}var Dn={log:Yy,warn:function(i){Ot.console&&(typeof Ot.console.warn=="function"?Ot.console.warn.apply(Ot.console,arguments):Yy.call(null,arguments))},error:function(i){Ot.console&&(typeof Ot.console.error=="function"?Ot.console.error.apply(Ot.console,arguments):Yy(i))}};function Ky(i,e,t){var n=new XMLHttpRequest;n.open("GET",i),n.responseType="blob",n.onload=function(){Id(n.response,e,t)},n.onerror=function(){Dn.error("could not download file")},n.send()}function j3(i){var e=new XMLHttpRequest;e.open("HEAD",i,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function B2(i){try{i.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),i.dispatchEvent(e)}}var c1,Nw,Id=Ot.saveAs||((typeof window>"u"?"undefined":In(window))!=="object"||window!==Ot?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(i,e,t){var n=Ot.URL||Ot.webkitURL,r=document.createElement("a");e=e||i.name||"download",r.download=e,r.rel="noopener",typeof i=="string"?(r.href=i,r.origin!==location.origin?j3(r.href)?Ky(i,e,t):B2(r,r.target="_blank"):B2(r)):(r.href=n.createObjectURL(i),setTimeout(function(){n.revokeObjectURL(r.href)},4e4),setTimeout(function(){B2(r)},0))}:"msSaveOrOpenBlob"in navigator?function(i,e,t){if(e=e||i.name||"download",typeof i=="string")if(j3(i))Ky(i,e,t);else{var n=document.createElement("a");n.href=i,n.target="_blank",setTimeout(function(){B2(n)})}else navigator.msSaveOrOpenBlob(function(r,s){return s===void 0?s={autoBom:!1}:In(s)!=="object"&&(Dn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}(i,t),e)}:function(i,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof i=="string")return Ky(i,e,t);var r=i.type==="application/octet-stream",s=/constructor/i.test(Ot.HTMLElement)||Ot.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||r&&s)&&(typeof FileReader>"u"?"undefined":In(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var h=l.result;h=o?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=h:location=h,n=null},l.readAsDataURL(i)}else{var c=Ot.URL||Ot.webkitURL,d=c.createObjectURL(i);n?n.location=d:location.href=d,n=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function t_(i){var e;i=i||"",this.ok=!1,i.charAt(0)=="#"&&(i=i.substr(1,6)),i={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[i=(i=i.replace(/ /g,"")).toLowerCase()]||i;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<t.length;n++){var r=t[n].re,s=t[n].process,o=r.exec(i);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Qy(i,e){var t=i[0],n=i[1],r=i[2],s=i[3];t=Bi(t,n,r,s,e[0],7,-680876936),s=Bi(s,t,n,r,e[1],12,-389564586),r=Bi(r,s,t,n,e[2],17,606105819),n=Bi(n,r,s,t,e[3],22,-1044525330),t=Bi(t,n,r,s,e[4],7,-176418897),s=Bi(s,t,n,r,e[5],12,1200080426),r=Bi(r,s,t,n,e[6],17,-1473231341),n=Bi(n,r,s,t,e[7],22,-45705983),t=Bi(t,n,r,s,e[8],7,1770035416),s=Bi(s,t,n,r,e[9],12,-1958414417),r=Bi(r,s,t,n,e[10],17,-42063),n=Bi(n,r,s,t,e[11],22,-1990404162),t=Bi(t,n,r,s,e[12],7,1804603682),s=Bi(s,t,n,r,e[13],12,-40341101),r=Bi(r,s,t,n,e[14],17,-1502002290),t=zi(t,n=Bi(n,r,s,t,e[15],22,1236535329),r,s,e[1],5,-165796510),s=zi(s,t,n,r,e[6],9,-1069501632),r=zi(r,s,t,n,e[11],14,643717713),n=zi(n,r,s,t,e[0],20,-373897302),t=zi(t,n,r,s,e[5],5,-701558691),s=zi(s,t,n,r,e[10],9,38016083),r=zi(r,s,t,n,e[15],14,-660478335),n=zi(n,r,s,t,e[4],20,-405537848),t=zi(t,n,r,s,e[9],5,568446438),s=zi(s,t,n,r,e[14],9,-1019803690),r=zi(r,s,t,n,e[3],14,-187363961),n=zi(n,r,s,t,e[8],20,1163531501),t=zi(t,n,r,s,e[13],5,-1444681467),s=zi(s,t,n,r,e[2],9,-51403784),r=zi(r,s,t,n,e[7],14,1735328473),t=Ui(t,n=zi(n,r,s,t,e[12],20,-1926607734),r,s,e[5],4,-378558),s=Ui(s,t,n,r,e[8],11,-2022574463),r=Ui(r,s,t,n,e[11],16,1839030562),n=Ui(n,r,s,t,e[14],23,-35309556),t=Ui(t,n,r,s,e[1],4,-1530992060),s=Ui(s,t,n,r,e[4],11,1272893353),r=Ui(r,s,t,n,e[7],16,-155497632),n=Ui(n,r,s,t,e[10],23,-1094730640),t=Ui(t,n,r,s,e[13],4,681279174),s=Ui(s,t,n,r,e[0],11,-358537222),r=Ui(r,s,t,n,e[3],16,-722521979),n=Ui(n,r,s,t,e[6],23,76029189),t=Ui(t,n,r,s,e[9],4,-640364487),s=Ui(s,t,n,r,e[12],11,-421815835),r=Ui(r,s,t,n,e[15],16,530742520),t=Hi(t,n=Ui(n,r,s,t,e[2],23,-995338651),r,s,e[0],6,-198630844),s=Hi(s,t,n,r,e[7],10,1126891415),r=Hi(r,s,t,n,e[14],15,-1416354905),n=Hi(n,r,s,t,e[5],21,-57434055),t=Hi(t,n,r,s,e[12],6,1700485571),s=Hi(s,t,n,r,e[3],10,-1894986606),r=Hi(r,s,t,n,e[10],15,-1051523),n=Hi(n,r,s,t,e[1],21,-2054922799),t=Hi(t,n,r,s,e[8],6,1873313359),s=Hi(s,t,n,r,e[15],10,-30611744),r=Hi(r,s,t,n,e[6],15,-1560198380),n=Hi(n,r,s,t,e[13],21,1309151649),t=Hi(t,n,r,s,e[4],6,-145523070),s=Hi(s,t,n,r,e[11],10,-1120210379),r=Hi(r,s,t,n,e[2],15,718787259),n=Hi(n,r,s,t,e[9],21,-343485551),i[0]=Hh(t,i[0]),i[1]=Hh(n,i[1]),i[2]=Hh(r,i[2]),i[3]=Hh(s,i[3])}function Rv(i,e,t,n,r,s){return e=Hh(Hh(e,i),Hh(n,s)),Hh(e<<r|e>>>32-r,t)}function Bi(i,e,t,n,r,s,o){return Rv(e&t|~e&n,i,e,r,s,o)}function zi(i,e,t,n,r,s,o){return Rv(e&n|t&~n,i,e,r,s,o)}function Ui(i,e,t,n,r,s,o){return Rv(e^t^n,i,e,r,s,o)}function Hi(i,e,t,n,r,s,o){return Rv(t^(e|~n),i,e,r,s,o)}function n_(i){var e,t=i.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=i.length;e+=64)Qy(n,M8(i.substring(e-64,e)));i=i.substring(e-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<i.length;e++)r[e>>2]|=i.charCodeAt(e)<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(Qy(n,r),e=0;e<16;e++)r[e]=0;return r[14]=8*t,Qy(n,r),n}function M8(i){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=i.charCodeAt(e)+(i.charCodeAt(e+1)<<8)+(i.charCodeAt(e+2)<<16)+(i.charCodeAt(e+3)<<24);return t}c1=Ot.atob.bind(Ot),Nw=Ot.btoa.bind(Ot);var B3="0123456789abcdef".split("");function O8(i){for(var e="",t=0;t<4;t++)e+=B3[i>>8*t+4&15]+B3[i>>8*t&15];return e}function D8(i){return String.fromCharCode((255&i)>>0,(65280&i)>>8,(16711680&i)>>16,(4278190080&i)>>24)}function kw(i){return n_(i).map(D8).join("")}var j8=function(i){for(var e=0;e<i.length;e++)i[e]=O8(i[e]);return i.join("")}(n_("hello"))!="5d41402abc4b2a76b9719d911017c592";function Hh(i,e){if(j8){var t=(65535&i)+(65535&e);return(i>>16)+(e>>16)+(t>>16)<<16|65535&t}return i+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Tw(i,e){var t,n,r,s;if(i!==t){for(var o=(r=i,s=1+(256/i.length>>0),new Array(s+1).join(r)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var h=l[c];d=(d+h+o.charCodeAt(c))%256,l[c]=l[d],l[d]=h}t=i,n=l}else l=n;var f=e.length,v=0,g=0,b="";for(c=0;c<f;c++)g=(g+(h=l[v=(v+1)%256]))%256,l[v]=l[g],l[g]=h,o=l[(l[v]+l[g])%256],b+=String.fromCharCode(e.charCodeAt(c)^o);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var z3={print:4,modify:8,copy:16,"annot-forms":32};function Up(i,e,t,n){this.v=1,this.r=2;var r=192;i.forEach(function(l){if(z3.perm!==void 0)throw new Error("Invalid permission: "+l);r+=z3[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(e+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^r)),this.encryptionKey=kw(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Tw(this.encryptionKey,this.padding)}function Hp(i){if(/[^\u0000-\u00ff]/.test(i))throw new Error("Invalid PDF Name Object: "+i+", Only accept ASCII characters.");for(var e="",t=i.length,n=0;n<t;n++){var r=i.charCodeAt(n);r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?e+="#"+("0"+r.toString(16)).slice(-2):e+=i[n]}return e}function U3(i){if(In(i)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,r){if(r=r||!1,typeof t!="string"||typeof n!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[n,!!r],s},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),r=[];for(var s in e[t]){var o=e[t][s];try{o[0].apply(i,n)}catch(l){Ot.console&&Dn.error("jsPDF PubSub Error",l.message,l)}o[1]&&r.push(s)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function q5(i){if(!(this instanceof q5))return new q5(i);var e="opacity,stroke-opacity".split(",");for(var t in i)i.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=i[t]);this.id="",this.objectNumber=-1}function r_(i,e){this.gState=i,this.matrix=e,this.id="",this.objectNumber=-1}function Od(i,e,t,n,r){if(!(this instanceof Od))return new Od(i,e,t,n,r);this.type=i==="axial"?2:3,this.coords=e,this.colors=t,r_.call(this,n,r)}function Qp(i,e,t,n,r){if(!(this instanceof Qp))return new Qp(i,e,t,n,r);this.boundingBox=i,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,r_.call(this,n,r)}function Mt(i){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],r=arguments[2],s=arguments[3],o=[],l=1,c=16,d="S",h=null;In(i=i||{})==="object"&&(t=i.orientation,n=i.unit||n,r=i.format||r,s=i.compress||i.compressPdf||s,(h=i.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),l=typeof i.userUnit=="number"?Math.abs(i.userUnit):1,i.precision!==void 0&&(e=i.precision),i.floatPrecision!==void 0&&(c=i.floatPrecision),d=i.defaultPathOperation||"S"),o=i.filters||(s===!0?["FlateEncode"]:o),n=n||"mm",t=(""+(t||"P")).toLowerCase();var f=i.putOnlyUsedFonts||!1,v={},g={internal:{},__private__:{}};g.__private__.PubSub=U3;var b="1.3",x=g.__private__.getPdfVersion=function(){return b};g.__private__.setPdfVersion=function(_){b=_};var E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return E};var S=g.__private__.getPageFormat=function(_){return E[_]};r=r||"a4";var P={COMPAT:"compat",ADVANCED:"advanced"},F=P.COMPAT;function M(){this.saveGraphicsState(),pe(new Et(Qe,0,0,-Qe,0,hl()*Qe).toString()+" cm"),this.setFontSize(this.getFontSize()/Qe),d="n",F=P.ADVANCED}function $(){this.restoreGraphicsState(),d="S",F=P.COMPAT}var H=g.__private__.combineFontStyleAndFontWeight=function(_,V){if(_=="bold"&&V=="normal"||_=="bold"&&V==400||_=="normal"&&V=="italic"||_=="bold"&&V=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return V&&(_=V==400||V==="normal"?_==="italic"?"italic":"normal":V!=700&&V!=="bold"||_!=="normal"?(V==700?"bold":V)+""+_:"bold"),_};g.advancedAPI=function(_){var V=F===P.COMPAT;return V&&M.call(this),typeof _!="function"||(_(this),V&&$.call(this)),this},g.compatAPI=function(_){var V=F===P.ADVANCED;return V&&$.call(this),typeof _!="function"||(_(this),V&&M.call(this)),this},g.isAdvancedAPI=function(){return F===P.ADVANCED};var q,T=function(_){if(F!==P.ADVANCED)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},D=g.roundToPrecision=g.__private__.roundToPrecision=function(_,V){var fe=e||V;if(isNaN(_)||isNaN(fe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(fe).replace(/0+$/,"")};q=g.hpf=g.__private__.hpf=typeof c=="number"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return D(_,c)}:c==="smart"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return D(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return D(_,16)};var J=g.f2=g.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return D(_,2)},I=g.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return D(_,3)},O=g.scale=g.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return F===P.COMPAT?_*Qe:F===P.ADVANCED?_:void 0},X=function(_){return F===P.COMPAT?hl()-_:F===P.ADVANCED?_:void 0},U=function(_){return O(X(_))};g.__private__.setPrecision=g.setPrecision=function(_){typeof parseInt(_,10)=="number"&&(e=parseInt(_,10))};var ce,B="00000000000000000000000000000000",j=g.__private__.getFileId=function(){return B},G=g.__private__.setFileId=function(_){return B=_!==void 0&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():B.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(Vn=new Up(h.userPermissions,h.userPassword,h.ownerPassword,B)),B};g.setFileId=function(_){return G(_),this},g.getFileId=function(){return j()};var ie=g.__private__.convertDateToPDFDate=function(_){var V=_.getTimezoneOffset(),fe=V<0?"+":"-",ve=Math.floor(Math.abs(V/60)),Ce=Math.abs(V%60),Me=[fe,te(ve),"'",te(Ce),"'"].join("");return["D:",_.getFullYear(),te(_.getMonth()+1),te(_.getDate()),te(_.getHours()),te(_.getMinutes()),te(_.getSeconds()),Me].join("")},le=g.__private__.convertPDFDateToDate=function(_){var V=parseInt(_.substr(2,4),10),fe=parseInt(_.substr(6,2),10)-1,ve=parseInt(_.substr(8,2),10),Ce=parseInt(_.substr(10,2),10),Me=parseInt(_.substr(12,2),10),$e=parseInt(_.substr(14,2),10);return new Date(V,fe,ve,Ce,Me,$e,0)},ue=g.__private__.setCreationDate=function(_){var V;if(_===void 0&&(_=new Date),_ instanceof Date)V=ie(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");V=_}return ce=V},k=g.__private__.getCreationDate=function(_){var V=ce;return _==="jsDate"&&(V=le(ce)),V};g.setCreationDate=function(_){return ue(_),this},g.getCreationDate=function(_){return k(_)};var Y,te=g.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},re=g.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},de=0,me=[],we=[],_e=0,je=[],ze=[],Xe=!1,Je=we,pt=function(){de=0,_e=0,we=[],me=[],je=[],ao=qn(),Zs=qn()};g.__private__.setCustomOutputDestination=function(_){Xe=!0,Je=_};var Ie=function(_){Xe||(Je=_)};g.__private__.resetCustomOutputDestination=function(){Xe=!1,Je=we};var pe=g.__private__.out=function(_){return _=_.toString(),_e+=_.length+1,Je.push(_),Je},lt=g.__private__.write=function(_){return pe(arguments.length===1?_.toString():Array.prototype.join.call(arguments," "))},Ze=g.__private__.getArrayBuffer=function(_){for(var V=_.length,fe=new ArrayBuffer(V),ve=new Uint8Array(fe);V--;)ve[V]=_.charCodeAt(V);return fe},He=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return He};var We=i.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(_){return We=F===P.ADVANCED?_/Qe:_,this};var Ge,Ke=g.__private__.getFontSize=g.getFontSize=function(){return F===P.COMPAT?We:We*Qe},rt=i.R2L||!1;g.__private__.setR2L=g.setR2L=function(_){return rt=_,this},g.__private__.getR2L=g.getR2L=function(){return rt};var at,At=g.__private__.setZoomMode=function(_){var V=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))Ge=_;else if(isNaN(_)){if(V.indexOf(_)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');Ge=_}else Ge=parseInt(_,10)};g.__private__.getZoomMode=function(){return Ge};var Rt,Wt=g.__private__.setPageMode=function(_){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');at=_};g.__private__.getPageMode=function(){return at};var Ft=g.__private__.setLayoutMode=function(_){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');Rt=_};g.__private__.getLayoutMode=function(){return Rt},g.__private__.setDisplayMode=g.setDisplayMode=function(_,V,fe){return At(_),Ft(V),Wt(fe),this};var xt={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(_){if(Object.keys(xt).indexOf(_)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return xt[_]},g.__private__.getDocumentProperties=function(){return xt},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(_){for(var V in xt)xt.hasOwnProperty(V)&&_[V]&&(xt[V]=_[V]);return this},g.__private__.setDocumentProperty=function(_,V){if(Object.keys(xt).indexOf(_)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return xt[_]=V};var wt,Qe,bn,Ut,Un,tn={},fn={},Ei=[],Qt={},Cs={},pn={},Tr={},Hn=null,an=0,Ct=[],Kt=new U3(g),Qs=i.hotfixes||[],Rn={},hr={},Js=[],Et=function _(V,fe,ve,Ce,Me,$e){if(!(this instanceof _))return new _(V,fe,ve,Ce,Me,$e);isNaN(V)&&(V=1),isNaN(fe)&&(fe=0),isNaN(ve)&&(ve=0),isNaN(Ce)&&(Ce=1),isNaN(Me)&&(Me=0),isNaN($e)&&($e=0),this._matrix=[V,fe,ve,Ce,Me,$e]};Object.defineProperty(Et.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(Et.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(Et.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(Et.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(Et.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(Et.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(Et.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(Et.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(Et.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(Et.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(Et.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(Et.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(Et.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Et.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Et.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Et.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Et.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(q).join(_)},Et.prototype.multiply=function(_){var V=_.sx*this.sx+_.shy*this.shx,fe=_.sx*this.shy+_.shy*this.sy,ve=_.shx*this.sx+_.sy*this.shx,Ce=_.shx*this.shy+_.sy*this.sy,Me=_.tx*this.sx+_.ty*this.shx+this.tx,$e=_.tx*this.shy+_.ty*this.sy+this.ty;return new Et(V,fe,ve,Ce,Me,$e)},Et.prototype.decompose=function(){var _=this.sx,V=this.shy,fe=this.shx,ve=this.sy,Ce=this.tx,Me=this.ty,$e=Math.sqrt(_*_+V*V),st=(_/=$e)*fe+(V/=$e)*ve;fe-=_*st,ve-=V*st;var _t=Math.sqrt(fe*fe+ve*ve);return st/=_t,_*(ve/=_t)<V*(fe/=_t)&&(_=-_,V=-V,st=-st,$e=-$e),{scale:new Et($e,0,0,_t,0,0),translate:new Et(1,0,0,1,Ce,Me),rotate:new Et(_,V,-V,_,0,0),skew:new Et(1,0,st,1,0,0)}},Et.prototype.toString=function(_){return this.join(" ")},Et.prototype.inversed=function(){var _=this.sx,V=this.shy,fe=this.shx,ve=this.sy,Ce=this.tx,Me=this.ty,$e=1/(_*ve-V*fe),st=ve*$e,_t=-V*$e,Ht=-fe*$e,Bt=_*$e;return new Et(st,_t,Ht,Bt,-st*Ce-Ht*Me,-_t*Ce-Bt*Me)},Et.prototype.applyToPoint=function(_){var V=_.x*this.sx+_.y*this.shx+this.tx,fe=_.x*this.shy+_.y*this.sy+this.ty;return new Ma(V,fe)},Et.prototype.applyToRectangle=function(_){var V=this.applyToPoint(_),fe=this.applyToPoint(new Ma(_.x+_.w,_.y+_.h));return new cl(V.x,V.y,fe.x-V.x,fe.y-V.y)},Et.prototype.clone=function(){var _=this.sx,V=this.shy,fe=this.shx,ve=this.sy,Ce=this.tx,Me=this.ty;return new Et(_,V,fe,ve,Ce,Me)},g.Matrix=Et;var ns=g.matrixMult=function(_,V){return V.multiply(_)},Li=new Et(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Li;var Ci=function(_,V){if(!Cs[_]){var fe=(V instanceof Od?"Sh":"P")+(Object.keys(Qt).length+1).toString(10);V.id=fe,Cs[_]=fe,Qt[fe]=V,Kt.publish("addPattern",V)}};g.ShadingPattern=Od,g.TilingPattern=Qp,g.addShadingPattern=function(_,V){return T("addShadingPattern()"),Ci(_,V),this},g.beginTilingPattern=function(_){T("beginTilingPattern()"),mp(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},g.endTilingPattern=function(_,V){T("endTilingPattern()"),V.stream=ze[Y].join(`
`),Ci(_,V),Kt.publish("endTilingPattern",V),Js.pop().restore()};var $n=g.__private__.newObject=function(){var _=qn();return Yr(_,!0),_},qn=g.__private__.newObjectDeferred=function(){return de++,me[de]=function(){return _e},de},Yr=function(_,V){return V=typeof V=="boolean"&&V,me[_]=_e,V&&pe(_+" 0 obj"),_},el=g.__private__.newAdditionalObject=function(){var _={objId:qn(),content:""};return je.push(_),_},ao=qn(),Zs=qn(),ea=g.__private__.decodeColorString=function(_){var V=_.split(" ");if(V.length!==2||V[1]!=="g"&&V[1]!=="G")V.length===5&&(V[4]==="k"||V[4]==="K")&&(V=[(1-V[0])*(1-V[3]),(1-V[1])*(1-V[3]),(1-V[2])*(1-V[3]),"r"]);else{var fe=parseFloat(V[0]);V=[fe,fe,fe,"r"]}for(var ve="#",Ce=0;Ce<3;Ce++)ve+=("0"+Math.floor(255*parseFloat(V[Ce])).toString(16)).slice(-2);return ve},Br=g.__private__.encodeColorString=function(_){var V;typeof _=="string"&&(_={ch1:_});var fe=_.ch1,ve=_.ch2,Ce=_.ch3,Me=_.ch4,$e=_.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof fe=="string"&&fe.charAt(0)!=="#"){var st=new t_(fe);if(st.ok)fe=st.toHex();else if(!/^\d*\.?\d*$/.test(fe))throw new Error('Invalid color "'+fe+'" passed to jsPDF.encodeColorString.')}if(typeof fe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(fe)&&(fe="#"+fe[1]+fe[1]+fe[2]+fe[2]+fe[3]+fe[3]),typeof fe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(fe)){var _t=parseInt(fe.substr(1),16);fe=_t>>16&255,ve=_t>>8&255,Ce=255&_t}if(ve===void 0||Me===void 0&&fe===ve&&ve===Ce)if(typeof fe=="string")V=fe+" "+$e[0];else switch(_.precision){case 2:V=J(fe/255)+" "+$e[0];break;case 3:default:V=I(fe/255)+" "+$e[0]}else if(Me===void 0||In(Me)==="object"){if(Me&&!isNaN(Me.a)&&Me.a===0)return V=["1.","1.","1.",$e[1]].join(" ");if(typeof fe=="string")V=[fe,ve,Ce,$e[1]].join(" ");else switch(_.precision){case 2:V=[J(fe/255),J(ve/255),J(Ce/255),$e[1]].join(" ");break;default:case 3:V=[I(fe/255),I(ve/255),I(Ce/255),$e[1]].join(" ")}}else if(typeof fe=="string")V=[fe,ve,Ce,Me,$e[2]].join(" ");else switch(_.precision){case 2:V=[J(fe),J(ve),J(Ce),J(Me),$e[2]].join(" ");break;case 3:default:V=[I(fe),I(ve),I(Ce),I(Me),$e[2]].join(" ")}return V},ta=g.__private__.getFilters=function(){return o},rs=g.__private__.putStream=function(_){var V=(_=_||{}).data||"",fe=_.filters||ta(),ve=_.alreadyAppliedFilters||[],Ce=_.addLength1||!1,Me=V.length,$e=_.objectId,st=function(Kr){return Kr};if(h!==null&&$e===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(st=Vn.encryptor($e,0));var _t={};fe===!0&&(fe=["FlateEncode"]);var Ht=_.additionalKeyValues||[],Bt=(_t=Mt.API.processDataByFilters!==void 0?Mt.API.processDataByFilters(V,fe):{data:V,reverseChain:[]}).reverseChain+(Array.isArray(ve)?ve.join(" "):ve.toString());if(_t.data.length!==0&&(Ht.push({key:"Length",value:_t.data.length}),Ce===!0&&Ht.push({key:"Length1",value:Me})),Bt.length!=0)if(Bt.split("/").length-1==1)Ht.push({key:"Filter",value:Bt});else{Ht.push({key:"Filter",value:"["+Bt+"]"});for(var nn=0;nn<Ht.length;nn+=1)if(Ht[nn].key==="DecodeParms"){for(var Gn=[],Zn=0;Zn<_t.reverseChain.split("/").length-1;Zn+=1)Gn.push("null");Gn.push(Ht[nn].value),Ht[nn].value="["+Gn.join(" ")+"]"}}pe("<<");for(var dr=0;dr<Ht.length;dr++)pe("/"+Ht[dr].key+" "+Ht[dr].value);pe(">>"),_t.data.length!==0&&(pe("stream"),pe(st(_t.data)),pe("endstream"))},ka=g.__private__.putPage=function(_){var V=_.number,fe=_.data,ve=_.objId,Ce=_.contentsObjId;Yr(ve,!0),pe("<</Type /Page"),pe("/Parent "+_.rootDictionaryObjId+" 0 R"),pe("/Resources "+_.resourceDictionaryObjId+" 0 R"),pe("/MediaBox ["+parseFloat(q(_.mediaBox.bottomLeftX))+" "+parseFloat(q(_.mediaBox.bottomLeftY))+" "+q(_.mediaBox.topRightX)+" "+q(_.mediaBox.topRightY)+"]"),_.cropBox!==null&&pe("/CropBox ["+q(_.cropBox.bottomLeftX)+" "+q(_.cropBox.bottomLeftY)+" "+q(_.cropBox.topRightX)+" "+q(_.cropBox.topRightY)+"]"),_.bleedBox!==null&&pe("/BleedBox ["+q(_.bleedBox.bottomLeftX)+" "+q(_.bleedBox.bottomLeftY)+" "+q(_.bleedBox.topRightX)+" "+q(_.bleedBox.topRightY)+"]"),_.trimBox!==null&&pe("/TrimBox ["+q(_.trimBox.bottomLeftX)+" "+q(_.trimBox.bottomLeftY)+" "+q(_.trimBox.topRightX)+" "+q(_.trimBox.topRightY)+"]"),_.artBox!==null&&pe("/ArtBox ["+q(_.artBox.bottomLeftX)+" "+q(_.artBox.bottomLeftY)+" "+q(_.artBox.topRightX)+" "+q(_.artBox.topRightY)+"]"),typeof _.userUnit=="number"&&_.userUnit!==1&&pe("/UserUnit "+_.userUnit),Kt.publish("putPage",{objId:ve,pageContext:Ct[V],pageNumber:V,page:fe}),pe("/Contents "+Ce+" 0 R"),pe(">>"),pe("endobj");var Me=fe.join(`
`);return F===P.ADVANCED&&(Me+=`
Q`),Yr(Ce,!0),rs({data:Me,filters:ta(),objectId:Ce}),pe("endobj"),ve},tl=g.__private__.putPages=function(){var _,V,fe=[];for(_=1;_<=an;_++)Ct[_].objId=qn(),Ct[_].contentsObjId=qn();for(_=1;_<=an;_++)fe.push(ka({number:_,data:ze[_],objId:Ct[_].objId,contentsObjId:Ct[_].contentsObjId,mediaBox:Ct[_].mediaBox,cropBox:Ct[_].cropBox,bleedBox:Ct[_].bleedBox,trimBox:Ct[_].trimBox,artBox:Ct[_].artBox,userUnit:Ct[_].userUnit,rootDictionaryObjId:ao,resourceDictionaryObjId:Zs}));Yr(ao,!0),pe("<</Type /Pages");var ve="/Kids [";for(V=0;V<an;V++)ve+=fe[V]+" 0 R ";pe(ve+"]"),pe("/Count "+an),pe(">>"),pe("endobj"),Kt.publish("postPutPages")},eu=function(_){Kt.publish("putFont",{font:_,out:pe,newObject:$n,putStream:rs}),_.isAlreadyPutted!==!0&&(_.objectNumber=$n(),pe("<<"),pe("/Type /Font"),pe("/BaseFont /"+Hp(_.postScriptName)),pe("/Subtype /Type1"),typeof _.encoding=="string"&&pe("/Encoding /"+_.encoding),pe("/FirstChar 32"),pe("/LastChar 255"),pe(">>"),pe("endobj"))},tu=function(){for(var _ in tn)tn.hasOwnProperty(_)&&(f===!1||f===!0&&v.hasOwnProperty(_))&&eu(tn[_])},nu=function(_){_.objectNumber=$n();var V=[];V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Form"}),V.push({key:"BBox",value:"["+[q(_.x),q(_.y),q(_.x+_.width),q(_.y+_.height)].join(" ")+"]"}),V.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var fe=_.pages[1].join(`
`);rs({data:fe,additionalKeyValues:V,objectId:_.objectNumber}),pe("endobj")},mc=function(){for(var _ in Rn)Rn.hasOwnProperty(_)&&nu(Rn[_])},lp=function(_,V){var fe,ve=[],Ce=1/(V-1);for(fe=0;fe<1;fe+=Ce)ve.push(fe);if(ve.push(1),_[0].offset!=0){var Me={offset:0,color:_[0].color};_.unshift(Me)}if(_[_.length-1].offset!=1){var $e={offset:1,color:_[_.length-1].color};_.push($e)}for(var st="",_t=0,Ht=0;Ht<ve.length;Ht++){for(fe=ve[Ht];fe>_[_t+1].offset;)_t++;var Bt=_[_t].offset,nn=(fe-Bt)/(_[_t+1].offset-Bt),Gn=_[_t].color,Zn=_[_t+1].color;st+=re(Math.round((1-nn)*Gn[0]+nn*Zn[0]).toString(16))+re(Math.round((1-nn)*Gn[1]+nn*Zn[1]).toString(16))+re(Math.round((1-nn)*Gn[2]+nn*Zn[2]).toString(16))}return st.trim()},Wn=function(_,V){V||(V=21);var fe=$n(),ve=lp(_.colors,V),Ce=[];Ce.push({key:"FunctionType",value:"0"}),Ce.push({key:"Domain",value:"[0.0 1.0]"}),Ce.push({key:"Size",value:"["+V+"]"}),Ce.push({key:"BitsPerSample",value:"8"}),Ce.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ce.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),rs({data:ve,additionalKeyValues:Ce,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:fe}),pe("endobj"),_.objectNumber=$n(),pe("<< /ShadingType "+_.type),pe("/ColorSpace /DeviceRGB");var Me="/Coords ["+q(parseFloat(_.coords[0]))+" "+q(parseFloat(_.coords[1]))+" ";_.type===2?Me+=q(parseFloat(_.coords[2]))+" "+q(parseFloat(_.coords[3])):Me+=q(parseFloat(_.coords[2]))+" "+q(parseFloat(_.coords[3]))+" "+q(parseFloat(_.coords[4]))+" "+q(parseFloat(_.coords[5])),pe(Me+="]"),_.matrix&&pe("/Matrix ["+_.matrix.toString()+"]"),pe("/Function "+fe+" 0 R"),pe("/Extend [true true]"),pe(">>"),pe("endobj")},vm=function(_,V){var fe=qn(),ve=$n();V.push({resourcesOid:fe,objectOid:ve}),_.objectNumber=ve;var Ce=[];Ce.push({key:"Type",value:"/Pattern"}),Ce.push({key:"PatternType",value:"1"}),Ce.push({key:"PaintType",value:"1"}),Ce.push({key:"TilingType",value:"1"}),Ce.push({key:"BBox",value:"["+_.boundingBox.map(q).join(" ")+"]"}),Ce.push({key:"XStep",value:q(_.xStep)}),Ce.push({key:"YStep",value:q(_.yStep)}),Ce.push({key:"Resources",value:fe+" 0 R"}),_.matrix&&Ce.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),rs({data:_.stream,additionalKeyValues:Ce,objectId:_.objectNumber}),pe("endobj")},nl=function(_){var V;for(V in Qt)Qt.hasOwnProperty(V)&&(Qt[V]instanceof Od?Wn(Qt[V]):Qt[V]instanceof Qp&&vm(Qt[V],_))},ed=function(_){for(var V in _.objectNumber=$n(),pe("<<"),_)switch(V){case"opacity":pe("/ca "+J(_[V]));break;case"stroke-opacity":pe("/CA "+J(_[V]))}pe(">>"),pe("endobj")},vc=function(){var _;for(_ in pn)pn.hasOwnProperty(_)&&ed(pn[_])},td=function(){for(var _ in pe("/XObject <<"),Rn)Rn.hasOwnProperty(_)&&Rn[_].objectNumber>=0&&pe("/"+_+" "+Rn[_].objectNumber+" 0 R");Kt.publish("putXobjectDict"),pe(">>")},up=function(){Vn.oid=$n(),pe("<<"),pe("/Filter /Standard"),pe("/V "+Vn.v),pe("/R "+Vn.r),pe("/U <"+Vn.toHexString(Vn.U)+">"),pe("/O <"+Vn.toHexString(Vn.O)+">"),pe("/P "+Vn.P),pe(">>"),pe("endobj")},ru=function(){for(var _ in pe("/Font <<"),tn)tn.hasOwnProperty(_)&&(f===!1||f===!0&&v.hasOwnProperty(_))&&pe("/"+_+" "+tn[_].objectNumber+" 0 R");pe(">>")},Ps=function(){if(Object.keys(Qt).length>0){for(var _ in pe("/Shading <<"),Qt)Qt.hasOwnProperty(_)&&Qt[_]instanceof Od&&Qt[_].objectNumber>=0&&pe("/"+_+" "+Qt[_].objectNumber+" 0 R");Kt.publish("putShadingPatternDict"),pe(">>")}},yc=function(_){if(Object.keys(Qt).length>0){for(var V in pe("/Pattern <<"),Qt)Qt.hasOwnProperty(V)&&Qt[V]instanceof g.TilingPattern&&Qt[V].objectNumber>=0&&Qt[V].objectNumber<_&&pe("/"+V+" "+Qt[V].objectNumber+" 0 R");Kt.publish("putTilingPatternDict"),pe(">>")}},is=function(){if(Object.keys(pn).length>0){var _;for(_ in pe("/ExtGState <<"),pn)pn.hasOwnProperty(_)&&pn[_].objectNumber>=0&&pe("/"+_+" "+pn[_].objectNumber+" 0 R");Kt.publish("putGStateDict"),pe(">>")}},sr=function(_){Yr(_.resourcesOid,!0),pe("<<"),pe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ru(),Ps(),yc(_.objectOid),is(),td(),pe(">>"),pe("endobj")},cp=function(){var _=[];tu(),vc(),mc(),nl(_),Kt.publish("putResources"),_.forEach(sr),sr({resourcesOid:Zs,objectOid:Number.MAX_SAFE_INTEGER}),Kt.publish("postPutResources")},hp=function(){Kt.publish("putAdditionalObjects");for(var _=0;_<je.length;_++){var V=je[_];Yr(V.objId,!0),pe(V.content),pe("endobj")}Kt.publish("postPutAdditionalObjects")},iu=function(_){fn[_.fontName]=fn[_.fontName]||{},fn[_.fontName][_.fontStyle]=_.id},rl=function(_,V,fe,ve,Ce){var Me={id:"F"+(Object.keys(tn).length+1).toString(10),postScriptName:_,fontName:V,fontStyle:fe,encoding:ve,isStandardFont:Ce||!1,metadata:{}};return Kt.publish("addFont",{font:Me,instance:this}),tn[Me.id]=Me,iu(Me),Me.id},su=function(_){for(var V=0,fe=He.length;V<fe;V++){var ve=rl.call(this,_[V][0],_[V][1],_[V][2],He[V][3],!0);f===!1&&(v[ve]=!0);var Ce=_[V][0].split("-");iu({id:ve,fontName:Ce[0],fontStyle:Ce[1]||""})}Kt.publish("addFonts",{fonts:tn,dictionary:fn})},Pi=function(_){return _.foo=function(){try{return _.apply(this,arguments)}catch(ve){var V=ve.stack||"";~V.indexOf(" at ")&&(V=V.split(" at ")[1]);var fe="Error in function "+V.split(`
`)[0].split("<")[0]+": "+ve.message;if(!Ot.console)throw new Error(fe);Ot.console.error(fe,ve),Ot.alert&&alert(fe)}},_.foo.bar=_,_.foo},wc=function(_,V){var fe,ve,Ce,Me,$e,st,_t,Ht,Bt;if(Ce=(V=V||{}).sourceEncoding||"Unicode",$e=V.outputEncoding,(V.autoencode||$e)&&tn[wt].metadata&&tn[wt].metadata[Ce]&&tn[wt].metadata[Ce].encoding&&(Me=tn[wt].metadata[Ce].encoding,!$e&&tn[wt].encoding&&($e=tn[wt].encoding),!$e&&Me.codePages&&($e=Me.codePages[0]),typeof $e=="string"&&($e=Me[$e]),$e)){for(_t=!1,st=[],fe=0,ve=_.length;fe<ve;fe++)(Ht=$e[_.charCodeAt(fe)])?st.push(String.fromCharCode(Ht)):st.push(_[fe]),st[fe].charCodeAt(0)>>8&&(_t=!0);_=st.join("")}for(fe=_.length;_t===void 0&&fe!==0;)_.charCodeAt(fe-1)>>8&&(_t=!0),fe--;if(!_t)return _;for(st=V.noBOM?[]:[254,255],fe=0,ve=_.length;fe<ve;fe++){if((Bt=(Ht=_.charCodeAt(fe))>>8)>>8)throw new Error("Character at position "+fe+" of string '"+_+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");st.push(Bt),st.push(Ht-(Bt<<8))}return String.fromCharCode.apply(void 0,st)},Ni=g.__private__.pdfEscape=g.pdfEscape=function(_,V){return wc(_,V).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},au=g.__private__.beginPage=function(_){ze[++an]=[],Ct[an]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},il(an),Ie(ze[Y])},nd=function(_,V){var fe,ve,Ce;switch(t=V||t,typeof _=="string"&&(fe=S(_.toLowerCase()),Array.isArray(fe)&&(ve=fe[0],Ce=fe[1])),Array.isArray(_)&&(ve=_[0]*Qe,Ce=_[1]*Qe),isNaN(ve)&&(ve=r[0],Ce=r[1]),(ve>14400||Ce>14400)&&(Dn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ve=Math.min(14400,ve),Ce=Math.min(14400,Ce)),r=[ve,Ce],t.substr(0,1)){case"l":Ce>ve&&(r=[Ce,ve]);break;case"p":ve>Ce&&(r=[Ce,ve])}au(r),hu(ad),pe(ki),ld!==0&&pe(ld+" J"),fu!==0&&pe(fu+" j"),Kt.publish("addPage",{pageNumber:an})},rd=function(_){_>0&&_<=an&&(ze.splice(_,1),Ct.splice(_,1),an--,Y>an&&(Y=an),this.setPage(Y))},il=function(_){_>0&&_<=an&&(Y=_)},ym=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return ze.length-1},bc=function(_,V,fe){var ve,Ce=void 0;return fe=fe||{},_=_!==void 0?_:tn[wt].fontName,V=V!==void 0?V:tn[wt].fontStyle,ve=_.toLowerCase(),fn[ve]!==void 0&&fn[ve][V]!==void 0?Ce=fn[ve][V]:fn[_]!==void 0&&fn[_][V]!==void 0?Ce=fn[_][V]:fe.disableWarning===!1&&Dn.warn("Unable to look up font label for font '"+_+"', '"+V+"'. Refer to getFontList() for available fonts."),Ce||fe.noFallback||(Ce=fn.times[V])==null&&(Ce=fn.times.normal),Ce},un=g.__private__.putInfo=function(){var _=$n(),V=function(ve){return ve};for(var fe in h!==null&&(V=Vn.encryptor(_,0)),pe("<<"),pe("/Producer ("+Ni(V("jsPDF "+Mt.version))+")"),xt)xt.hasOwnProperty(fe)&&xt[fe]&&pe("/"+fe.substr(0,1).toUpperCase()+fe.substr(1)+" ("+Ni(V(xt[fe]))+")");pe("/CreationDate ("+Ni(V(ce))+")"),pe(">>"),pe("endobj")},Ac=g.__private__.putCatalog=function(_){var V=(_=_||{}).rootDictionaryObjId||ao;switch($n(),pe("<<"),pe("/Type /Catalog"),pe("/Pages "+V+" 0 R"),Ge||(Ge="fullwidth"),Ge){case"fullwidth":pe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":pe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":pe("/OpenAction [3 0 R /Fit]");break;case"original":pe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var fe=""+Ge;fe.substr(fe.length-1)==="%"&&(Ge=parseInt(Ge)/100),typeof Ge=="number"&&pe("/OpenAction [3 0 R /XYZ null null "+J(Ge)+"]")}switch(Rt||(Rt="continuous"),Rt){case"continuous":pe("/PageLayout /OneColumn");break;case"single":pe("/PageLayout /SinglePage");break;case"two":case"twoleft":pe("/PageLayout /TwoColumnLeft");break;case"tworight":pe("/PageLayout /TwoColumnRight")}at&&pe("/PageMode /"+at),Kt.publish("putCatalog"),pe(">>"),pe("endobj")},dp=g.__private__.putTrailer=function(){pe("trailer"),pe("<<"),pe("/Size "+(de+1)),pe("/Root "+de+" 0 R"),pe("/Info "+(de-1)+" 0 R"),h!==null&&pe("/Encrypt "+Vn.oid+" 0 R"),pe("/ID [ <"+B+"> <"+B+"> ]"),pe(">>")},id=g.__private__.putHeader=function(){pe("%PDF-"+b),pe("%ºß¬à")},fp=g.__private__.putXRef=function(){var _="0000000000";pe("xref"),pe("0 "+(de+1)),pe("0000000000 65535 f ");for(var V=1;V<=de;V++)typeof me[V]=="function"?pe((_+me[V]()).slice(-10)+" 00000 n "):me[V]!==void 0?pe((_+me[V]).slice(-10)+" 00000 n "):pe("0000000000 00000 n ")},Ta=g.__private__.buildDocument=function(){pt(),Ie(we),Kt.publish("buildDocument"),id(),tl(),hp(),cp(),h!==null&&up(),un(),Ac();var _=_e;return fp(),dp(),pe("startxref"),pe(""+_),pe("%%EOF"),Ie(ze[Y]),we.join(`
`)},ou=g.__private__.getBlob=function(_){return new Blob([Ze(_)],{type:"application/pdf"})},sl=g.output=g.__private__.output=Pi(function(_,V){switch(typeof(V=V||{})=="string"?V={filename:V}:V.filename=V.filename||"generated.pdf",_){case void 0:return Ta();case"save":g.save(V.filename);break;case"arraybuffer":return Ze(Ta());case"blob":return ou(Ta());case"bloburi":case"bloburl":if(Ot.URL!==void 0&&typeof Ot.URL.createObjectURL=="function")return Ot.URL&&Ot.URL.createObjectURL(ou(Ta()))||void 0;Dn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var fe="",ve=Ta();try{fe=Nw(ve)}catch{fe=Nw(unescape(encodeURIComponent(ve)))}return"data:application/pdf;filename="+V.filename+";base64,"+fe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ot)==="[object Window]"){var Ce="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Me=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';V.pdfObjectUrl&&(Ce=V.pdfObjectUrl,Me="");var $e='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ce+'"'+Me+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(V)+");<\/script></body></html>",st=Ot.open();return st!==null&&st.document.write($e),st}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ot)==="[object Window]"){var _t='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(V.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+V.filename+'" width="500px" height="400px" /></body></html>',Ht=Ot.open();if(Ht!==null){Ht.document.write(_t);var Bt=this;Ht.document.documentElement.querySelector("#pdfViewer").onload=function(){Ht.document.title=V.filename,Ht.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Bt.output("bloburl"))}}return Ht}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ot)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var nn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",V)+'"></iframe></body></html>',Gn=Ot.open();if(Gn!==null&&(Gn.document.write(nn),Gn.document.title=V.filename),Gn||typeof safari>"u")return Gn;break;case"datauri":case"dataurl":return Ot.document.location.href=this.output("datauristring",V);default:return null}}),lu=function(_){return Array.isArray(Qs)===!0&&Qs.indexOf(_)>-1};switch(n){case"pt":Qe=1;break;case"mm":Qe=72/25.4;break;case"cm":Qe=72/2.54;break;case"in":Qe=72;break;case"px":Qe=lu("px_scaling")==1?.75:96/72;break;case"pc":case"em":Qe=12;break;case"ex":Qe=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Qe=n}var Vn=null;ue(),G();var Ia=function(_){return h!==null?Vn.encryptor(_,0):function(V){return V}},na=g.__private__.getPageInfo=g.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ct[_].objId,pageNumber:_,pageContext:Ct[_]}},kt=g.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var V in Ct)if(Ct[V].objId===_)break;return na(V)},uu=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:Ct[Y].objId,pageNumber:Y,pageContext:Ct[Y]}};g.addPage=function(){return nd.apply(this,arguments),this},g.setPage=function(){return il.apply(this,arguments),Ie.call(this,ze[Y]),this},g.insertPage=function(_){return this.addPage(),this.movePage(Y,_),this},g.movePage=function(_,V){var fe,ve;if(_>V){fe=ze[_],ve=Ct[_];for(var Ce=_;Ce>V;Ce--)ze[Ce]=ze[Ce-1],Ct[Ce]=Ct[Ce-1];ze[V]=fe,Ct[V]=ve,this.setPage(V)}else if(_<V){fe=ze[_],ve=Ct[_];for(var Me=_;Me<V;Me++)ze[Me]=ze[Me+1],Ct[Me]=Ct[Me+1];ze[V]=fe,Ct[V]=ve,this.setPage(V)}return this},g.deletePage=function(){return rd.apply(this,arguments),this},g.__private__.text=g.text=function(_,V,fe,ve,Ce){var Me,$e,st,_t,Ht,Bt,nn,Gn,Zn,dr=(ve=ve||{}).scope||this;if(typeof _=="number"&&typeof V=="number"&&(typeof fe=="string"||Array.isArray(fe))){var Kr=fe;fe=V,V=_,_=Kr}if(arguments[3]instanceof Et?(T("The transform parameter of text() with a Matrix value"),Zn=Ce):(st=arguments[4],_t=arguments[5],In(nn=arguments[3])==="object"&&nn!==null||(typeof st=="string"&&(_t=st,st=null),typeof nn=="string"&&(_t=nn,nn=null),typeof nn=="number"&&(st=nn,nn=null),ve={flags:nn,angle:st,align:_t})),isNaN(V)||isNaN(fe)||_==null)throw new Error("Invalid arguments passed to jsPDF.text");if(_.length===0)return dr;var Ir="",aa=!1,as=typeof ve.lineHeightFactor=="number"?ve.lineHeightFactor:cu,Ts=dr.internal.scaleFactor;function dl(Pn){return Pn=Pn.split("	").join(Array(ve.TabLen||9).join(" ")),Ni(Pn,nn)}function hd(Pn){for(var An,tr=Pn.concat(),fr=[],ja=tr.length;ja--;)typeof(An=tr.shift())=="string"?fr.push(An):Array.isArray(Pn)&&(An.length===1||An[1]===void 0&&An[2]===void 0)?fr.push(An[0]):fr.push([An[0],An[1],An[2]]);return fr}function Tc(Pn,An){var tr;if(typeof Pn=="string")tr=An(Pn)[0];else if(Array.isArray(Pn)){for(var fr,ja,Uc=Pn.concat(),Au=[],pd=Uc.length;pd--;)typeof(fr=Uc.shift())=="string"?Au.push(An(fr)[0]):Array.isArray(fr)&&typeof fr[0]=="string"&&(ja=An(fr[0],fr[1],fr[2]),Au.push([ja[0],ja[1],ja[2]]));tr=Au}return tr}var pu=!1,Ic=!0;if(typeof _=="string")pu=!0;else if(Array.isArray(_)){var Rc=_.concat();$e=[];for(var gu,er=Rc.length;er--;)(typeof(gu=Rc.shift())!="string"||Array.isArray(gu)&&typeof gu[0]!="string")&&(Ic=!1);pu=Ic}if(pu===!1)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');typeof _=="string"&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var Fc=We/dr.internal.scaleFactor,Mc=Fc*(as-1);switch(ve.baseline){case"bottom":fe-=Mc;break;case"top":fe+=Fc-Mc;break;case"hanging":fe+=Fc-2*Mc;break;case"middle":fe+=Fc/2-Mc}if((Bt=ve.maxWidth||0)>0&&(typeof _=="string"?_=dr.splitTextToSize(_,Bt):Object.prototype.toString.call(_)==="[object Array]"&&(_=_.reduce(function(Pn,An){return Pn.concat(dr.splitTextToSize(An,Bt))},[]))),Me={text:_,x:V,y:fe,options:ve,mutex:{pdfEscape:Ni,activeFontKey:wt,fonts:tn,activeFontSize:We}},Kt.publish("preProcessText",Me),_=Me.text,st=(ve=Me.options).angle,!(Zn instanceof Et)&&st&&typeof st=="number"){st*=Math.PI/180,ve.rotationDirection===0&&(st=-st),F===P.ADVANCED&&(st=-st);var Oc=Math.cos(st),Dc=Math.sin(st);Zn=new Et(Oc,Dc,-Dc,Oc,0,0)}else st&&st instanceof Et&&(Zn=st);F!==P.ADVANCED||Zn||(Zn=Li),(Ht=ve.charSpace||ul)!==void 0&&(Ir+=q(O(Ht))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Gn=ve.horizontalScale)!==void 0&&(Ir+=q(100*Gn)+` Tz
`),ve.lang;var hi=-1,mu=ve.renderingMode!==void 0?ve.renderingMode:ve.stroke,uo=dr.internal.getCurrentPageInfo().pageContext;switch(mu){case 0:case!1:case"fill":hi=0;break;case 1:case!0:case"stroke":hi=1;break;case 2:case"fillThenStroke":hi=2;break;case 3:case"invisible":hi=3;break;case 4:case"fillAndAddForClipping":hi=4;break;case 5:case"strokeAndAddPathForClipping":hi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":hi=6;break;case 7:case"addToPathForClipping":hi=7}var vp=uo.usedRenderingMode!==void 0?uo.usedRenderingMode:-1;hi!==-1?Ir+=hi+` Tr
`:vp!==-1&&(Ir+=`0 Tr
`),hi!==-1&&(uo.usedRenderingMode=hi),_t=ve.align||"left";var di,jc=We*as,dd=dr.internal.pageSize.getWidth(),Bc=tn[wt];Ht=ve.charSpace||ul,Bt=ve.maxWidth||0,nn=Object.assign({autoencode:!0,noBOM:!0},ve.flags);var Oa=[],fl=function(Pn){return dr.getStringUnitWidth(Pn,{font:Bc,charSpace:Ht,fontSize:We,doKerning:!1})*We/Ts};if(Object.prototype.toString.call(_)==="[object Array]"){var fi;$e=hd(_),_t!=="left"&&(di=$e.map(fl));var Qr,pl=0;if(_t==="right"){V-=di[0],_=[],er=$e.length;for(var co=0;co<er;co++)co===0?(Qr=Ns(V),fi=ks(fe)):(Qr=O(pl-di[co]),fi=-jc),_.push([$e[co],Qr,fi]),pl=di[co]}else if(_t==="center"){V-=di[0]/2,_=[],er=$e.length;for(var ho=0;ho<er;ho++)ho===0?(Qr=Ns(V),fi=ks(fe)):(Qr=O((pl-di[ho])/2),fi=-jc),_.push([$e[ho],Qr,fi]),pl=di[ho]}else if(_t==="left"){_=[],er=$e.length;for(var zc=0;zc<er;zc++)_.push($e[zc])}else if(_t==="justify"&&Bc.encoding==="Identity-H"){_=[],er=$e.length,Bt=Bt!==0?Bt:dd;for(var fo=0,cn=0;cn<er;cn++)if(fi=cn===0?ks(fe):-jc,Qr=cn===0?Ns(V):fo,cn<er-1){var po=O((Bt-di[cn])/($e[cn].split(" ").length-1)),Jr=$e[cn].split(" ");_.push([Jr[0]+" ",Qr,fi]),fo=0;for(var os=1;os<Jr.length;os++){var vu=(fl(Jr[os-1]+" "+Jr[os])-fl(Jr[os]))*Ts+po;os==Jr.length-1?_.push([Jr[os],vu,0]):_.push([Jr[os]+" ",vu,0]),fo-=vu}}else _.push([$e[cn],Qr,fi]);_.push(["",fo,0])}else{if(_t!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],er=$e.length,Bt=Bt!==0?Bt:dd,cn=0;cn<er;cn++)fi=cn===0?ks(fe):-jc,Qr=cn===0?Ns(V):0,cn<er-1?Oa.push(q(O((Bt-di[cn])/($e[cn].split(" ").length-1)))):Oa.push(0),_.push([$e[cn],Qr,fi])}}var fd=typeof ve.R2L=="boolean"?ve.R2L:rt;fd===!0&&(_=Tc(_,function(Pn,An,tr){return[Pn.split("").reverse().join(""),An,tr]})),Me={text:_,x:V,y:fe,options:ve,mutex:{pdfEscape:Ni,activeFontKey:wt,fonts:tn,activeFontSize:We}},Kt.publish("postProcessText",Me),_=Me.text,aa=Me.mutex.isHex||!1;var yu=tn[wt].encoding;yu!=="WinAnsiEncoding"&&yu!=="StandardEncoding"||(_=Tc(_,function(Pn,An,tr){return[dl(Pn),An,tr]})),$e=hd(_),_=[];for(var wu,bu,ls,go=0,Da=1,mo=Array.isArray($e[0])?Da:go,vo="",gl=function(Pn,An,tr){var fr="";return tr instanceof Et?(tr=typeof ve.angle=="number"?ns(tr,new Et(1,0,0,1,Pn,An)):ns(new Et(1,0,0,1,Pn,An),tr),F===P.ADVANCED&&(tr=ns(new Et(1,0,0,-1,0,0),tr)),fr=tr.join(" ")+` Tm
`):fr=q(Pn)+" "+q(An)+` Td
`,fr},zr=0;zr<$e.length;zr++){switch(vo="",mo){case Da:ls=(aa?"<":"(")+$e[zr][0]+(aa?">":")"),wu=parseFloat($e[zr][1]),bu=parseFloat($e[zr][2]);break;case go:ls=(aa?"<":"(")+$e[zr]+(aa?">":")"),wu=Ns(V),bu=ks(fe)}Oa!==void 0&&Oa[zr]!==void 0&&(vo=Oa[zr]+` Tw
`),zr===0?_.push(vo+gl(wu,bu,Zn)+ls):mo===go?_.push(vo+ls):mo===Da&&_.push(vo+gl(wu,bu,Zn)+ls)}_=mo===go?_.join(` Tj
T* `):_.join(` Tj
`),_+=` Tj
`;var Ti=`BT
/`;return Ti+=wt+" "+We+` Tf
`,Ti+=q(We*as)+` TL
`,Ti+=br+`
`,Ti+=Ir,Ti+=_,pe(Ti+="ET"),v[wt]=!0,dr};var Ra=g.__private__.clip=g.clip=function(_){return pe(_==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Ra("evenodd")},g.__private__.discardPath=g.discardPath=function(){return pe("n"),this};var Fa=g.__private__.isValidStyle=function(_){var V=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)!==-1&&(V=!0),V};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(_){return Fa(_)&&(d=_),this};var sd=g.__private__.getStyle=g.getStyle=function(_){var V=d;switch(_){case"D":case"S":V="S";break;case"F":V="f";break;case"FD":case"DF":V="B";break;case"f":case"f*":case"B":case"B*":V=_}return V},al=g.close=function(){return pe("h"),this};g.stroke=function(){return pe("S"),this},g.fill=function(_){return xc("f",_),this},g.fillEvenOdd=function(_){return xc("f*",_),this},g.fillStroke=function(_){return xc("B",_),this},g.fillStrokeEvenOdd=function(_){return xc("B*",_),this};var xc=function(_,V){In(V)==="object"?pp(V,_):pe(_)},Sc=function(_){_===null||F===P.ADVANCED&&_===void 0||(_=sd(_),pe(_))};function _c(_,V,fe,ve,Ce){var Me=new Qp(V||this.boundingBox,fe||this.xStep,ve||this.yStep,this.gState,Ce||this.matrix);Me.stream=this.stream;var $e=_+"$$"+this.cloneIndex+++"$$";return Ci($e,Me),Me}var pp=function(_,V){var fe=Cs[_.key],ve=Qt[fe];if(ve instanceof Od)pe("q"),pe(wm(V)),ve.gState&&g.setGState(ve.gState),pe(_.matrix.toString()+" cm"),pe("/"+fe+" sh"),pe("Q");else if(ve instanceof Qp){var Ce=new Et(1,0,0,-1,0,hl());_.matrix&&(Ce=Ce.multiply(_.matrix||Li),fe=_c.call(ve,_.key,_.boundingBox,_.xStep,_.yStep,Ce).id),pe("q"),pe("/Pattern cs"),pe("/"+fe+" scn"),ve.gState&&g.setGState(ve.gState),pe(V),pe("Q")}},wm=function(_){switch(_){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},oo=g.moveTo=function(_,V){return pe(q(O(_))+" "+q(U(V))+" m"),this},ra=g.lineTo=function(_,V){return pe(q(O(_))+" "+q(U(V))+" l"),this},ss=g.curveTo=function(_,V,fe,ve,Ce,Me){return pe([q(O(_)),q(U(V)),q(O(fe)),q(U(ve)),q(O(Ce)),q(U(Me)),"c"].join(" ")),this};g.__private__.line=g.line=function(_,V,fe,ve,Ce){if(isNaN(_)||isNaN(V)||isNaN(fe)||isNaN(ve)||!Fa(Ce))throw new Error("Invalid arguments passed to jsPDF.line");return F===P.COMPAT?this.lines([[fe-_,ve-V]],_,V,[1,1],Ce||"S"):this.lines([[fe-_,ve-V]],_,V,[1,1]).stroke()},g.__private__.lines=g.lines=function(_,V,fe,ve,Ce,Me){var $e,st,_t,Ht,Bt,nn,Gn,Zn,dr,Kr,Ir,aa;if(typeof _=="number"&&(aa=fe,fe=V,V=_,_=aa),ve=ve||[1,1],Me=Me||!1,isNaN(V)||isNaN(fe)||!Array.isArray(_)||!Array.isArray(ve)||!Fa(Ce)||typeof Me!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(oo(V,fe),$e=ve[0],st=ve[1],Ht=_.length,Kr=V,Ir=fe,_t=0;_t<Ht;_t++)(Bt=_[_t]).length===2?(Kr=Bt[0]*$e+Kr,Ir=Bt[1]*st+Ir,ra(Kr,Ir)):(nn=Bt[0]*$e+Kr,Gn=Bt[1]*st+Ir,Zn=Bt[2]*$e+Kr,dr=Bt[3]*st+Ir,Kr=Bt[4]*$e+Kr,Ir=Bt[5]*st+Ir,ss(nn,Gn,Zn,dr,Kr,Ir));return Me&&al(),Sc(Ce),this},g.path=function(_){for(var V=0;V<_.length;V++){var fe=_[V],ve=fe.c;switch(fe.op){case"m":oo(ve[0],ve[1]);break;case"l":ra(ve[0],ve[1]);break;case"c":ss.apply(this,ve);break;case"h":al()}}return this},g.__private__.rect=g.rect=function(_,V,fe,ve,Ce){if(isNaN(_)||isNaN(V)||isNaN(fe)||isNaN(ve)||!Fa(Ce))throw new Error("Invalid arguments passed to jsPDF.rect");return F===P.COMPAT&&(ve=-ve),pe([q(O(_)),q(U(V)),q(O(fe)),q(O(ve)),"re"].join(" ")),Sc(Ce),this},g.__private__.triangle=g.triangle=function(_,V,fe,ve,Ce,Me,$e){if(isNaN(_)||isNaN(V)||isNaN(fe)||isNaN(ve)||isNaN(Ce)||isNaN(Me)||!Fa($e))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[fe-_,ve-V],[Ce-fe,Me-ve],[_-Ce,V-Me]],_,V,[1,1],$e,!0),this},g.__private__.roundedRect=g.roundedRect=function(_,V,fe,ve,Ce,Me,$e){if(isNaN(_)||isNaN(V)||isNaN(fe)||isNaN(ve)||isNaN(Ce)||isNaN(Me)||!Fa($e))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var st=4/3*(Math.SQRT2-1);return Ce=Math.min(Ce,.5*fe),Me=Math.min(Me,.5*ve),this.lines([[fe-2*Ce,0],[Ce*st,0,Ce,Me-Me*st,Ce,Me],[0,ve-2*Me],[0,Me*st,-Ce*st,Me,-Ce,Me],[2*Ce-fe,0],[-Ce*st,0,-Ce,-Me*st,-Ce,-Me],[0,2*Me-ve],[0,-Me*st,Ce*st,-Me,Ce,-Me]],_+Ce,V,[1,1],$e,!0),this},g.__private__.ellipse=g.ellipse=function(_,V,fe,ve,Ce){if(isNaN(_)||isNaN(V)||isNaN(fe)||isNaN(ve)||!Fa(Ce))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Me=4/3*(Math.SQRT2-1)*fe,$e=4/3*(Math.SQRT2-1)*ve;return oo(_+fe,V),ss(_+fe,V-$e,_+Me,V-ve,_,V-ve),ss(_-Me,V-ve,_-fe,V-$e,_-fe,V),ss(_-fe,V+$e,_-Me,V+ve,_,V+ve),ss(_+Me,V+ve,_+fe,V+$e,_+fe,V),Sc(Ce),this},g.__private__.circle=g.circle=function(_,V,fe,ve){if(isNaN(_)||isNaN(V)||isNaN(fe)||!Fa(ve))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,V,fe,fe,ve)},g.setFont=function(_,V,fe){return fe&&(V=H(V,fe)),wt=bc(_,V,{disableWarning:!1}),this};var Ec=g.__private__.getFont=g.getFont=function(){return tn[bc.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var _,V,fe={};for(_ in fn)if(fn.hasOwnProperty(_))for(V in fe[_]=[],fn[_])fn[_].hasOwnProperty(V)&&fe[_].push(V);return fe},g.addFont=function(_,V,fe,ve,Ce){var Me=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Me.indexOf(arguments[3])!==-1?Ce=arguments[3]:arguments[3]&&Me.indexOf(arguments[3])==-1&&(fe=H(fe,ve)),Ce=Ce||"Identity-H",rl.call(this,_,V,fe,Ce)};var cu,ad=i.lineWidth||.200025,ol=g.__private__.getLineWidth=g.getLineWidth=function(){return ad},hu=g.__private__.setLineWidth=g.setLineWidth=function(_){return ad=_,pe(q(O(_))+" w"),this};g.__private__.setLineDash=Mt.API.setLineDash=Mt.API.setLineDashPattern=function(_,V){if(_=_||[],V=V||0,isNaN(V)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(fe){return q(O(fe))}).join(" "),V=q(O(V)),pe("["+_+"] "+V+" d"),this};var Lc=g.__private__.getLineHeight=g.getLineHeight=function(){return We*cu};g.__private__.getLineHeight=g.getLineHeight=function(){return We*cu};var od=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(_){return typeof(_=_||1.15)=="number"&&(cu=_),this},ia=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return cu};od(i.lineHeight);var Ns=g.__private__.getHorizontalCoordinate=function(_){return O(_)},ks=g.__private__.getVerticalCoordinate=function(_){return F===P.ADVANCED?_:Ct[Y].mediaBox.topRightY-Ct[Y].mediaBox.bottomLeftY-O(_)},gp=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(_){return q(Ns(_))},sa=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(_){return q(ks(_))},ki=i.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return ea(ki)},g.__private__.setStrokeColor=g.setDrawColor=function(_,V,fe,ve){return ki=Br({ch1:_,ch2:V,ch3:fe,ch4:ve,pdfColorType:"draw",precision:2}),pe(ki),this};var Cc=i.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return ea(Cc)},g.__private__.setFillColor=g.setFillColor=function(_,V,fe,ve){return Cc=Br({ch1:_,ch2:V,ch3:fe,ch4:ve,pdfColorType:"fill",precision:2}),pe(Cc),this};var br=i.textColor||"0 g",ll=g.__private__.getTextColor=g.getTextColor=function(){return ea(br)};g.__private__.setTextColor=g.setTextColor=function(_,V,fe,ve){return br=Br({ch1:_,ch2:V,ch3:fe,ch4:ve,pdfColorType:"text",precision:3}),this};var ul=i.charSpace,du=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(ul||0)};g.__private__.setCharSpace=g.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ul=_,this};var ld=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(_){var V=g.CapJoinStyles[_];if(V===void 0)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ld=V,pe(V+" J"),this};var fu=0;g.__private__.setLineJoin=g.setLineJoin=function(_){var V=g.CapJoinStyles[_];if(V===void 0)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return fu=V,pe(V+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return pe(q(O(_))+" M"),this},g.GState=q5,g.setGState=function(_){(_=typeof _=="string"?pn[Tr[_]]:Pc(null,_)).equals(Hn)||(pe("/"+_.id+" gs"),Hn=_)};var Pc=function(_,V){if(!_||!Tr[_]){var fe=!1;for(var ve in pn)if(pn.hasOwnProperty(ve)&&pn[ve].equals(V)){fe=!0;break}if(fe)V=pn[ve];else{var Ce="GS"+(Object.keys(pn).length+1).toString(10);pn[Ce]=V,V.id=Ce}return _&&(Tr[_]=V.id),Kt.publish("addGState",V),V}};g.addGState=function(_,V){return Pc(_,V),this},g.saveGraphicsState=function(){return pe("q"),Ei.push({key:wt,size:We,color:br}),this},g.restoreGraphicsState=function(){pe("Q");var _=Ei.pop();return wt=_.key,We=_.size,br=_.color,Hn=null,this},g.setCurrentTransformationMatrix=function(_){return pe(_.toString()+" cm"),this},g.comment=function(_){return pe("#"+_),this};var Ma=function(_,V){var fe=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return fe},set:function(Me){isNaN(Me)||(fe=parseFloat(Me))}});var ve=V||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ve},set:function(Me){isNaN(Me)||(ve=parseFloat(Me))}});var Ce="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ce},set:function(Me){Ce=Me.toString()}}),this},cl=function(_,V,fe,ve){Ma.call(this,_,V),this.type="rect";var Ce=fe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ce},set:function($e){isNaN($e)||(Ce=parseFloat($e))}});var Me=ve||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Me},set:function($e){isNaN($e)||(Me=parseFloat($e))}}),this},Nc=function(){this.page=an,this.currentPage=Y,this.pages=ze.slice(0),this.pagesContext=Ct.slice(0),this.x=bn,this.y=Ut,this.matrix=Un,this.width=lo(Y),this.height=hl(Y),this.outputDestination=Je,this.id="",this.objectNumber=-1};Nc.prototype.restore=function(){an=this.page,Y=this.currentPage,Ct=this.pagesContext,ze=this.pages,bn=this.x,Ut=this.y,Un=this.matrix,ud(Y,this.width),cd(Y,this.height),Je=this.outputDestination};var mp=function(_,V,fe,ve,Ce){Js.push(new Nc),an=Y=0,ze=[],bn=_,Ut=V,Un=Ce,au([fe,ve])},bm=function(_){if(hr[_])Js.pop().restore();else{var V=new Nc,fe="Xo"+(Object.keys(Rn).length+1).toString(10);V.id=fe,hr[_]=fe,Rn[fe]=V,Kt.publish("addFormObject",V),Js.pop().restore()}};for(var kc in g.beginFormObject=function(_,V,fe,ve,Ce){return mp(_,V,fe,ve,Ce),this},g.endFormObject=function(_){return bm(_),this},g.doFormObject=function(_,V){var fe=Rn[hr[_]];return pe("q"),pe(V.toString()+" cm"),pe("/"+fe.id+" Do"),pe("Q"),this},g.getFormObject=function(_){var V=Rn[hr[_]];return{x:V.x,y:V.y,width:V.width,height:V.height,matrix:V.matrix}},g.save=function(_,V){return _=_||"generated.pdf",(V=V||{}).returnPromise=V.returnPromise||!1,V.returnPromise===!1?(Id(ou(Ta()),_),typeof Id.unload=="function"&&Ot.setTimeout&&setTimeout(Id.unload,911),this):new Promise(function(fe,ve){try{var Ce=Id(ou(Ta()),_);typeof Id.unload=="function"&&Ot.setTimeout&&setTimeout(Id.unload,911),fe(Ce)}catch(Me){ve(Me.message)}})},Mt.API)Mt.API.hasOwnProperty(kc)&&(kc==="events"&&Mt.API.events.length?function(_,V){var fe,ve,Ce;for(Ce=V.length-1;Ce!==-1;Ce--)fe=V[Ce][0],ve=V[Ce][1],_.subscribe.apply(_,[fe].concat(typeof ve=="function"?[ve]:ve))}(Kt,Mt.API.events):g[kc]=Mt.API[kc]);var lo=g.getPageWidth=function(_){return(Ct[_=_||Y].mediaBox.topRightX-Ct[_].mediaBox.bottomLeftX)/Qe},ud=g.setPageWidth=function(_,V){Ct[_].mediaBox.topRightX=V*Qe+Ct[_].mediaBox.bottomLeftX},hl=g.getPageHeight=function(_){return(Ct[_=_||Y].mediaBox.topRightY-Ct[_].mediaBox.bottomLeftY)/Qe},cd=g.setPageHeight=function(_,V){Ct[_].mediaBox.topRightY=V*Qe+Ct[_].mediaBox.bottomLeftY};return g.internal={pdfEscape:Ni,getStyle:sd,getFont:Ec,getFontSize:Ke,getCharSpace:du,getTextColor:ll,getLineHeight:Lc,getLineHeightFactor:ia,getLineWidth:ol,write:lt,getHorizontalCoordinate:Ns,getVerticalCoordinate:ks,getCoordinateString:gp,getVerticalCoordinateString:sa,collections:{},newObject:$n,newAdditionalObject:el,newObjectDeferred:qn,newObjectDeferredBegin:Yr,getFilters:ta,putStream:rs,events:Kt,scaleFactor:Qe,pageSize:{getWidth:function(){return lo(Y)},setWidth:function(_){ud(Y,_)},getHeight:function(){return hl(Y)},setHeight:function(_){cd(Y,_)}},encryptionOptions:h,encryption:Vn,getEncryptor:Ia,output:sl,getNumberOfPages:ym,pages:ze,out:pe,f2:J,f3:I,getPageInfo:na,getPageInfoByObjId:kt,getCurrentPageInfo:uu,getPDFVersion:x,Point:Ma,Rectangle:cl,Matrix:Et,hasHotfix:lu},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return lo(Y)},set:function(_){ud(Y,_)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return hl(Y)},set:function(_){cd(Y,_)},enumerable:!0,configurable:!0}),su.call(g,He),wt="F1",nd(r,t),Kt.publish("initialized"),g}Up.prototype.lsbFirstWord=function(i){return String.fromCharCode(i>>0&255,i>>8&255,i>>16&255,i>>24&255)},Up.prototype.toHexString=function(i){return i.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Up.prototype.hexToBytes=function(i){for(var e=[],t=0;t<i.length;t+=2)e.push(String.fromCharCode(parseInt(i.substr(t,2),16)));return e.join("")},Up.prototype.processOwnerPassword=function(i,e){return Tw(kw(e).substr(0,5),i)},Up.prototype.encryptor=function(i,e){var t=kw(this.encryptionKey+String.fromCharCode(255&i,i>>8&255,i>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return Tw(t,n)}},q5.prototype.equals=function(i){var e,t="id,objectNumber,equals";if(!i||In(i)!==In(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!i.hasOwnProperty(e)||this[e]!==i[e])return!1;n++}for(e in i)i.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},Mt.API={events:[]},Mt.version="2.5.2";var yr=Mt.API,bA=1,ap=function(i){return i.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Bp=function(i){return i.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},$t=function(i){return i.toFixed(2)},lh=function(i){return i.toFixed(5)};yr.__acroform__={};var Ks=function(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i},H3=function(i){return i*bA},El=function(i){var e=new s_,t=mt.internal.getHeight(i)||0,n=mt.internal.getWidth(i)||0;return e.BBox=[0,0,Number($t(n)),Number($t(t))],e},B8=yr.__acroform__.setBit=function(i,e){if(i=i||0,e=e||0,isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return i|=1<<e},z8=yr.__acroform__.clearBit=function(i,e){if(i=i||0,e=e||0,isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return i&=~(1<<e)},U8=yr.__acroform__.getBit=function(i,e){if(isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return i&1<<e?1:0},Cr=yr.__acroform__.getBitForPdf=function(i,e){if(isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return U8(i,e-1)},Pr=yr.__acroform__.setBitForPdf=function(i,e){if(isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return B8(i,e-1)},Nr=yr.__acroform__.clearBitForPdf=function(i,e){if(isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return z8(i,e-1)},H8=yr.__acroform__.calculateCoordinates=function(i,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,r=i[0],s=i[1],o=i[2],l=i[3],c={};return c.lowerLeft_X=t(r)||0,c.lowerLeft_Y=n(s+l)||0,c.upperRight_X=t(r+o)||0,c.upperRight_Y=n(s)||0,[Number($t(c.lowerLeft_X)),Number($t(c.lowerLeft_Y)),Number($t(c.upperRight_X)),Number($t(c.upperRight_Y))]},$8=function(i){if(i.appearanceStreamContent)return i.appearanceStreamContent;if(i.V||i.DV){var e=[],t=i._V||i.DV,n=Iw(i,t),r=i.scope.internal.getFont(i.fontName,i.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(i.scope.__private__.encodeColorString(i.color)),e.push("/"+r+" "+$t(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=El(i);return s.scope=i.scope,s.stream=e.join(`
`),s}},Iw=function(i,e){var t=i.fontSize===0?i.maxFontSize:i.fontSize,n={text:"",fontSize:""},r=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");r=i.multiline?r.map(function(I){return I.split(`
`)}):r.map(function(I){return[I]});var s=t,o=mt.internal.getHeight(i)||0;o=o<0?-o:o;var l=mt.internal.getWidth(i)||0;l=l<0?-l:l;var c=function(I,O,X){if(I+1<r.length){var U=O+" "+r[I+1][0];return z2(U,i,X).width<=l-4}return!1};s++;e:for(;s>0;){e="",s--;var d,h,f=z2("3",i,s).height,v=i.multiline?o-s:(o-f)/2,g=v+=2,b=0,x=0,E=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+z2(e,i,s=12).width+", FieldWidth:"+l+`
`;break}for(var S="",P=0,F=0;F<r.length;F++)if(r.hasOwnProperty(F)){var M=!1;if(r[F].length!==1&&E!==r[F].length-1){if((f+2)*(P+2)+2>o)continue e;S+=r[F][E],M=!0,x=F,F--}else{S=(S+=r[F][E]+" ").substr(S.length-1)==" "?S.substr(0,S.length-1):S;var $=parseInt(F),H=c($,S,s),q=F>=r.length-1;if(H&&!q){S+=" ",E=0;continue}if(H||q){if(q)x=$;else if(i.multiline&&(f+2)*(P+2)+2>o)continue e}else{if(!i.multiline||(f+2)*(P+2)+2>o)continue e;x=$}}for(var T="",D=b;D<=x;D++){var J=r[D];if(i.multiline){if(D===x){T+=J[E]+" ",E=(E+1)%J.length;continue}if(D===b){T+=J[J.length-1]+" ";continue}}T+=J[0]+" "}switch(T=T.substr(T.length-1)==" "?T.substr(0,T.length-1):T,h=z2(T,i,s).width,i.textAlign){case"right":d=l-h-2;break;case"center":d=(l-h)/2;break;case"left":default:d=2}e+=$t(d)+" "+$t(g)+` Td
`,e+="("+ap(T)+`) Tj
`,e+=-$t(d)+` 0 Td
`,g=-(s+2),h=0,b=M?x:x+1,P++,S=""}break}return n.text=e,n.fontSize=s,n},z2=function(i,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),r=e.scope.getStringUnitWidth(i,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:r}},q8={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},W8=function(i,e){var t={type:"reference",object:i};e.internal.getPageInfo(i.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})===void 0&&e.internal.getPageInfo(i.page).pageContext.annotations.push(t)},V8=function(i,e){for(var t in i)if(i.hasOwnProperty(t)){var n=t,r=i[t];e.internal.newObjectDeferredBegin(r.objId,!0),In(r)==="object"&&typeof r.putStream=="function"&&r.putStream(),delete i[n]}},G8=function(i,e){if(e.scope=i,i.internal!==void 0&&(i.internal.acroformPlugin===void 0||i.internal.acroformPlugin.isInitialized===!1)){if(Jo.FieldNum=0,i.internal.acroformPlugin=JSON.parse(JSON.stringify(q8)),i.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");bA=i.internal.scaleFactor,i.internal.acroformPlugin.acroFormDictionaryRoot=new a_,i.internal.acroformPlugin.acroFormDictionaryRoot.scope=i,i.internal.acroformPlugin.acroFormDictionaryRoot._eventID=i.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(i)}),i.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in n)if(n.hasOwnProperty(r)){var s=n[r];s.objId=void 0,s.hasAnnotation&&W8(s,t)}})(i)}),i.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(i)}),i.internal.events.subscribe("postPutPages",function(t){(function(n,r){var s=!n;for(var o in n||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],d=l.Rect;if(l.Rect&&(l.Rect=H8(l.Rect,r)),r.internal.newObjectDeferredBegin(l.objId,!0),l.DA=mt.createDefaultAppearanceStream(l),In(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var h=$8(l);c.push({key:"AP",value:"<</N "+h+">>"}),r.internal.acroformPlugin.xForms.push(h)}if(l.appearanceStreamContent){var f="";for(var v in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(v)){var g=l.appearanceStreamContent[v];if(f+="/"+v+" ",f+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var o in g)if(g.hasOwnProperty(o)){var b=g[o];typeof b=="function"&&(b=b.call(r,l)),f+="/"+o+" "+b+" ",r.internal.acroformPlugin.xForms.indexOf(b)>=0||r.internal.acroformPlugin.xForms.push(b)}}else typeof(b=g)=="function"&&(b=b.call(r,l)),f+="/"+o+" "+b,r.internal.acroformPlugin.xForms.indexOf(b)>=0||r.internal.acroformPlugin.xForms.push(b);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}r.internal.putStream({additionalKeyValues:c,objectId:l.objId}),r.internal.out("endobj")}s&&V8(r.internal.acroformPlugin.xForms,r)})(t,i)}),i.internal.acroformPlugin.isInitialized=!0}},i_=yr.__acroform__.arrayToPdfArray=function(i,e,t){var n=function(o){return o};if(Array.isArray(i)){for(var r="[",s=0;s<i.length;s++)switch(s!==0&&(r+=" "),In(i[s])){case"boolean":case"number":case"object":r+=i[s].toString();break;case"string":i[s].substr(0,1)!=="/"?(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),r+="("+ap(n(i[s].toString()))+")"):r+=i[s].toString()}return r+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Jy=function(i,e,t){var n=function(r){return r};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(i=i||"").toString(),i="("+ap(n(i))+")"},Wl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(i){this._objId=i}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Wl.prototype.toString=function(){return this.objId+" 0 R"},Wl.prototype.putStream=function(){var i=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:i,objectId:this.objId}),this.scope.internal.out("endobj")},Wl.prototype.getKeyValueListForStream=function(){var i=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],r=this[n];r&&(Array.isArray(r)?i.push({key:n,value:i_(r,this.objId,this.scope)}):r instanceof Wl?(r.scope=this.scope,i.push({key:n,value:r.objId+" 0 R"})):typeof r!="function"&&i.push({key:n,value:r}))}return i};var s_=function(){Wl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var i,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){i=t.trim()},get:function(){return i||null}})};Ks(s_,Wl);var a_=function(){Wl.call(this);var i,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(i){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+ap(t(i))+")"}},set:function(t){i=t}})};Ks(a_,Wl);var Jo=function i(){Wl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute F supplied.');e=S}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Cr(e,3)},set:function(S){S?this.F=Pr(e,3):this.F=Nr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute Ff supplied.');t=S}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(S){n=S!==void 0?S:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(S){n[0]=S}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(S){n[1]=S}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(S){n[2]=S}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(S){n[3]=S}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(S){switch(S){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=S;break;default:throw new Error('Invalid value "'+S+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof W5)return;s="FieldObject"+i.FieldNum++}var S=function(P){return P};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+ap(S(s))+")"},set:function(S){s=S.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(S){s=S}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(S){o=S}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(S){l=S}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(S){c=S}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/bA:d},set:function(S){d=S}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(S){h=S}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof W5||this instanceof Xf))return Jy(f,this.objId,this.scope)},set:function(S){S=S.toString(),f=S}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof ci?v:Jy(v,this.objId,this.scope)},set:function(S){S=S.toString(),v=this instanceof ci?S:S.substr(0,1)==="("?Bp(S.substr(1,S.length-2)):Bp(S)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ci?Bp(v.substr(1,v.length-1)):v},set:function(S){S=S.toString(),v=this instanceof ci?"/"+S:S}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(S){this.V=S}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof ci?g:Jy(g,this.objId,this.scope)},set:function(S){S=S.toString(),g=this instanceof ci?S:S.substr(0,1)==="("?Bp(S.substr(1,S.length-2)):Bp(S)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ci?Bp(g.substr(1,g.length-1)):g},set:function(S){S=S.toString(),g=this instanceof ci?"/"+S:S}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(S){S=!!S,x=S}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(S){b=S}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,1)},set:function(S){S?this.Ff=Pr(this.Ff,1):this.Ff=Nr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,2)},set:function(S){S?this.Ff=Pr(this.Ff,2):this.Ff=Nr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,3)},set:function(S){S?this.Ff=Pr(this.Ff,3):this.Ff=Nr(this.Ff,3)}});var E=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(E!==null)return E},set:function(S){if([0,1,2].indexOf(S)===-1)throw new Error('Invalid value "'+S+'" for attribute Q supplied.');E=S}}),Object.defineProperty(this,"textAlign",{get:function(){var S;switch(E){case 0:default:S="left";break;case 1:S="center";break;case 2:S="right"}return S},configurable:!0,enumerable:!0,set:function(S){switch(S){case"right":case 2:E=2;break;case"center":case 1:E=1;break;case"left":case 0:default:E=0}}})};Ks(Jo,Wl);var tg=function(){Jo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var i=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return i},set:function(t){i=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return i},set:function(t){i=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return i_(e,this.objId,this.scope)},set:function(t){var n,r;r=[],typeof(n=t)=="string"&&(r=function(s,o,l){l||(l=1);for(var c,d=[];c=o.exec(s);)d.push(c[l]);return d}(n,/\((.*?)\)/g)),e=r}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,18)},set:function(t){t?this.Ff=Pr(this.Ff,18):this.Ff=Nr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Pr(this.Ff,19):this.Ff=Nr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,20)},set:function(t){t?(this.Ff=Pr(this.Ff,20),e.sort()):this.Ff=Nr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,22)},set:function(t){t?this.Ff=Pr(this.Ff,22):this.Ff=Nr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,23)},set:function(t){t?this.Ff=Pr(this.Ff,23):this.Ff=Nr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,27)},set:function(t){t?this.Ff=Pr(this.Ff,27):this.Ff=Nr(this.Ff,27)}}),this.hasAppearanceStream=!1};Ks(tg,Jo);var ng=function(){tg.call(this),this.fontName="helvetica",this.combo=!1};Ks(ng,tg);var rg=function(){ng.call(this),this.combo=!0};Ks(rg,ng);var Y2=function(){rg.call(this),this.edit=!0};Ks(Y2,rg);var ci=function(){Jo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,15)},set:function(t){t?this.Ff=Pr(this.Ff,15):this.Ff=Nr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,16)},set:function(t){t?this.Ff=Pr(this.Ff,16):this.Ff=Nr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,17)},set:function(t){t?this.Ff=Pr(this.Ff,17):this.Ff=Nr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,26)},set:function(t){t?this.Ff=Pr(this.Ff,26):this.Ff=Nr(this.Ff,26)}});var i,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,r=[];for(n in r.push("<<"),e)r.push("/"+n+" ("+ap(t(e[n]))+")");return r.push(">>"),r.join(`
`)}},set:function(t){In(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return i},set:function(t){i=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return i.substr(1,i.length-1)},set:function(t){i="/"+t}})};Ks(ci,Jo);var K2=function(){ci.call(this),this.pushButton=!0};Ks(K2,ci);var ig=function(){ci.call(this),this.radio=!0,this.pushButton=!1;var i=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){i=e!==void 0?e:[]}})};Ks(ig,ci);var W5=function(){var i,e;Jo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return i},set:function(r){i=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(r){e=r}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(l){return l};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),n)o.push("/"+s+" ("+ap(r(n[s]))+")");return o.push(">>"),o.join(`
`)},set:function(r){In(r)==="object"&&(n=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(r){typeof r=="string"&&(n.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=mt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ks(W5,Jo),ig.prototype.setAppearance=function(i){if(!("createAppearanceStream"in i)||!("getCA"in i))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=i.createAppearanceStream(t.optionName),t.caption=i.getCA()}},ig.prototype.createOption=function(i){var e=new W5;return e.Parent=this,e.optionName=i,this.Kids.push(e),X8.call(this.scope,e),e};var Q2=function(){ci.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=mt.CheckBox.createAppearanceStream()};Ks(Q2,ci);var Xf=function(){Jo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,13)},set:function(e){e?this.Ff=Pr(this.Ff,13):this.Ff=Nr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,21)},set:function(e){e?this.Ff=Pr(this.Ff,21):this.Ff=Nr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,23)},set:function(e){e?this.Ff=Pr(this.Ff,23):this.Ff=Nr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,24)},set:function(e){e?this.Ff=Pr(this.Ff,24):this.Ff=Nr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,25)},set:function(e){e?this.Ff=Pr(this.Ff,25):this.Ff=Nr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,26)},set:function(e){e?this.Ff=Pr(this.Ff,26):this.Ff=Nr(this.Ff,26)}});var i=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return i},set:function(e){Number.isInteger(e)&&(i=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ks(Xf,Jo);var J2=function(){Xf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,14)},set:function(i){i?this.Ff=Pr(this.Ff,14):this.Ff=Nr(this.Ff,14)}}),this.password=!0};Ks(J2,Xf);var mt={CheckBox:{createAppearanceStream:function(){return{N:{On:mt.CheckBox.YesNormal},D:{On:mt.CheckBox.YesPushDown,Off:mt.CheckBox.OffPushDown}}},YesPushDown:function(i){var e=El(i);e.scope=i.scope;var t=[],n=i.scope.internal.getFont(i.fontName,i.fontStyle).id,r=i.scope.__private__.encodeColorString(i.color),s=Iw(i,i.caption);return t.push("0.749023 g"),t.push("0 0 "+$t(mt.internal.getWidth(i))+" "+$t(mt.internal.getHeight(i))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+$t(s.fontSize)+" Tf "+r),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(i){var e=El(i);e.scope=i.scope;var t=i.scope.internal.getFont(i.fontName,i.fontStyle).id,n=i.scope.__private__.encodeColorString(i.color),r=[],s=mt.internal.getHeight(i),o=mt.internal.getWidth(i),l=Iw(i,i.caption);return r.push("1 g"),r.push("0 0 "+$t(o)+" "+$t(s)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+$t(o-1)+" "+$t(s-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+t+" "+$t(l.fontSize)+" Tf "+n),r.push(l.text),r.push("ET"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(i){var e=El(i);e.scope=i.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+$t(mt.internal.getWidth(i))+" "+$t(mt.internal.getHeight(i))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(i){var e={D:{Off:mt.RadioButton.Circle.OffPushDown},N:{}};return e.N[i]=mt.RadioButton.Circle.YesNormal,e.D[i]=mt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(i){var e=El(i);e.scope=i.scope;var t=[],n=mt.internal.getWidth(i)<=mt.internal.getHeight(i)?mt.internal.getWidth(i)/4:mt.internal.getHeight(i)/4;n=Number((.9*n).toFixed(5));var r=mt.internal.Bezier_C,s=Number((n*r).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+lh(mt.internal.getWidth(i)/2)+" "+lh(mt.internal.getHeight(i)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),t.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),t.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),t.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(i){var e=El(i);e.scope=i.scope;var t=[],n=mt.internal.getWidth(i)<=mt.internal.getHeight(i)?mt.internal.getWidth(i)/4:mt.internal.getHeight(i)/4;n=Number((.9*n).toFixed(5));var r=Number((2*n).toFixed(5)),s=Number((r*mt.internal.Bezier_C).toFixed(5)),o=Number((n*mt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+lh(mt.internal.getWidth(i)/2)+" "+lh(mt.internal.getHeight(i)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+lh(mt.internal.getWidth(i)/2)+" "+lh(mt.internal.getHeight(i)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),t.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),t.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),t.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(i){var e=El(i);e.scope=i.scope;var t=[],n=mt.internal.getWidth(i)<=mt.internal.getHeight(i)?mt.internal.getWidth(i)/4:mt.internal.getHeight(i)/4;n=Number((.9*n).toFixed(5));var r=Number((2*n).toFixed(5)),s=Number((r*mt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+lh(mt.internal.getWidth(i)/2)+" "+lh(mt.internal.getHeight(i)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(i){var e={D:{Off:mt.RadioButton.Cross.OffPushDown},N:{}};return e.N[i]=mt.RadioButton.Cross.YesNormal,e.D[i]=mt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(i){var e=El(i);e.scope=i.scope;var t=[],n=mt.internal.calculateCross(i);return t.push("q"),t.push("1 1 "+$t(mt.internal.getWidth(i)-2)+" "+$t(mt.internal.getHeight(i)-2)+" re"),t.push("W"),t.push("n"),t.push($t(n.x1.x)+" "+$t(n.x1.y)+" m"),t.push($t(n.x2.x)+" "+$t(n.x2.y)+" l"),t.push($t(n.x4.x)+" "+$t(n.x4.y)+" m"),t.push($t(n.x3.x)+" "+$t(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(i){var e=El(i);e.scope=i.scope;var t=mt.internal.calculateCross(i),n=[];return n.push("0.749023 g"),n.push("0 0 "+$t(mt.internal.getWidth(i))+" "+$t(mt.internal.getHeight(i))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+$t(mt.internal.getWidth(i)-2)+" "+$t(mt.internal.getHeight(i)-2)+" re"),n.push("W"),n.push("n"),n.push($t(t.x1.x)+" "+$t(t.x1.y)+" m"),n.push($t(t.x2.x)+" "+$t(t.x2.y)+" l"),n.push($t(t.x4.x)+" "+$t(t.x4.y)+" m"),n.push($t(t.x3.x)+" "+$t(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(i){var e=El(i);e.scope=i.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+$t(mt.internal.getWidth(i))+" "+$t(mt.internal.getHeight(i))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(i){var e=i.scope.internal.getFont(i.fontName,i.fontStyle).id,t=i.scope.__private__.encodeColorString(i.color);return"/"+e+" "+i.fontSize+" Tf "+t}};mt.internal={Bezier_C:.551915024494,calculateCross:function(i){var e=mt.internal.getWidth(i),t=mt.internal.getHeight(i),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},mt.internal.getWidth=function(i){var e=0;return In(i)==="object"&&(e=H3(i.Rect[2])),e},mt.internal.getHeight=function(i){var e=0;return In(i)==="object"&&(e=H3(i.Rect[3])),e};var X8=yr.addField=function(i){if(G8(this,i),!(i instanceof Jo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=i).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),i.page=i.scope.internal.getCurrentPageInfo().pageNumber,this};yr.AcroFormChoiceField=tg,yr.AcroFormListBox=ng,yr.AcroFormComboBox=rg,yr.AcroFormEditBox=Y2,yr.AcroFormButton=ci,yr.AcroFormPushButton=K2,yr.AcroFormRadioButton=ig,yr.AcroFormCheckBox=Q2,yr.AcroFormTextField=Xf,yr.AcroFormPasswordField=J2,yr.AcroFormAppearance=mt,yr.AcroForm={ChoiceField:tg,ListBox:ng,ComboBox:rg,EditBox:Y2,Button:ci,PushButton:K2,RadioButton:ig,CheckBox:Q2,TextField:Xf,PasswordField:J2,Appearance:mt},Mt.AcroForm={ChoiceField:tg,ListBox:ng,ComboBox:rg,EditBox:Y2,Button:ci,PushButton:K2,RadioButton:ig,CheckBox:Q2,TextField:Xf,PasswordField:J2,Appearance:mt};Mt.AcroForm;function o_(i){return i.reduce(function(e,t,n){return e[t]=n,e},{})}(function(i){i.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=i.__addimage__.getImageFileTypeByImageData=function(I,O){var X,U,ce,B,j,G=e;if((O=O||e)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(H(I))for(j in t)for(ce=t[j],X=0;X<ce.length;X+=1){for(B=!0,U=0;U<ce[X].length;U+=1)if(ce[X][U]!==void 0&&ce[X][U]!==I[U]){B=!1;break}if(B===!0){G=j;break}}else for(j in t)for(ce=t[j],X=0;X<ce.length;X+=1){for(B=!0,U=0;U<ce[X].length;U+=1)if(ce[X][U]!==void 0&&ce[X][U]!==I.charCodeAt(U)){B=!1;break}if(B===!0){G=j;break}}return G===e&&O!==e&&(G=O),G},r=function I(O){for(var X=this.internal.write,U=this.internal.putStream,ce=(0,this.internal.getFilters)();ce.indexOf("FlateEncode")!==-1;)ce.splice(ce.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var B=[];if(B.push({key:"Type",value:"/XObject"}),B.push({key:"Subtype",value:"/Image"}),B.push({key:"Width",value:O.width}),B.push({key:"Height",value:O.height}),O.colorSpace===E.INDEXED?B.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(B.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===E.DEVICE_CMYK&&B.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),B.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&B.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)){for(var j="",G=0,ie=O.transparency.length;G<ie;G++)j+=O.transparency[G]+" "+O.transparency[G]+" ";B.push({key:"Mask",value:"["+j+"]"})}O.sMask!==void 0&&B.push({key:"SMask",value:O.objectId+1+" 0 R"});var le=O.filter!==void 0?["/"+O.filter]:void 0;if(U({data:O.data,additionalKeyValues:B,alreadyAppliedFilters:le,objectId:O.objectId}),X("endobj"),"sMask"in O&&O.sMask!==void 0){var ue="/Predictor "+O.predictor+" /Colors 1 /BitsPerComponent "+O.bitsPerComponent+" /Columns "+O.width,k={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:O.bitsPerComponent,decodeParameters:ue,data:O.sMask};"filter"in O&&(k.filter=O.filter),I.call(this,k)}if(O.colorSpace===E.INDEXED){var Y=this.internal.newObject();U({data:T(new Uint8Array(O.palette)),objectId:Y}),X("endobj")}},s=function(){var I=this.internal.collections.addImage_images;for(var O in I)r.call(this,I[O])},o=function(){var I,O=this.internal.collections.addImage_images,X=this.internal.write;for(var U in O)X("/I"+(I=O[U]).index,I.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var I=this.internal.collections.addImage_images;return l.call(this),I},d=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(I){return typeof i["process"+I.toUpperCase()]=="function"},f=function(I){return In(I)==="object"&&I.nodeType===1},v=function(I,O){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var X=""+I.getAttribute("src");if(X.indexOf("data:image/")===0)return c1(unescape(X).split("base64,").pop());var U=i.loadFile(X,!0);if(U!==void 0)return U}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var ce;switch(O){case"PNG":ce="image/png";break;case"WEBP":ce="image/webp";break;case"JPEG":case"JPG":default:ce="image/jpeg"}return c1(I.toDataURL(ce,1).split("base64,").pop())}},g=function(I){var O=this.internal.collections.addImage_images;if(O){for(var X in O)if(I===O[X].alias)return O[X]}},b=function(I,O,X){return I||O||(I=-96,O=-96),I<0&&(I=-1*X.width*72/I/this.internal.scaleFactor),O<0&&(O=-1*X.height*72/O/this.internal.scaleFactor),I===0&&(I=O*X.width/X.height),O===0&&(O=I*X.height/X.width),[I,O]},x=function(I,O,X,U,ce,B){var j=b.call(this,X,U,ce),G=this.internal.getCoordinateString,ie=this.internal.getVerticalCoordinateString,le=c.call(this);if(X=j[0],U=j[1],le[ce.index]=ce,B){B*=Math.PI/180;var ue=Math.cos(B),k=Math.sin(B),Y=function(re){return re.toFixed(4)},te=[Y(ue),Y(k),Y(-1*k),Y(ue),0,0,"cm"]}this.internal.write("q"),B?(this.internal.write([1,"0","0",1,G(I),ie(O+U),"cm"].join(" ")),this.internal.write(te.join(" ")),this.internal.write([G(X),"0","0",G(U),"0","0","cm"].join(" "))):this.internal.write([G(X),"0","0",G(U),G(I),ie(O+U),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ce.index+" Do"),this.internal.write("Q")},E=i.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};i.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var S=i.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},P=i.__addimage__.sHashCode=function(I){var O,X,U=0;if(typeof I=="string")for(X=I.length,O=0;O<X;O++)U=(U<<5)-U+I.charCodeAt(O),U|=0;else if(H(I))for(X=I.byteLength/2,O=0;O<X;O++)U=(U<<5)-U+I[O],U|=0;return U},F=i.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var O=!0;return I.length===0&&(O=!1),I.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(O=!1),O},M=i.__addimage__.extractImageFromDataUrl=function(I){var O=(I=I||"").split("base64,"),X=null;if(O.length===2){var U=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(O[0]);Array.isArray(U)&&(X={mimeType:U[1],charset:U[2],data:O[1]})}return X},$=i.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};i.__addimage__.isArrayBuffer=function(I){return $()&&I instanceof ArrayBuffer};var H=i.__addimage__.isArrayBufferView=function(I){return $()&&typeof Uint32Array<"u"&&(I instanceof Int8Array||I instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array)},q=i.__addimage__.binaryStringToUint8Array=function(I){for(var O=I.length,X=new Uint8Array(O),U=0;U<O;U++)X[U]=I.charCodeAt(U);return X},T=i.__addimage__.arrayBufferToBinaryString=function(I){for(var O="",X=H(I)?I:new Uint8Array(I),U=0;U<X.length;U+=8192)O+=String.fromCharCode.apply(null,X.subarray(U,U+8192));return O};i.addImage=function(){var I,O,X,U,ce,B,j,G,ie;if(typeof arguments[1]=="number"?(O=e,X=arguments[1],U=arguments[2],ce=arguments[3],B=arguments[4],j=arguments[5],G=arguments[6],ie=arguments[7]):(O=arguments[1],X=arguments[2],U=arguments[3],ce=arguments[4],B=arguments[5],j=arguments[6],G=arguments[7],ie=arguments[8]),In(I=arguments[0])==="object"&&!f(I)&&"imageData"in I){var le=I;I=le.imageData,O=le.format||O||e,X=le.x||X||0,U=le.y||U||0,ce=le.w||le.width||ce,B=le.h||le.height||B,j=le.alias||j,G=le.compression||G,ie=le.rotation||le.angle||ie}var ue=this.internal.getFilters();if(G===void 0&&ue.indexOf("FlateEncode")!==-1&&(G="SLOW"),isNaN(X)||isNaN(U))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var k=D.call(this,I,O,j,G);return x.call(this,X,U,ce,B,k,ie),this};var D=function(I,O,X,U){var ce,B,j;if(typeof I=="string"&&n(I)===e){I=unescape(I);var G=J(I,!1);(G!==""||(G=i.loadFile(I,!0))!==void 0)&&(I=G)}if(f(I)&&(I=v(I,O)),O=n(I,O),!h(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((j=X)==null||j.length===0)&&(X=function(ie){return typeof ie=="string"||H(ie)?P(ie):H(ie.data)?P(ie.data):null}(I)),(ce=g.call(this,X))||($()&&(I instanceof Uint8Array||O==="RGBA"||(B=I,I=q(I))),ce=this["process"+O.toUpperCase()](I,d.call(this),X,function(ie){return ie&&typeof ie=="string"&&(ie=ie.toUpperCase()),ie in i.image_compression?ie:S.NONE}(U),B)),!ce)throw new Error("An unknown error occurred whilst processing the image.");return ce},J=i.__addimage__.convertBase64ToBinaryString=function(I,O){var X;O=typeof O!="boolean"||O;var U,ce="";if(typeof I=="string"){U=(X=M(I))!==null?X.data:I;try{ce=c1(U)}catch(B){if(O)throw F(U)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+B.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ce};i.getImageProperties=function(I){var O,X,U="";if(f(I)&&(I=v(I)),typeof I=="string"&&n(I)===e&&((U=J(I,!1))===""&&(U=i.loadFile(I)||""),I=U),X=n(I),!h(X))throw new Error("addImage does not support files of type '"+X+"', please ensure that a plugin for '"+X+"' support is added.");if(!$()||I instanceof Uint8Array||(I=q(I)),!(O=this["process"+X.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=X,O}})(Mt.API),function(i){var e=function(t){if(t!==void 0&&t!="")return!0};Mt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),i.events.push(["putPage",function(t){for(var n,r,s,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,h=!1,f=0;f<d.length&&!h;f++)switch((n=d[f]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var v=0;v<d.length;v++){n=d[v];var g=this.internal.pdfEscape,b=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),E=this.internal.newAdditionalObject(),S=this.internal.getEncryptor(x.objId),P=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(r="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+g(S(n.contents))+")",s+=" /Popup "+E.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+g(S(P))+") >>",x.content=s;var F=x.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+F,n.open&&(s+=" /Open true"),s+=" >>",E.content=s,this.internal.write(x.objId,"0 R",E.objId,"0 R");break;case"freetext":r="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var M=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+g(b(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+M+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var $=this.annotations._nameMap[n.options.name];n.options.pageNumber=$.page,n.options.top=$.y}else n.options.top||(n.options.top=0);if(r="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+g(b(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var H=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+H+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),i.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},i.link=function(t,n,r,s,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(t),y:d(n),w:c(t+r),h:d(n+s)},options:o,type:"link"})},i.textWithLink=function(t,n,r,s){var o,l,c=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var h=this.splitTextToSize(t,l).length;o=Math.ceil(d*h)}else l=c,o=d;return this.text(t,n,r,s),r+=.2*d,s.align==="center"&&(n-=c/2),s.align==="right"&&(n-=c),this.link(n,r-d,l,o,s),c},i.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}}(Mt.API),function(i){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];i.__arabicParser__={};var s=i.__arabicParser__.isInArabicSubstitutionA=function(x){return e[x.charCodeAt(0)]!==void 0},o=i.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},l=i.__arabicParser__.isArabicEndLetter=function(x){return o(x)&&s(x)&&e[x.charCodeAt(0)].length<=2},c=i.__arabicParser__.isArabicAlfLetter=function(x){return o(x)&&r.indexOf(x.charCodeAt(0))>=0};i.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return o(x)&&s(x)&&e[x.charCodeAt(0)].length>=1};var d=i.__arabicParser__.arabicLetterHasFinalForm=function(x){return o(x)&&s(x)&&e[x.charCodeAt(0)].length>=2};i.__arabicParser__.arabicLetterHasInitialForm=function(x){return o(x)&&s(x)&&e[x.charCodeAt(0)].length>=3};var h=i.__arabicParser__.arabicLetterHasMedialForm=function(x){return o(x)&&s(x)&&e[x.charCodeAt(0)].length==4},f=i.__arabicParser__.resolveLigatures=function(x){var E=0,S=t,P="",F=0;for(E=0;E<x.length;E+=1)S[x.charCodeAt(E)]!==void 0?(F++,typeof(S=S[x.charCodeAt(E)])=="number"&&(P+=String.fromCharCode(S),S=t,F=0),E===x.length-1&&(S=t,P+=x.charAt(E-(F-1)),E-=F-1,F=0)):(S=t,P+=x.charAt(E-F),E-=F,F=0);return P};i.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&n[x.charCodeAt(0)]!==void 0};var v=i.__arabicParser__.getCorrectForm=function(x,E,S){return o(x)?s(x)===!1?-1:!d(x)||!o(E)&&!o(S)||!o(S)&&l(E)||l(x)&&!o(E)||l(x)&&c(E)||l(x)&&l(E)?0:h(x)&&o(E)&&!l(E)&&o(S)&&d(S)?3:l(x)||!o(S)?1:2:-1},g=function(x){var E=0,S=0,P=0,F="",M="",$="",H=(x=x||"").split("\\s+"),q=[];for(E=0;E<H.length;E+=1){for(q.push(""),S=0;S<H[E].length;S+=1)F=H[E][S],M=H[E][S-1],$=H[E][S+1],o(F)?(P=v(F,M,$),q[E]+=P!==-1?String.fromCharCode(e[F.charCodeAt(0)][P]):F):q[E]+=F;q[E]=f(q[E])}return q.join(" ")},b=i.__arabicParser__.processArabic=i.processArabic=function(){var x,E=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,S=[];if(Array.isArray(E)){var P=0;for(S=[],P=0;P<E.length;P+=1)Array.isArray(E[P])?S.push([g(E[P][0]),E[P][1],E[P][2]]):S.push([g(E[P])]);x=S}else x=g(E);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};i.events.push(["preProcessText",b])}(Mt.API),Mt.API.autoPrint=function(i){var e;switch((i=i||{}).variant=i.variant||"non-conform",i.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(i){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(l){t=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var r;if((t=t||"2d")!=="2d")return null;for(r in n)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=n[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},i.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Mt.API),function(i){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(x){d=x}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(x){v=x}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(x){g=x}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(x){b=x}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},i.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},i.getTextDimensions=function(c,d){n.call(this);var h=(d=d||{}).fontSize||this.getFontSize(),f=d.font||this.getFont(),v=d.scaleFactor||this.internal.scaleFactor,g=0,b=0,x=0,E=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var S=d.maxWidth;S>0?typeof c=="string"?c=this.splitTextToSize(c,S):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(F,M){return F.concat(E.splitTextToSize(M,S))},[])):c=Array.isArray(c)?c:[c];for(var P=0;P<c.length;P++)g<(x=this.getStringUnitWidth(c[P],{font:f})*h)&&(g=x);return g!==0&&(b=c.length),{w:g/=v,h:Math.max((b*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/v,0)}},i.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=i.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var d=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,v=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,g&&v&&(this.printHeaderRow(c.lineNumber,!0),c.y+=v[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,t===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-h,c.y+h,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+h,{align:"center",baseline:"top",maxWidth:c.width-h-h}):this.text(c.text,c.x+h,c.y+h,{align:"left",baseline:"top",maxWidth:c.width-h-h})),this.internal.__cell__.lastCell=c,this};i.table=function(c,d,h,f,v){if(n.call(this),!h)throw new Error("No data for PDF table.");var g,b,x,E,S=[],P=[],F=[],M={},$={},H=[],q=[],T=(v=v||{}).autoSize||!1,D=v.printHeaders!==!1,J=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,I=v.margins||Object.assign({width:this.getPageWidth()},e),O=typeof v.padding=="number"?v.padding:3,X=v.headerBackgroundColor||"#c8c8c8",U=v.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=D,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=J,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=X,this.internal.__cell__.headerTextColor=U,this.setFontSize(J),f==null)P=S=Object.keys(h[0]),F=S.map(function(){return"left"});else if(Array.isArray(f)&&In(f[0])==="object")for(S=f.map(function(le){return le.name}),P=f.map(function(le){return le.prompt||le.name||""}),F=f.map(function(le){return le.align||"left"}),g=0;g<f.length;g+=1)$[f[g].name]=f[g].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(P=S=f,F=S.map(function(){return"left"}));if(T||Array.isArray(f)&&typeof f[0]=="string")for(g=0;g<S.length;g+=1){for(M[E=S[g]]=h.map(function(le){return le[E]}),this.setFont(void 0,"bold"),H.push(this.getTextDimensions(P[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=M[E],this.setFont(void 0,"normal"),x=0;x<b.length;x+=1)H.push(this.getTextDimensions(b[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);$[E]=Math.max.apply(null,H)+O+O,H=[]}if(D){var ce={};for(g=0;g<S.length;g+=1)ce[S[g]]={},ce[S[g]].text=P[g],ce[S[g]].align=F[g];var B=l.call(this,ce,$);q=S.map(function(le){return new s(c,d,$[le],B,ce[le].text,void 0,ce[le].align)}),this.setTableHeaderRow(q),this.printHeaderRow(1,!1)}var j=f.reduce(function(le,ue){return le[ue.name]=ue.align,le},{});for(g=0;g<h.length;g+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:g,data:h[g]},this);var G=l.call(this,h[g],$);for(x=0;x<S.length;x+=1){var ie=h[g][S[x]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:g,col:x,data:ie},this),o.call(this,new s(c,d,$[S[x]],G,ie,g+2,j[S[x]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var h=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(c).map(function(g){var b=c[g];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,d[g]-h-h)},this).map(function(g){return this.getLineHeightFactor()*g.length*f/v+h+h},this).reduce(function(g,b){return Math.max(g,b)},0)};i.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},i.printHeaderRow=function(c,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){h=this.internal.__cell__.tableHeaderRow[g].clone(),d&&(h.y=this.internal.__cell__.margins.top||0,v.push(h)),h.lineNumber=c;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,h),this.setTextColor(b)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),t=!1}}(Mt.API);var l_={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},u_=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Rw=o_(u_),c_=[100,200,300,400,500,600,700,800,900],Y8=o_(c_);function Fw(i){var e=i.family.replace(/"|'/g,"").toLowerCase(),t=function(s){return l_[s=s||"normal"]?s:"normal"}(i.style),n=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(i.weight),r=function(s){return typeof Rw[s=s||"normal"]=="number"?s:"normal"}(i.stretch);return{family:e,style:t,weight:n,stretch:r,src:i.src||[],ref:i.ref||{name:e,style:[r,t,n].join(" ")}}}function $3(i,e,t,n){var r;for(r=t;r>=0&&r<e.length;r+=n)if(i[e[r]])return i[e[r]];for(r=t;r>=0&&r<e.length;r-=n)if(i[e[r]])return i[e[r]]}var K8={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},q3={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function W3(i){return[i.stretch,i.style,i.weight,i.family].join(" ")}function Q8(i,e,t){for(var n=(t=t||{}).defaultFontFamily||"times",r=Object.assign({},K8,t.genericFontFamilies||{}),s=null,o=null,l=0;l<e.length;++l)if(r[(s=Fw(e[l])).family]&&(s.family=r[s.family]),i.hasOwnProperty(s.family)){o=i[s.family];break}if(!(o=o||i[n]))throw new Error("Could not find a font-family for the rule '"+W3(s)+"' and default family '"+n+"'.");if(o=function(c,d){if(d[c])return d[c];var h=Rw[c],f=h<=Rw.normal?-1:1,v=$3(d,u_,h,f);if(!v)throw new Error("Could not find a matching font-stretch value for "+c);return v}(s.stretch,o),o=function(c,d){if(d[c])return d[c];for(var h=l_[c],f=0;f<h.length;++f)if(d[h[f]])return d[h[f]];throw new Error("Could not find a matching font-style for "+c)}(s.style,o),!(o=function(c,d){if(d[c])return d[c];if(c===400&&d[500])return d[500];if(c===500&&d[400])return d[400];var h=Y8[c],f=$3(d,c_,h,c<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+c);return f}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+W3(s)+"'.");return o}function V3(i){return i.trimLeft()}function J8(i,e){for(var t=0;t<i.length;){if(i.charAt(t)===e)return[i.substring(0,t),i.substring(t+1)];t+=1}return null}function Z8(i){var e=i.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],i.substring(e[0].length)]}var U2,G3,X3,Zy=["times"];(function(i){var e,t,n,r,s,o,l,c,d,h=function(k){return k=k||{},this.isStrokeTransparent=k.isStrokeTransparent||!1,this.strokeOpacity=k.strokeOpacity||1,this.strokeStyle=k.strokeStyle||"#000000",this.fillStyle=k.fillStyle||"#000000",this.isFillTransparent=k.isFillTransparent||!1,this.fillOpacity=k.fillOpacity||1,this.font=k.font||"10px sans-serif",this.textBaseline=k.textBaseline||"alphabetic",this.textAlign=k.textAlign||"left",this.lineWidth=k.lineWidth||1,this.lineJoin=k.lineJoin||"miter",this.lineCap=k.lineCap||"butt",this.path=k.path||[],this.transform=k.transform!==void 0?k.transform.clone():new c,this.globalCompositeOperation=k.globalCompositeOperation||"normal",this.globalAlpha=k.globalAlpha||1,this.clip_path=k.clip_path||[],this.currentPoint=k.currentPoint||new o,this.miterLimit=k.miterLimit||10,this.lastPoint=k.lastPoint||new o,this.lineDashOffset=k.lineDashOffset||0,this.lineDash=k.lineDash||[],this.margin=k.margin||[0,0,0,0],this.prevPageLastElemOffset=k.prevPageLastElemOffset||0,this.ignoreClearRect=typeof k.ignoreClearRect!="boolean"||k.ignoreClearRect,this};i.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new h}]);var f=function(k){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=k;Object.defineProperty(this,"pdf",{get:function(){return Y}});var te=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return te},set:function(Ie){te=!!Ie}});var re=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return re},set:function(Ie){re=!!Ie}});var de=0;Object.defineProperty(this,"posX",{get:function(){return de},set:function(Ie){isNaN(Ie)||(de=Ie)}});var me=0;Object.defineProperty(this,"posY",{get:function(){return me},set:function(Ie){isNaN(Ie)||(me=Ie)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Ie){var pe;typeof Ie=="number"?pe=[Ie,Ie,Ie,Ie]:((pe=new Array(4))[0]=Ie[0],pe[1]=Ie.length>=2?Ie[1]:pe[0],pe[2]=Ie.length>=3?Ie[2]:pe[0],pe[3]=Ie.length>=4?Ie[3]:pe[1]),d.margin=pe}});var we=!1;Object.defineProperty(this,"autoPaging",{get:function(){return we},set:function(Ie){we=Ie}});var _e=0;Object.defineProperty(this,"lastBreak",{get:function(){return _e},set:function(Ie){_e=Ie}});var je=[];Object.defineProperty(this,"pageBreaks",{get:function(){return je},set:function(Ie){je=Ie}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Ie){Ie instanceof h&&(d=Ie)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Ie){d.path=Ie}});var ze=[];Object.defineProperty(this,"ctxStack",{get:function(){return ze},set:function(Ie){ze=Ie}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ie){var pe;pe=v(Ie),this.ctx.fillStyle=pe.style,this.ctx.isFillTransparent=pe.a===0,this.ctx.fillOpacity=pe.a,this.pdf.setFillColor(pe.r,pe.g,pe.b,{a:pe.a}),this.pdf.setTextColor(pe.r,pe.g,pe.b,{a:pe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ie){var pe=v(Ie);this.ctx.strokeStyle=pe.style,this.ctx.isStrokeTransparent=pe.a===0,this.ctx.strokeOpacity=pe.a,pe.a===0?this.pdf.setDrawColor(255,255,255):(pe.a,this.pdf.setDrawColor(pe.r,pe.g,pe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ie){["butt","round","square"].indexOf(Ie)!==-1&&(this.ctx.lineCap=Ie,this.pdf.setLineCap(Ie))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ie){isNaN(Ie)||(this.ctx.lineWidth=Ie,this.pdf.setLineWidth(Ie))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ie){["bevel","round","miter"].indexOf(Ie)!==-1&&(this.ctx.lineJoin=Ie,this.pdf.setLineJoin(Ie))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ie){isNaN(Ie)||(this.ctx.miterLimit=Ie,this.pdf.setMiterLimit(Ie))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ie){this.ctx.textBaseline=Ie}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ie){["right","end","center","left","start"].indexOf(Ie)!==-1&&(this.ctx.textAlign=Ie)}});var Xe=null;function Je(Ie,pe){if(Xe===null){var lt=function(Ze){var He=[];return Object.keys(Ze).forEach(function(We){Ze[We].forEach(function(Ge){var Ke=null;switch(Ge){case"bold":Ke={family:We,weight:"bold"};break;case"italic":Ke={family:We,style:"italic"};break;case"bolditalic":Ke={family:We,weight:"bold",style:"italic"};break;case"":case"normal":Ke={family:We}}Ke!==null&&(Ke.ref={name:We,style:Ge},He.push(Ke))})}),He}(Ie.getFontList());Xe=function(Ze){for(var He={},We=0;We<Ze.length;++We){var Ge=Fw(Ze[We]),Ke=Ge.family,rt=Ge.stretch,at=Ge.style,At=Ge.weight;He[Ke]=He[Ke]||{},He[Ke][rt]=He[Ke][rt]||{},He[Ke][rt][at]=He[Ke][rt][at]||{},He[Ke][rt][at][At]=Ge}return He}(lt.concat(pe))}return Xe}var pt=null;Object.defineProperty(this,"fontFaces",{get:function(){return pt},set:function(Ie){Xe=null,pt=Ie}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ie){var pe;if(this.ctx.font=Ie,(pe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ie))!==null){var lt=pe[1],Ze=(pe[2],pe[3]),He=pe[4],We=(pe[5],pe[6]),Ge=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(He)[2];He=Math.floor(Ge==="px"?parseFloat(He)*this.pdf.internal.scaleFactor:Ge==="em"?parseFloat(He)*this.pdf.getFontSize():parseFloat(He)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(He);var Ke=function(xt){var wt,Qe,bn=[],Ut=xt.trim();if(Ut==="")return Zy;if(Ut in q3)return[q3[Ut]];for(;Ut!=="";){switch(Qe=null,wt=(Ut=V3(Ut)).charAt(0)){case'"':case"'":Qe=J8(Ut.substring(1),wt);break;default:Qe=Z8(Ut)}if(Qe===null||(bn.push(Qe[0]),(Ut=V3(Qe[1]))!==""&&Ut.charAt(0)!==","))return Zy;Ut=Ut.replace(/^,/,"")}return bn}(We);if(this.fontFaces){var rt=Q8(Je(this.pdf,this.fontFaces),Ke.map(function(xt){return{family:xt,stretch:"normal",weight:Ze,style:lt}}));this.pdf.setFont(rt.ref.name,rt.ref.style)}else{var at="";(Ze==="bold"||parseInt(Ze,10)>=700||lt==="bold")&&(at="bold"),lt==="italic"&&(at+="italic"),at.length===0&&(at="normal");for(var At="",Rt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Wt=0;Wt<Ke.length;Wt++){if(this.pdf.internal.getFont(Ke[Wt],at,{noFallback:!0,disableWarning:!0})!==void 0){At=Ke[Wt];break}if(at==="bolditalic"&&this.pdf.internal.getFont(Ke[Wt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)At=Ke[Wt],at="bold";else if(this.pdf.internal.getFont(Ke[Wt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){At=Ke[Wt],at="normal";break}}if(At===""){for(var Ft=0;Ft<Ke.length;Ft++)if(Rt[Ke[Ft]]){At=Rt[Ke[Ft]];break}}At=At===""?"Times":At,this.pdf.setFont(At,at)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ie){this.ctx.globalCompositeOperation=Ie}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ie){this.ctx.globalAlpha=Ie}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ie){this.ctx.lineDashOffset=Ie,ue.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ie){this.ctx.lineDash=Ie,ue.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ie){this.ctx.ignoreClearRect=!!Ie}})};f.prototype.setLineDash=function(k){this.lineDash=k},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){M.call(this,"fill",!1)},f.prototype.stroke=function(){M.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(k,Y){if(isNaN(k)||isNaN(Y))throw Dn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var te=this.ctx.transform.applyToPoint(new o(k,Y));this.path.push({type:"mt",x:te.x,y:te.y}),this.ctx.lastPoint=new o(k,Y)},f.prototype.closePath=function(){var k=new o(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&In(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){k=new o(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(k.x,k.y)},f.prototype.lineTo=function(k,Y){if(isNaN(k)||isNaN(Y))throw Dn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var te=this.ctx.transform.applyToPoint(new o(k,Y));this.path.push({type:"lt",x:te.x,y:te.y}),this.ctx.lastPoint=new o(te.x,te.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),M.call(this,null,!0)},f.prototype.quadraticCurveTo=function(k,Y,te,re){if(isNaN(te)||isNaN(re)||isNaN(k)||isNaN(Y))throw Dn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var de=this.ctx.transform.applyToPoint(new o(te,re)),me=this.ctx.transform.applyToPoint(new o(k,Y));this.path.push({type:"qct",x1:me.x,y1:me.y,x:de.x,y:de.y}),this.ctx.lastPoint=new o(de.x,de.y)},f.prototype.bezierCurveTo=function(k,Y,te,re,de,me){if(isNaN(de)||isNaN(me)||isNaN(k)||isNaN(Y)||isNaN(te)||isNaN(re))throw Dn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var we=this.ctx.transform.applyToPoint(new o(de,me)),_e=this.ctx.transform.applyToPoint(new o(k,Y)),je=this.ctx.transform.applyToPoint(new o(te,re));this.path.push({type:"bct",x1:_e.x,y1:_e.y,x2:je.x,y2:je.y,x:we.x,y:we.y}),this.ctx.lastPoint=new o(we.x,we.y)},f.prototype.arc=function(k,Y,te,re,de,me){if(isNaN(k)||isNaN(Y)||isNaN(te)||isNaN(re)||isNaN(de))throw Dn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(me=!!me,!this.ctx.transform.isIdentity){var we=this.ctx.transform.applyToPoint(new o(k,Y));k=we.x,Y=we.y;var _e=this.ctx.transform.applyToPoint(new o(0,te)),je=this.ctx.transform.applyToPoint(new o(0,0));te=Math.sqrt(Math.pow(_e.x-je.x,2)+Math.pow(_e.y-je.y,2))}Math.abs(de-re)>=2*Math.PI&&(re=0,de=2*Math.PI),this.path.push({type:"arc",x:k,y:Y,radius:te,startAngle:re,endAngle:de,counterclockwise:me})},f.prototype.arcTo=function(k,Y,te,re,de){throw new Error("arcTo not implemented.")},f.prototype.rect=function(k,Y,te,re){if(isNaN(k)||isNaN(Y)||isNaN(te)||isNaN(re))throw Dn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(k,Y),this.lineTo(k+te,Y),this.lineTo(k+te,Y+re),this.lineTo(k,Y+re),this.lineTo(k,Y),this.lineTo(k+te,Y),this.lineTo(k,Y)},f.prototype.fillRect=function(k,Y,te,re){if(isNaN(k)||isNaN(Y)||isNaN(te)||isNaN(re))throw Dn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var de={};this.lineCap!=="butt"&&(de.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(de.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(k,Y,te,re),this.fill(),de.hasOwnProperty("lineCap")&&(this.lineCap=de.lineCap),de.hasOwnProperty("lineJoin")&&(this.lineJoin=de.lineJoin)}},f.prototype.strokeRect=function(k,Y,te,re){if(isNaN(k)||isNaN(Y)||isNaN(te)||isNaN(re))throw Dn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(k,Y,te,re),this.stroke())},f.prototype.clearRect=function(k,Y,te,re){if(isNaN(k)||isNaN(Y)||isNaN(te)||isNaN(re))throw Dn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(k,Y,te,re))},f.prototype.save=function(k){k=typeof k!="boolean"||k;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),k){this.ctx.fontSize=this.pdf.internal.getFontSize();var re=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=re}},f.prototype.restore=function(k){k=typeof k!="boolean"||k;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),k&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(k){var Y,te,re,de;if(k.isCanvasGradient===!0&&(k=k.getColor()),!k)return{r:0,g:0,b:0,a:0,style:k};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(k))Y=0,te=0,re=0,de=0;else{var me=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(k);if(me!==null)Y=parseInt(me[1]),te=parseInt(me[2]),re=parseInt(me[3]),de=1;else if((me=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(k))!==null)Y=parseInt(me[1]),te=parseInt(me[2]),re=parseInt(me[3]),de=parseFloat(me[4]);else{if(de=1,typeof k=="string"&&k.charAt(0)!=="#"){var we=new t_(k);k=we.ok?we.toHex():"#000000"}k.length===4?(Y=k.substring(1,2),Y+=Y,te=k.substring(2,3),te+=te,re=k.substring(3,4),re+=re):(Y=k.substring(1,3),te=k.substring(3,5),re=k.substring(5,7)),Y=parseInt(Y,16),te=parseInt(te,16),re=parseInt(re,16)}}return{r:Y,g:te,b:re,a:de,style:k}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(k,Y,te,re){if(isNaN(Y)||isNaN(te)||typeof k!="string")throw Dn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(re=isNaN(re)?void 0:re,!g.call(this)){var de=G(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;O.call(this,{text:k,x:Y,y:te,scale:me,angle:de,align:this.textAlign,maxWidth:re})}},f.prototype.strokeText=function(k,Y,te,re){if(isNaN(Y)||isNaN(te)||typeof k!="string")throw Dn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){re=isNaN(re)?void 0:re;var de=G(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;O.call(this,{text:k,x:Y,y:te,scale:me,renderingMode:"stroke",angle:de,align:this.textAlign,maxWidth:re})}},f.prototype.measureText=function(k){if(typeof k!="string")throw Dn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,te=this.pdf.internal.scaleFactor,re=Y.internal.getFontSize(),de=Y.getStringUnitWidth(k)*re/Y.internal.scaleFactor,me=function(we){var _e=(we=we||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return _e}}),this};return new me({width:de*=Math.round(96*te/72*1e4)/1e4})},f.prototype.scale=function(k,Y){if(isNaN(k)||isNaN(Y))throw Dn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var te=new c(k,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(te)},f.prototype.rotate=function(k){if(isNaN(k))throw Dn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new c(Math.cos(k),Math.sin(k),-Math.sin(k),Math.cos(k),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},f.prototype.translate=function(k,Y){if(isNaN(k)||isNaN(Y))throw Dn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var te=new c(1,0,0,1,k,Y);this.ctx.transform=this.ctx.transform.multiply(te)},f.prototype.transform=function(k,Y,te,re,de,me){if(isNaN(k)||isNaN(Y)||isNaN(te)||isNaN(re)||isNaN(de)||isNaN(me))throw Dn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var we=new c(k,Y,te,re,de,me);this.ctx.transform=this.ctx.transform.multiply(we)},f.prototype.setTransform=function(k,Y,te,re,de,me){k=isNaN(k)?1:k,Y=isNaN(Y)?0:Y,te=isNaN(te)?0:te,re=isNaN(re)?1:re,de=isNaN(de)?0:de,me=isNaN(me)?0:me,this.ctx.transform=new c(k,Y,te,re,de,me)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(k,Y,te,re,de,me,we,_e,je){var ze=this.pdf.getImageProperties(k),Xe=1,Je=1,pt=1,Ie=1;re!==void 0&&_e!==void 0&&(pt=_e/re,Ie=je/de,Xe=ze.width/re*_e/re,Je=ze.height/de*je/de),me===void 0&&(me=Y,we=te,Y=0,te=0),re!==void 0&&_e===void 0&&(_e=re,je=de),re===void 0&&_e===void 0&&(_e=ze.width,je=ze.height);for(var pe,lt=this.ctx.transform.decompose(),Ze=G(lt.rotate.shx),He=new c,We=(He=(He=(He=He.multiply(lt.translate)).multiply(lt.skew)).multiply(lt.scale)).applyToRectangle(new l(me-Y*pt,we-te*Ie,re*Xe,de*Je)),Ge=E.call(this,We),Ke=[],rt=0;rt<Ge.length;rt+=1)Ke.indexOf(Ge[rt])===-1&&Ke.push(Ge[rt]);if(F(Ke),this.autoPaging)for(var at=Ke[0],At=Ke[Ke.length-1],Rt=at;Rt<At+1;Rt++){this.pdf.setPage(Rt);var Wt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ft=Rt===1?this.posY+this.margin[0]:this.margin[0],xt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Qe=Rt===1?0:xt+(Rt-2)*wt;if(this.ctx.clip_path.length!==0){var bn=this.path;pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(pe,this.posX+this.margin[3],-Qe+Ft+this.ctx.prevPageLastElemOffset),$.call(this,"fill",!0),this.path=bn}var Ut=JSON.parse(JSON.stringify(We));Ut=P([Ut],this.posX+this.margin[3],-Qe+Ft+this.ctx.prevPageLastElemOffset)[0];var Un=(Rt>at||Rt<At)&&x.call(this);Un&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Wt,wt,null).clip().discardPath()),this.pdf.addImage(k,"JPEG",Ut.x,Ut.y,Ut.w,Ut.h,null,null,Ze),Un&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(k,"JPEG",We.x,We.y,We.w,We.h,null,null,Ze)};var E=function(k,Y,te){var re=[];Y=Y||this.pdf.internal.pageSize.width,te=te||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var de=this.posY+this.ctx.prevPageLastElemOffset;switch(k.type){default:case"mt":case"lt":re.push(Math.floor((k.y+de)/te)+1);break;case"arc":re.push(Math.floor((k.y+de-k.radius)/te)+1),re.push(Math.floor((k.y+de+k.radius)/te)+1);break;case"qct":var me=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x,k.y);re.push(Math.floor((me.y+de)/te)+1),re.push(Math.floor((me.y+me.h+de)/te)+1);break;case"bct":var we=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x2,k.y2,k.x,k.y);re.push(Math.floor((we.y+de)/te)+1),re.push(Math.floor((we.y+we.h+de)/te)+1);break;case"rect":re.push(Math.floor((k.y+de)/te)+1),re.push(Math.floor((k.y+k.h+de)/te)+1)}for(var _e=0;_e<re.length;_e+=1)for(;this.pdf.internal.getNumberOfPages()<re[_e];)S.call(this);return re},S=function(){var k=this.fillStyle,Y=this.strokeStyle,te=this.font,re=this.lineCap,de=this.lineWidth,me=this.lineJoin;this.pdf.addPage(),this.fillStyle=k,this.strokeStyle=Y,this.font=te,this.lineCap=re,this.lineWidth=de,this.lineJoin=me},P=function(k,Y,te){for(var re=0;re<k.length;re++)switch(k[re].type){case"bct":k[re].x2+=Y,k[re].y2+=te;case"qct":k[re].x1+=Y,k[re].y1+=te;case"mt":case"lt":case"arc":default:k[re].x+=Y,k[re].y+=te}return k},F=function(k){return k.sort(function(Y,te){return Y-te})},M=function(k,Y){for(var te,re,de=this.fillStyle,me=this.strokeStyle,we=this.lineCap,_e=this.lineWidth,je=Math.abs(_e*this.ctx.transform.scaleX),ze=this.lineJoin,Xe=JSON.parse(JSON.stringify(this.path)),Je=JSON.parse(JSON.stringify(this.path)),pt=[],Ie=0;Ie<Je.length;Ie++)if(Je[Ie].x!==void 0)for(var pe=E.call(this,Je[Ie]),lt=0;lt<pe.length;lt+=1)pt.indexOf(pe[lt])===-1&&pt.push(pe[lt]);for(var Ze=0;Ze<pt.length;Ze++)for(;this.pdf.internal.getNumberOfPages()<pt[Ze];)S.call(this);if(F(pt),this.autoPaging)for(var He=pt[0],We=pt[pt.length-1],Ge=He;Ge<We+1;Ge++){this.pdf.setPage(Ge),this.fillStyle=de,this.strokeStyle=me,this.lineCap=we,this.lineWidth=je,this.lineJoin=ze;var Ke=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],rt=Ge===1?this.posY+this.margin[0]:this.margin[0],at=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],At=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Rt=Ge===1?0:at+(Ge-2)*At;if(this.ctx.clip_path.length!==0){var Wt=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(te,this.posX+this.margin[3],-Rt+rt+this.ctx.prevPageLastElemOffset),$.call(this,k,!0),this.path=Wt}if(re=JSON.parse(JSON.stringify(Xe)),this.path=P(re,this.posX+this.margin[3],-Rt+rt+this.ctx.prevPageLastElemOffset),Y===!1||Ge===0){var Ft=(Ge>He||Ge<We)&&x.call(this);Ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ke,At,null).clip().discardPath()),$.call(this,k,Y),Ft&&this.pdf.restoreGraphicsState()}this.lineWidth=_e}else this.lineWidth=je,$.call(this,k,Y),this.lineWidth=_e;this.path=Xe},$=function(k,Y){if((k!=="stroke"||Y||!b.call(this))&&(k==="stroke"||Y||!g.call(this))){for(var te,re,de=[],me=this.path,we=0;we<me.length;we++){var _e=me[we];switch(_e.type){case"begin":de.push({begin:!0});break;case"close":de.push({close:!0});break;case"mt":de.push({start:_e,deltas:[],abs:[]});break;case"lt":var je=de.length;if(me[we-1]&&!isNaN(me[we-1].x)&&(te=[_e.x-me[we-1].x,_e.y-me[we-1].y],je>0)){for(;je>=0;je--)if(de[je-1].close!==!0&&de[je-1].begin!==!0){de[je-1].deltas.push(te),de[je-1].abs.push(_e);break}}break;case"bct":te=[_e.x1-me[we-1].x,_e.y1-me[we-1].y,_e.x2-me[we-1].x,_e.y2-me[we-1].y,_e.x-me[we-1].x,_e.y-me[we-1].y],de[de.length-1].deltas.push(te);break;case"qct":var ze=me[we-1].x+2/3*(_e.x1-me[we-1].x),Xe=me[we-1].y+2/3*(_e.y1-me[we-1].y),Je=_e.x+2/3*(_e.x1-_e.x),pt=_e.y+2/3*(_e.y1-_e.y),Ie=_e.x,pe=_e.y;te=[ze-me[we-1].x,Xe-me[we-1].y,Je-me[we-1].x,pt-me[we-1].y,Ie-me[we-1].x,pe-me[we-1].y],de[de.length-1].deltas.push(te);break;case"arc":de.push({deltas:[],abs:[],arc:!0}),Array.isArray(de[de.length-1].abs)&&de[de.length-1].abs.push(_e)}}re=Y?null:k==="stroke"?"stroke":"fill";for(var lt=!1,Ze=0;Ze<de.length;Ze++)if(de[Ze].arc)for(var He=de[Ze].abs,We=0;We<He.length;We++){var Ge=He[We];Ge.type==="arc"?T.call(this,Ge.x,Ge.y,Ge.radius,Ge.startAngle,Ge.endAngle,Ge.counterclockwise,void 0,Y,!lt):X.call(this,Ge.x,Ge.y),lt=!0}else if(de[Ze].close===!0)this.pdf.internal.out("h"),lt=!1;else if(de[Ze].begin!==!0){var Ke=de[Ze].start.x,rt=de[Ze].start.y;U.call(this,de[Ze].deltas,Ke,rt),lt=!0}re&&D.call(this,re),Y&&J.call(this)}},H=function(k){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,te=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return k-te;case"top":return k+Y-te;case"hanging":return k+Y-2*te;case"middle":return k+Y/2-te;case"ideographic":return k;case"alphabetic":default:return k}},q=function(k){return k+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var k=function(){};return k.colorStops=[],k.addColorStop=function(Y,te){this.colorStops.push([Y,te])},k.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},k.isCanvasGradient=!0,k},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var T=function(k,Y,te,re,de,me,we,_e,je){for(var ze=B.call(this,te,re,de,me),Xe=0;Xe<ze.length;Xe++){var Je=ze[Xe];Xe===0&&(je?I.call(this,Je.x1+k,Je.y1+Y):X.call(this,Je.x1+k,Je.y1+Y)),ce.call(this,k,Y,Je.x2,Je.y2,Je.x3,Je.y3,Je.x4,Je.y4)}_e?J.call(this):D.call(this,we)},D=function(k){switch(k){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},J=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(k,Y){this.pdf.internal.out(t(k)+" "+n(Y)+" m")},O=function(k){var Y;switch(k.align){case"right":case"end":Y="right";break;case"center":Y="center";break;case"left":case"start":default:Y="left"}var te=this.pdf.getTextDimensions(k.text),re=H.call(this,k.y),de=q.call(this,re)-te.h,me=this.ctx.transform.applyToPoint(new o(k.x,re)),we=this.ctx.transform.decompose(),_e=new c;_e=(_e=(_e=_e.multiply(we.translate)).multiply(we.skew)).multiply(we.scale);for(var je,ze,Xe,Je=this.ctx.transform.applyToRectangle(new l(k.x,re,te.w,te.h)),pt=_e.applyToRectangle(new l(k.x,de,te.w,te.h)),Ie=E.call(this,pt),pe=[],lt=0;lt<Ie.length;lt+=1)pe.indexOf(Ie[lt])===-1&&pe.push(Ie[lt]);if(F(pe),this.autoPaging)for(var Ze=pe[0],He=pe[pe.length-1],We=Ze;We<He+1;We++){this.pdf.setPage(We);var Ge=We===1?this.posY+this.margin[0]:this.margin[0],Ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],rt=this.pdf.internal.pageSize.height-this.margin[2],at=rt-this.margin[0],At=this.pdf.internal.pageSize.width-this.margin[1],Rt=At-this.margin[3],Wt=We===1?0:Ke+(We-2)*at;if(this.ctx.clip_path.length!==0){var Ft=this.path;je=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(je,this.posX+this.margin[3],-1*Wt+Ge),$.call(this,"fill",!0),this.path=Ft}var xt=P([JSON.parse(JSON.stringify(pt))],this.posX+this.margin[3],-Wt+Ge+this.ctx.prevPageLastElemOffset)[0];k.scale>=.01&&(ze=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ze*k.scale),Xe=this.lineWidth,this.lineWidth=Xe*k.scale);var wt=this.autoPaging!=="text";if(wt||xt.y+xt.h<=rt){if(wt||xt.y>=Ge&&xt.x<=At){var Qe=wt?k.text:this.pdf.splitTextToSize(k.text,k.maxWidth||At-xt.x)[0],bn=P([JSON.parse(JSON.stringify(Je))],this.posX+this.margin[3],-Wt+Ge+this.ctx.prevPageLastElemOffset)[0],Ut=wt&&(We>Ze||We<He)&&x.call(this);Ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Rt,at,null).clip().discardPath()),this.pdf.text(Qe,bn.x,bn.y,{angle:k.angle,align:Y,renderingMode:k.renderingMode}),Ut&&this.pdf.restoreGraphicsState()}}else xt.y<rt&&(this.ctx.prevPageLastElemOffset+=rt-xt.y);k.scale>=.01&&(this.pdf.setFontSize(ze),this.lineWidth=Xe)}else k.scale>=.01&&(ze=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ze*k.scale),Xe=this.lineWidth,this.lineWidth=Xe*k.scale),this.pdf.text(k.text,me.x+this.posX,me.y+this.posY,{angle:k.angle,align:Y,renderingMode:k.renderingMode,maxWidth:k.maxWidth}),k.scale>=.01&&(this.pdf.setFontSize(ze),this.lineWidth=Xe)},X=function(k,Y,te,re){te=te||0,re=re||0,this.pdf.internal.out(t(k+te)+" "+n(Y+re)+" l")},U=function(k,Y,te){return this.pdf.lines(k,Y,te,null,null)},ce=function(k,Y,te,re,de,me,we,_e){this.pdf.internal.out([e(r(te+k)),e(s(re+Y)),e(r(de+k)),e(s(me+Y)),e(r(we+k)),e(s(_e+Y)),"c"].join(" "))},B=function(k,Y,te,re){for(var de=2*Math.PI,me=Math.PI/2;Y>te;)Y-=de;var we=Math.abs(te-Y);we<de&&re&&(we=de-we);for(var _e=[],je=re?-1:1,ze=Y;we>1e-5;){var Xe=ze+je*Math.min(we,me);_e.push(j.call(this,k,ze,Xe)),we-=Math.abs(Xe-ze),ze=Xe}return _e},j=function(k,Y,te){var re=(te-Y)/2,de=k*Math.cos(re),me=k*Math.sin(re),we=de,_e=-me,je=we*we+_e*_e,ze=je+we*de+_e*me,Xe=4/3*(Math.sqrt(2*je*ze)-ze)/(we*me-_e*de),Je=we-Xe*_e,pt=_e+Xe*we,Ie=Je,pe=-pt,lt=re+Y,Ze=Math.cos(lt),He=Math.sin(lt);return{x1:k*Math.cos(Y),y1:k*Math.sin(Y),x2:Je*Ze-pt*He,y2:Je*He+pt*Ze,x3:Ie*Ze-pe*He,y3:Ie*He+pe*Ze,x4:k*Math.cos(te),y4:k*Math.sin(te)}},G=function(k){return 180*k/Math.PI},ie=function(k,Y,te,re,de,me){var we=k+.5*(te-k),_e=Y+.5*(re-Y),je=de+.5*(te-de),ze=me+.5*(re-me),Xe=Math.min(k,de,we,je),Je=Math.max(k,de,we,je),pt=Math.min(Y,me,_e,ze),Ie=Math.max(Y,me,_e,ze);return new l(Xe,pt,Je-Xe,Ie-pt)},le=function(k,Y,te,re,de,me,we,_e){var je,ze,Xe,Je,pt,Ie,pe,lt,Ze,He,We,Ge,Ke,rt,at=te-k,At=re-Y,Rt=de-te,Wt=me-re,Ft=we-de,xt=_e-me;for(ze=0;ze<41;ze++)Ze=(pe=(Xe=k+(je=ze/40)*at)+je*((pt=te+je*Rt)-Xe))+je*(pt+je*(de+je*Ft-pt)-pe),He=(lt=(Je=Y+je*At)+je*((Ie=re+je*Wt)-Je))+je*(Ie+je*(me+je*xt-Ie)-lt),ze==0?(We=Ze,Ge=He,Ke=Ze,rt=He):(We=Math.min(We,Ze),Ge=Math.min(Ge,He),Ke=Math.max(Ke,Ze),rt=Math.max(rt,He));return new l(Math.round(We),Math.round(Ge),Math.round(Ke-We),Math.round(rt-Ge))},ue=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var k,Y,te=(k=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:k,lineDashOffset:Y}));this.prevLineDash!==te&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=te)}}})(Mt.API),function(i){var e=function(s){var o,l,c,d,h,f,v,g,b,x;for(l=[],c=0,d=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;d>c;c+=4)(h=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(f=(h=((h=((h=((h=(h-(x=h%85))/85)-(b=h%85))/85)-(g=h%85))/85)-(v=h%85))/85)%85,l.push(f+33,v+33,g+33,b+33,x+33)):l.push(122);return function(E,S){for(var P=S;P>0;P--)E.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},t=function(s){var o,l,c,d,h,f=String,v="length",g=255,b="charCodeAt",x="slice",E="replace";for(s[x](-2),s=s[x](0,-2)[E](/\s/g,"")[E]("z","!!!!!"),c=[],d=0,h=(s+=o="uuuuu"[x](s[v]%5||5))[v];h>d;d+=5)l=52200625*(s[b](d)-33)+614125*(s[b](d+1)-33)+7225*(s[b](d+2)-33)+85*(s[b](d+3)-33)+(s[b](d+4)-33),c.push(g&l>>24,g&l>>16,g&l>>8,g&l);return function(S,P){for(var F=P;F>0;F--)S.pop()}(c,o[v]),f.fromCharCode.apply(f,c)},n=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},r=function(s){for(var o=new Uint8Array(s.length),l=s.length;l--;)o[l]=s.charCodeAt(l);return s=(o=Pw(o)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};i.processDataByFilters=function(s,o){var l=0,c=s||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=t(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=r(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}}(Mt.API),function(i){i.loadFile=function(e,t,n){return function(r,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,d,h){var f=new XMLHttpRequest,v=0,g=function(b){var x=b.length,E=[],S=String.fromCharCode;for(v=0;v<x;v+=1)E.push(S(255&b.charCodeAt(v)));return E.join("")};if(f.open("GET",c,!d),f.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(f.onload=function(){f.status===200?h(g(this.responseText)):h(void 0)}),f.send(null),d&&f.status===200)return g(f.responseText)}(r,s,o)}catch{}return l}(e,t,n)},i.loadImageFile=i.loadFile}(Mt.API),function(i){function e(){return(Ot.html2canvas?Promise.resolve(Ot.html2canvas):Sw(()=>import("./html2canvas.esm-DtF4syFK.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function t(){return(Ot.DOMPurify?Promise.resolve(Ot.DOMPurify):Sw(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=In(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},r=function(o,l){var c=document.createElement(o);for(var d in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[d]=l.style[d];return c},s=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),c);return d=(d=d.setProgress(1,o,1,[o])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,l){return o.__proto__=l||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(t).then(function(c){return this.set({src:r("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(d,h){for(var f=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),v=d.firstChild;v;v=v.nextSibling)h!==!0&&v.nodeType===1&&v.nodeName==="SCRIPT"||f.appendChild(c(v,h));return d.nodeType===1&&(d.nodeName==="CANVAS"?(f.width=d.width,f.height=d.height,f.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(f.value=d.value),f.addEventListener("load",function(){f.scrollTop=d.scrollTop,f.scrollLeft=d.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=this.opt.jsPDF,d=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var v=0;v<d.length;++v){var g=d[v],b=g.src.find(function(x){return x.format==="truetype"});b&&c.addFont(b.url,g.ref.name,g.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,c.context2d.save(!0),l(this.prop.container,f)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},s.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(o,l){return this.then(function(){var c=o in s.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},s.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function l(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(o=o||Mt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,l,c,d){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,l,c,d){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},s.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(d,h){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(f){return c.updateProgress(null,d),f}).then(d,h).then(function(f){return c.updateProgress(1),f})})},s.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),h=c.call(d,o,l);return s.convert(h,this.__proto__)},s.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},s.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},s.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return s.convert(l,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Mt.getPageSize=function(o,l,c){if(In(o)==="object"){var d=o;o=d.orientation,l=d.unit||l,c=d.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var h,f=(""+c).toLowerCase(),v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+l}var g,b=0,x=0;if(v.hasOwnProperty(f))b=v[f][1]/h,x=v[f][0]/h;else try{b=c[1],x=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",x>b&&(g=x,x=b,b=g);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",b>x&&(g=x,x=b,b=g)}return{width:x,height:b,unit:l,k:h,orientation:o}},i.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Fw):null;var c=new s(l);return l.worker?c:c.from(o).doCallback()}}(Mt.API),Mt.API.addJS=function(i){return X3=i,this.internal.events.subscribe("postPutResources",function(){U2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(U2+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),G3=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+X3+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){U2!==void 0&&G3!==void 0&&this.internal.out("/Names <</JavaScript "+U2+" 0 R>>")}),this},function(i){var e;i.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=t.outline.render().split(/\r\n/),s=0;s<r.length;s++){var o=r[s],l=n.exec(o);if(l!=null){var c=l[1];t.internal.newObjectDeferredBegin(c,!1)}t.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,h=[];for(s=0;s<d;s++){var f=t.internal.newObject();h.push(f);var v=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var g=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<h.length;s++)t.internal.write("(page_"+(s+1)+")"+h[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+g+" 0 R"),t.internal.write(">>","endobj")}}]),i.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),i.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,r,s){var o={title:r,options:s,children:[]};return n==null&&(n=this.root),n.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var r=0;r<n.children.length;r++)this.genIds_r(n.children[r])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var o=n.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,r){for(var s=0;s<r.children.length;s++)n.count++,this.count_r(n,r.children[s]);return n.count}}])}(Mt.API),function(i){var e=[192,193,194,195,196,197,198,199];i.processJPEG=function(t,n,r,s,o,l){var c,d=this.decode.DCT_DECODE,h=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=o||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(c=function(f){for(var v,g=256*f.charCodeAt(4)+f.charCodeAt(5),b=f.length,x={width:0,height:0,numcomponents:1},E=4;E<b;E+=2){if(E+=g,e.indexOf(f.charCodeAt(E+1))!==-1){v=256*f.charCodeAt(E+5)+f.charCodeAt(E+6),x={width:256*f.charCodeAt(E+7)+f.charCodeAt(E+8),height:v,numcomponents:f.charCodeAt(E+9)};break}g=256*f.charCodeAt(E+2)+f.charCodeAt(E+3)}return x}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}h={data:t,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:n,alias:r}}return h}}(Mt.API);var zp,H2,Y3,K3,Q3,eT=function(){var i,e,t;function n(s){var o,l,c,d,h,f,v,g,b,x,E,S,P,F;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(o=this.readUInt32(),b=(function(){var M,$;for($=[],M=0;M<4;++M)$.push(String.fromCharCode(this.data[this.pos++]));return $}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),d=this.readUInt16()||100,f.delay=1e3*h/d,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(b==="fdAT"&&(this.pos+=4,o-=4),s=(f!=null?f.data:void 0)||this.imgData,S=0;0<=o?S<o:S>o;0<=o?++S:--S)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((x=c-this.transparency.indexed.length)>0)for(P=0;0<=x?P<x:P>x;0<=x?++P:--P)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":v=(E=this.read(o)).indexOf(0),g=String.fromCharCode.apply(String,E.slice(0,v)),this.text[g]=String.fromCharCode.apply(String,E.slice(v+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(F=this.colorType)===4||F===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var o,l;for(l=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),c=0,d=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function h(f,v,g,b){var x,E,S,P,F,M,$,H,q,T,D,J,I,O,X,U,ce,B,j,G,ie,le=Math.ceil((d.width-f)/g),ue=Math.ceil((d.height-v)/b),k=d.width==le&&d.height==ue;for(O=o*le,J=k?l:new Uint8Array(O*ue),M=s.length,I=0,E=0;I<ue&&c<M;){switch(s[c++]){case 0:for(P=ce=0;ce<O;P=ce+=1)J[E++]=s[c++];break;case 1:for(P=B=0;B<O;P=B+=1)x=s[c++],F=P<o?0:J[E-o],J[E++]=(x+F)%256;break;case 2:for(P=j=0;j<O;P=j+=1)x=s[c++],S=(P-P%o)/o,X=I&&J[(I-1)*O+S*o+P%o],J[E++]=(X+x)%256;break;case 3:for(P=G=0;G<O;P=G+=1)x=s[c++],S=(P-P%o)/o,F=P<o?0:J[E-o],X=I&&J[(I-1)*O+S*o+P%o],J[E++]=(x+Math.floor((F+X)/2))%256;break;case 4:for(P=ie=0;ie<O;P=ie+=1)x=s[c++],S=(P-P%o)/o,F=P<o?0:J[E-o],I===0?X=U=0:(X=J[(I-1)*O+S*o+P%o],U=S&&J[(I-1)*O+(S-1)*o+P%o]),$=F+X-U,H=Math.abs($-F),T=Math.abs($-X),D=Math.abs($-U),q=H<=T&&H<=D?F:T<=D?X:U,J[E++]=(x+q)%256;break;default:throw new Error("Invalid filter algorithm: "+s[c-1])}if(!k){var Y=((v+I*b)*d.width+f)*o,te=I*O;for(P=0;P<le;P+=1){for(var re=0;re<o;re+=1)l[Y++]=J[te++];Y+=(g-1)*o}}I++}}return s=I8(s),d.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),l},n.prototype.decodePalette=function(){var s,o,l,c,d,h,f,v,g;for(l=this.palette,h=this.transparency.indexed||[],d=new Uint8Array((h.length||0)+l.length),c=0,s=0,o=f=0,v=l.length;f<v;o=f+=3)d[c++]=l[o],d[c++]=l[o+1],d[c++]=l[o+2],d[c++]=(g=h[s++])!=null?g:255;return d},n.prototype.copyToImageData=function(s,o){var l,c,d,h,f,v,g,b,x,E,S;if(c=this.colors,x=null,l=this.hasAlphaChannel,this.palette.length&&(x=(S=this._decodedPalette)!=null?S:this._decodedPalette=this.decodePalette(),c=4,l=!0),b=(d=s.data||s).length,f=x||o,h=v=0,c===1)for(;h<b;)g=x?4*o[h/4]:v,E=f[g++],d[h++]=E,d[h++]=E,d[h++]=E,d[h++]=l?f[g++]:255,v=g;else for(;h<b;)g=x?4*o[h/4]:v,d[h++]=f[g++],d[h++]=f[g++],d[h++]=f[g++],d[h++]=l?f[g++]:255,v=g},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var r=function(){if(Object.prototype.toString.call(Ot)==="[object Window]"){try{e=Ot.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return r(),i=function(s){var o;if(r()===!0)return t.width=s.width,t.height=s.height,t.clearRect(0,0,s.width,s.height),t.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var o,l,c,d,h,f,v,g;if(this.animation){for(g=[],l=h=0,f=(v=this.animation.frames).length;h<f;l=++h)o=v[l],c=s.createImageData(o.width,o.height),d=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,d),o.imageData=c,g.push(o.image=i(c));return g}},n.prototype.renderFrame=function(s,o){var l,c,d;return l=(c=this.animation.frames)[o],d=c[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?s.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&s.putImageData(d.imageData,d.xOffset,d.yOffset),l.blendOp===0&&s.clearRect(l.xOffset,l.yOffset,l.width,l.height),s.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(s){var o,l,c,d,h,f,v=this;return l=0,f=this.animation,d=f.numFrames,c=f.frames,h=f.numPlays,(o=function(){var g,b;if(g=l++%d,b=c[g],v.renderFrame(s,g),d>1&&l/d<h)return v.animation._timeout=setTimeout(o,b.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var o,l;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function tT(i){var e=0;if(i[e++]!==71||i[e++]!==73||i[e++]!==70||i[e++]!==56||(i[e++]+1&253)!=56||i[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=i[e++]|i[e++]<<8,n=i[e++]|i[e++]<<8,r=i[e++],s=r>>7,o=1<<(7&r)+1;i[e++],i[e++];var l=null,c=null;s&&(l=e,c=o,e+=3*o);var d=!0,h=[],f=0,v=null,g=0,b=null;for(this.width=t,this.height=n;d&&e<i.length;)switch(i[e++]){case 33:switch(i[e++]){case 255:if(i[e]!==11||i[e+1]==78&&i[e+2]==69&&i[e+3]==84&&i[e+4]==83&&i[e+5]==67&&i[e+6]==65&&i[e+7]==80&&i[e+8]==69&&i[e+9]==50&&i[e+10]==46&&i[e+11]==48&&i[e+12]==3&&i[e+13]==1&&i[e+16]==0)e+=14,b=i[e++]|i[e++]<<8,e++;else for(e+=12;;){if(!((I=i[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;case 249:if(i[e++]!==4||i[e+4]!==0)throw new Error("Invalid graphics extension block.");var x=i[e++];f=i[e++]|i[e++]<<8,v=i[e++],!(1&x)&&(v=null),g=x>>2&7,e++;break;case 254:for(;;){if(!((I=i[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;default:throw new Error("Unknown graphic control label: 0x"+i[e-1].toString(16))}break;case 44:var E=i[e++]|i[e++]<<8,S=i[e++]|i[e++]<<8,P=i[e++]|i[e++]<<8,F=i[e++]|i[e++]<<8,M=i[e++],$=M>>6&1,H=1<<(7&M)+1,q=l,T=c,D=!1;M>>7&&(D=!0,q=e,T=H,e+=3*H);var J=e;for(e++;;){var I;if(!((I=i[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}h.push({x:E,y:S,width:P,height:F,has_local_palette:D,palette_offset:q,palette_size:T,data_offset:J,data_length:e-J,transparent_index:v,interlaced:!!$,delay:f,disposal:g});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+i[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return b},this.frameInfo=function(O){if(O<0||O>=h.length)throw new Error("Frame index out of range.");return h[O]},this.decodeAndBlitFrameBGRA=function(O,X){var U=this.frameInfo(O),ce=U.width*U.height,B=new Uint8Array(ce);J3(i,U.data_offset,B,ce);var j=U.palette_offset,G=U.transparent_index;G===null&&(G=256);var ie=U.width,le=t-ie,ue=ie,k=4*(U.y*t+U.x),Y=4*((U.y+U.height)*t+U.x),te=k,re=4*le;U.interlaced===!0&&(re+=4*t*7);for(var de=8,me=0,we=B.length;me<we;++me){var _e=B[me];if(ue===0&&(ue=ie,(te+=re)>=Y&&(re=4*le+4*t*(de-1),te=k+(ie+le)*(de<<1),de>>=1)),_e===G)te+=4;else{var je=i[j+3*_e],ze=i[j+3*_e+1],Xe=i[j+3*_e+2];X[te++]=Xe,X[te++]=ze,X[te++]=je,X[te++]=255}--ue}},this.decodeAndBlitFrameRGBA=function(O,X){var U=this.frameInfo(O),ce=U.width*U.height,B=new Uint8Array(ce);J3(i,U.data_offset,B,ce);var j=U.palette_offset,G=U.transparent_index;G===null&&(G=256);var ie=U.width,le=t-ie,ue=ie,k=4*(U.y*t+U.x),Y=4*((U.y+U.height)*t+U.x),te=k,re=4*le;U.interlaced===!0&&(re+=4*t*7);for(var de=8,me=0,we=B.length;me<we;++me){var _e=B[me];if(ue===0&&(ue=ie,(te+=re)>=Y&&(re=4*le+4*t*(de-1),te=k+(ie+le)*(de<<1),de>>=1)),_e===G)te+=4;else{var je=i[j+3*_e],ze=i[j+3*_e+1],Xe=i[j+3*_e+2];X[te++]=je,X[te++]=ze,X[te++]=Xe,X[te++]=255}--ue}}}function J3(i,e,t,n){for(var r=i[e++],s=1<<r,o=s+1,l=o+1,c=r+1,d=(1<<c)-1,h=0,f=0,v=0,g=i[e++],b=new Int32Array(4096),x=null;;){for(;h<16&&g!==0;)f|=i[e++]<<h,h+=8,g===1?g=i[e++]:--g;if(h<c)break;var E=f&d;if(f>>=c,h-=c,E!==s){if(E===o)break;for(var S=E<l?E:x,P=0,F=S;F>s;)F=b[F]>>8,++P;var M=F;if(v+P+(S!==E?1:0)>n)return void Dn.log("Warning, gif stream longer than expected.");t[v++]=M;var $=v+=P;for(S!==E&&(t[v++]=M),F=S;P--;)F=b[F],t[--$]=255&F,F>>=8;x!==null&&l<4096&&(b[l++]=x<<8|M,l>=d+1&&c<12&&(++c,d=d<<1|1)),x=E}else l=o+1,d=(1<<(c=r+1))-1,x=null}return v!==n&&Dn.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function ew(i){var e,t,n,r,s,o=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),h=new Array(64),f=new Array(65535),v=new Array(65535),g=new Array(64),b=new Array(64),x=[],E=0,S=7,P=new Array(64),F=new Array(64),M=new Array(64),$=new Array(256),H=new Array(2048),q=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],T=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],X=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ce=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function B(k,Y){for(var te=0,re=0,de=new Array,me=1;me<=16;me++){for(var we=1;we<=k[me];we++)de[Y[re]]=[],de[Y[re]][0]=te,de[Y[re]][1]=me,re++,te++;te*=2}return de}function j(k){for(var Y=k[0],te=k[1]-1;te>=0;)Y&1<<te&&(E|=1<<S),te--,--S<0&&(E==255?(G(255),G(0)):G(E),S=7,E=0)}function G(k){x.push(k)}function ie(k){G(k>>8&255),G(255&k)}function le(k,Y,te,re,de){for(var me,we=de[0],_e=de[240],je=function(He,We){var Ge,Ke,rt,at,At,Rt,Wt,Ft,xt,wt,Qe=0;for(xt=0;xt<8;++xt){Ge=He[Qe],Ke=He[Qe+1],rt=He[Qe+2],at=He[Qe+3],At=He[Qe+4],Rt=He[Qe+5],Wt=He[Qe+6];var bn=Ge+(Ft=He[Qe+7]),Ut=Ge-Ft,Un=Ke+Wt,tn=Ke-Wt,fn=rt+Rt,Ei=rt-Rt,Qt=at+At,Cs=at-At,pn=bn+Qt,Tr=bn-Qt,Hn=Un+fn,an=Un-fn;He[Qe]=pn+Hn,He[Qe+4]=pn-Hn;var Ct=.707106781*(an+Tr);He[Qe+2]=Tr+Ct,He[Qe+6]=Tr-Ct;var Kt=.382683433*((pn=Cs+Ei)-(an=tn+Ut)),Qs=.5411961*pn+Kt,Rn=1.306562965*an+Kt,hr=.707106781*(Hn=Ei+tn),Js=Ut+hr,Et=Ut-hr;He[Qe+5]=Et+Qs,He[Qe+3]=Et-Qs,He[Qe+1]=Js+Rn,He[Qe+7]=Js-Rn,Qe+=8}for(Qe=0,xt=0;xt<8;++xt){Ge=He[Qe],Ke=He[Qe+8],rt=He[Qe+16],at=He[Qe+24],At=He[Qe+32],Rt=He[Qe+40],Wt=He[Qe+48];var ns=Ge+(Ft=He[Qe+56]),Li=Ge-Ft,Ci=Ke+Wt,$n=Ke-Wt,qn=rt+Rt,Yr=rt-Rt,el=at+At,ao=at-At,Zs=ns+el,ea=ns-el,Br=Ci+qn,ta=Ci-qn;He[Qe]=Zs+Br,He[Qe+32]=Zs-Br;var rs=.707106781*(ta+ea);He[Qe+16]=ea+rs,He[Qe+48]=ea-rs;var ka=.382683433*((Zs=ao+Yr)-(ta=$n+Li)),tl=.5411961*Zs+ka,eu=1.306562965*ta+ka,tu=.707106781*(Br=Yr+$n),nu=Li+tu,mc=Li-tu;He[Qe+40]=mc+tl,He[Qe+24]=mc-tl,He[Qe+8]=nu+eu,He[Qe+56]=nu-eu,Qe++}for(xt=0;xt<64;++xt)wt=He[xt]*We[xt],g[xt]=wt>0?wt+.5|0:wt-.5|0;return g}(k,Y),ze=0;ze<64;++ze)b[q[ze]]=je[ze];var Xe=b[0]-te;te=b[0],Xe==0?j(re[0]):(j(re[v[me=32767+Xe]]),j(f[me]));for(var Je=63;Je>0&&b[Je]==0;)Je--;if(Je==0)return j(we),te;for(var pt,Ie=1;Ie<=Je;){for(var pe=Ie;b[Ie]==0&&Ie<=Je;)++Ie;var lt=Ie-pe;if(lt>=16){pt=lt>>4;for(var Ze=1;Ze<=pt;++Ze)j(_e);lt&=15}me=32767+b[Ie],j(de[(lt<<4)+v[me]]),j(f[me]),Ie++}return Je!=63&&j(we),te}function ue(k){k=Math.min(Math.max(k,1),100),s!=k&&(function(Y){for(var te=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],re=0;re<64;re++){var de=o((te[re]*Y+50)/100);de=Math.min(Math.max(de,1),255),l[q[re]]=de}for(var me=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],we=0;we<64;we++){var _e=o((me[we]*Y+50)/100);_e=Math.min(Math.max(_e,1),255),c[q[we]]=_e}for(var je=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ze=0,Xe=0;Xe<8;Xe++)for(var Je=0;Je<8;Je++)d[ze]=1/(l[q[ze]]*je[Xe]*je[Je]*8),h[ze]=1/(c[q[ze]]*je[Xe]*je[Je]*8),ze++}(k<50?Math.floor(5e3/k):Math.floor(200-2*k)),s=k)}this.encode=function(k,Y){Y&&ue(Y),x=new Array,E=0,S=7,ie(65496),ie(65504),ie(16),G(74),G(70),G(73),G(70),G(0),G(1),G(1),G(0),ie(1),ie(1),G(0),G(0),function(){ie(65499),ie(132),G(0);for(var Ke=0;Ke<64;Ke++)G(l[Ke]);G(1);for(var rt=0;rt<64;rt++)G(c[rt])}(),function(Ke,rt){ie(65472),ie(17),G(8),ie(rt),ie(Ke),G(3),G(1),G(17),G(0),G(2),G(17),G(1),G(3),G(17),G(1)}(k.width,k.height),function(){ie(65476),ie(418),G(0);for(var Ke=0;Ke<16;Ke++)G(T[Ke+1]);for(var rt=0;rt<=11;rt++)G(D[rt]);G(16);for(var at=0;at<16;at++)G(J[at+1]);for(var At=0;At<=161;At++)G(I[At]);G(1);for(var Rt=0;Rt<16;Rt++)G(O[Rt+1]);for(var Wt=0;Wt<=11;Wt++)G(X[Wt]);G(17);for(var Ft=0;Ft<16;Ft++)G(U[Ft+1]);for(var xt=0;xt<=161;xt++)G(ce[xt])}(),ie(65498),ie(12),G(3),G(1),G(0),G(2),G(17),G(3),G(17),G(0),G(63),G(0);var te=0,re=0,de=0;E=0,S=7,this.encode.displayName="_encode_";for(var me,we,_e,je,ze,Xe,Je,pt,Ie,pe=k.data,lt=k.width,Ze=k.height,He=4*lt,We=0;We<Ze;){for(me=0;me<He;){for(ze=He*We+me,Je=-1,pt=0,Ie=0;Ie<64;Ie++)Xe=ze+(pt=Ie>>3)*He+(Je=4*(7&Ie)),We+pt>=Ze&&(Xe-=He*(We+1+pt-Ze)),me+Je>=He&&(Xe-=me+Je-He+4),we=pe[Xe++],_e=pe[Xe++],je=pe[Xe++],P[Ie]=(H[we]+H[_e+256>>0]+H[je+512>>0]>>16)-128,F[Ie]=(H[we+768>>0]+H[_e+1024>>0]+H[je+1280>>0]>>16)-128,M[Ie]=(H[we+1280>>0]+H[_e+1536>>0]+H[je+1792>>0]>>16)-128;te=le(P,d,te,e,n),re=le(F,h,re,t,r),de=le(M,h,de,t,r),me+=32}We+=8}if(S>=0){var Ge=[];Ge[1]=S+1,Ge[0]=(1<<S+1)-1,j(Ge)}return ie(65497),new Uint8Array(x)},i=i||50,function(){for(var k=String.fromCharCode,Y=0;Y<256;Y++)$[Y]=k(Y)}(),e=B(T,D),t=B(O,X),n=B(J,I),r=B(U,ce),function(){for(var k=1,Y=2,te=1;te<=15;te++){for(var re=k;re<Y;re++)v[32767+re]=te,f[32767+re]=[],f[32767+re][1]=te,f[32767+re][0]=re;for(var de=-(Y-1);de<=-k;de++)v[32767+de]=te,f[32767+de]=[],f[32767+de][1]=te,f[32767+de][0]=Y-1+de;k<<=1,Y<<=1}}(),function(){for(var k=0;k<256;k++)H[k]=19595*k,H[k+256>>0]=38470*k,H[k+512>>0]=7471*k+32768,H[k+768>>0]=-11059*k,H[k+1024>>0]=-21709*k,H[k+1280>>0]=32768*k+8421375,H[k+1536>>0]=-27439*k,H[k+1792>>0]=-5329*k}(),ue(i)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ko(i,e){if(this.pos=0,this.buffer=i,this.datav=new DataView(i.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Z3(i){function e(T){if(!T)throw Error("assert :P")}function t(T,D,J){for(var I=0;4>I;I++)if(T[D+I]!=J.charCodeAt(I))return!0;return!1}function n(T,D,J,I,O){for(var X=0;X<O;X++)T[D+X]=J[I+X]}function r(T,D,J,I){for(var O=0;O<I;O++)T[D+O]=J}function s(T){return new Int32Array(T)}function o(T,D){for(var J=[],I=0;I<T;I++)J.push(new D);return J}function l(T,D){var J=[];return function I(O,X,U){for(var ce=U[X],B=0;B<ce&&(O.push(U.length>X+1?[]:new D),!(U.length<X+1));B++)I(O[B],X+1,U)}(J,0,T),J}var c=function(){var T=this;function D(y,A){for(var C=1<<A-1>>>0;y&C;)C>>>=1;return C?(y&C-1)+C:y}function J(y,A,C,R,W){e(!(R%C));do y[A+(R-=C)]=W;while(0<R)}function I(y,A,C,R,W){if(e(2328>=W),512>=W)var K=s(512);else if((K=s(W))==null)return 0;return function(ee,se,ae,he,ye,Pe){var Ne,Le,Ue=se,Fe=1<<ae,xe=s(16),Se=s(16);for(e(ye!=0),e(he!=null),e(ee!=null),e(0<ae),Le=0;Le<ye;++Le){if(15<he[Le])return 0;++xe[he[Le]]}if(xe[0]==ye)return 0;for(Se[1]=0,Ne=1;15>Ne;++Ne){if(xe[Ne]>1<<Ne)return 0;Se[Ne+1]=Se[Ne]+xe[Ne]}for(Le=0;Le<ye;++Le)Ne=he[Le],0<he[Le]&&(Pe[Se[Ne]++]=Le);if(Se[15]==1)return(he=new O).g=0,he.value=Pe[0],J(ee,Ue,1,Fe,he),Fe;var De,Oe=-1,Be=Fe-1,ot=0,tt=1,Lt=1,nt=1<<ae;for(Le=0,Ne=1,ye=2;Ne<=ae;++Ne,ye<<=1){if(tt+=Lt<<=1,0>(Lt-=xe[Ne]))return 0;for(;0<xe[Ne];--xe[Ne])(he=new O).g=Ne,he.value=Pe[Le++],J(ee,Ue+ot,ye,nt,he),ot=D(ot,Ne)}for(Ne=ae+1,ye=2;15>=Ne;++Ne,ye<<=1){if(tt+=Lt<<=1,0>(Lt-=xe[Ne]))return 0;for(;0<xe[Ne];--xe[Ne]){if(he=new O,(ot&Be)!=Oe){for(Ue+=nt,De=1<<(Oe=Ne)-ae;15>Oe&&!(0>=(De-=xe[Oe]));)++Oe,De<<=1;Fe+=nt=1<<(De=Oe-ae),ee[se+(Oe=ot&Be)].g=De+ae,ee[se+Oe].value=Ue-se-Oe}he.g=Ne-ae,he.value=Pe[Le++],J(ee,Ue+(ot>>ae),ye,nt,he),ot=D(ot,Ne)}}return tt!=2*Se[15]-1?0:Fe}(y,A,C,R,W,K)}function O(){this.value=this.g=0}function X(){this.value=this.g=0}function U(){this.G=o(5,O),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(er,X)}function ce(y,A,C,R){e(y!=null),e(A!=null),e(2147483648>R),y.Ca=254,y.I=0,y.b=-8,y.Ka=0,y.oa=A,y.pa=C,y.Jd=A,y.Yc=C+R,y.Zc=4<=R?C+R-4+1:C,me(y)}function B(y,A){for(var C=0;0<A--;)C|=_e(y,128)<<A;return C}function j(y,A){var C=B(y,A);return we(y)?-C:C}function G(y,A,C,R){var W,K=0;for(e(y!=null),e(A!=null),e(4294967288>R),y.Sb=R,y.Ra=0,y.u=0,y.h=0,4<R&&(R=4),W=0;W<R;++W)K+=A[C+W]<<8*W;y.Ra=K,y.bb=R,y.oa=A,y.pa=C}function ie(y){for(;8<=y.u&&y.bb<y.Sb;)y.Ra>>>=8,y.Ra+=y.oa[y.pa+y.bb]<<Oc-8>>>0,++y.bb,y.u-=8;te(y)&&(y.h=1,y.u=0)}function le(y,A){if(e(0<=A),!y.h&&A<=Mc){var C=Y(y)&Fc[A];return y.u+=A,ie(y),C}return y.h=1,y.u=0}function ue(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function k(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Y(y){return y.Ra>>>(y.u&Oc-1)>>>0}function te(y){return e(y.bb<=y.Sb),y.h||y.bb==y.Sb&&y.u>Oc}function re(y,A){y.u=A,y.h=te(y)}function de(y){y.u>=Dc&&(e(y.u>=Dc),ie(y))}function me(y){e(y!=null&&y.oa!=null),y.pa<y.Zc?(y.I=(y.oa[y.pa++]|y.I<<8)>>>0,y.b+=8):(e(y!=null&&y.oa!=null),y.pa<y.Yc?(y.b+=8,y.I=y.oa[y.pa++]|y.I<<8):y.Ka?y.b=0:(y.I<<=8,y.b+=8,y.Ka=1))}function we(y){return B(y,1)}function _e(y,A){var C=y.Ca;0>y.b&&me(y);var R=y.b,W=C*A>>>8,K=(y.I>>>R>W)+0;for(K?(C-=W,y.I-=W+1<<R>>>0):C=W+1,R=C,W=0;256<=R;)W+=8,R>>=8;return R=7^W+hi[R],y.b-=R,y.Ca=(C<<R)-1,K}function je(y,A,C){y[A+0]=C>>24&255,y[A+1]=C>>16&255,y[A+2]=C>>8&255,y[A+3]=C>>0&255}function ze(y,A){return y[A+0]<<0|y[A+1]<<8}function Xe(y,A){return ze(y,A)|y[A+2]<<16}function Je(y,A){return ze(y,A)|ze(y,A+2)<<16}function pt(y,A){var C=1<<A;return e(y!=null),e(0<A),y.X=s(C),y.X==null?0:(y.Mb=32-A,y.Xa=A,1)}function Ie(y,A){e(y!=null),e(A!=null),e(y.Xa==A.Xa),n(A.X,0,y.X,0,1<<A.Xa)}function pe(){this.X=[],this.Xa=this.Mb=0}function lt(y,A,C,R){e(C!=null),e(R!=null);var W=C[0],K=R[0];return W==0&&(W=(y*K+A/2)/A),K==0&&(K=(A*W+y/2)/y),0>=W||0>=K?0:(C[0]=W,R[0]=K,1)}function Ze(y,A){return y+(1<<A)-1>>>A}function He(y,A){return((4278255360&y)+(4278255360&A)>>>0&4278255360)+((16711935&y)+(16711935&A)>>>0&16711935)>>>0}function We(y,A){T[A]=function(C,R,W,K,ee,se,ae){var he;for(he=0;he<ee;++he){var ye=T[y](se[ae+he-1],W,K+he);se[ae+he]=He(C[R+he],ye)}}}function Ge(){this.ud=this.hd=this.jd=0}function Ke(y,A){return((4278124286&(y^A))>>>1)+(y&A)>>>0}function rt(y){return 0<=y&&256>y?y:0>y?0:255<y?255:void 0}function at(y,A){return rt(y+(y-A+.5>>1))}function At(y,A,C){return Math.abs(A-C)-Math.abs(y-C)}function Rt(y,A,C,R,W,K,ee){for(R=K[ee-1],C=0;C<W;++C)K[ee+C]=R=He(y[A+C],R)}function Wt(y,A,C,R,W){var K;for(K=0;K<C;++K){var ee=y[A+K],se=ee>>8&255,ae=16711935&(ae=(ae=16711935&ee)+((se<<16)+se));R[W+K]=(4278255360&ee)+ae>>>0}}function Ft(y,A){A.jd=y>>0&255,A.hd=y>>8&255,A.ud=y>>16&255}function xt(y,A,C,R,W,K){var ee;for(ee=0;ee<R;++ee){var se=A[C+ee],ae=se>>>8,he=se,ye=255&(ye=(ye=se>>>16)+((y.jd<<24>>24)*(ae<<24>>24)>>>5));he=255&(he=(he=he+((y.hd<<24>>24)*(ae<<24>>24)>>>5))+((y.ud<<24>>24)*(ye<<24>>24)>>>5)),W[K+ee]=(4278255360&se)+(ye<<16)+he}}function wt(y,A,C,R,W){T[A]=function(K,ee,se,ae,he,ye,Pe,Ne,Le){for(ae=Pe;ae<Ne;++ae)for(Pe=0;Pe<Le;++Pe)he[ye++]=W(se[R(K[ee++])])},T[y]=function(K,ee,se,ae,he,ye,Pe){var Ne=8>>K.b,Le=K.Ea,Ue=K.K[0],Fe=K.w;if(8>Ne)for(K=(1<<K.b)-1,Fe=(1<<Ne)-1;ee<se;++ee){var xe,Se=0;for(xe=0;xe<Le;++xe)xe&K||(Se=R(ae[he++])),ye[Pe++]=W(Ue[Se&Fe]),Se>>=Ne}else T["VP8LMapColor"+C](ae,he,Ue,Fe,ye,Pe,ee,se,Le)}}function Qe(y,A,C,R,W){for(C=A+C;A<C;){var K=y[A++];R[W++]=K>>16&255,R[W++]=K>>8&255,R[W++]=K>>0&255}}function bn(y,A,C,R,W){for(C=A+C;A<C;){var K=y[A++];R[W++]=K>>16&255,R[W++]=K>>8&255,R[W++]=K>>0&255,R[W++]=K>>24&255}}function Ut(y,A,C,R,W){for(C=A+C;A<C;){var K=(ee=y[A++])>>16&240|ee>>12&15,ee=ee>>0&240|ee>>28&15;R[W++]=K,R[W++]=ee}}function Un(y,A,C,R,W){for(C=A+C;A<C;){var K=(ee=y[A++])>>16&248|ee>>13&7,ee=ee>>5&224|ee>>3&31;R[W++]=K,R[W++]=ee}}function tn(y,A,C,R,W){for(C=A+C;A<C;){var K=y[A++];R[W++]=K>>0&255,R[W++]=K>>8&255,R[W++]=K>>16&255}}function fn(y,A,C,R,W,K){if(K==0)for(C=A+C;A<C;)je(R,((K=y[A++])[0]>>24|K[1]>>8&65280|K[2]<<8&16711680|K[3]<<24)>>>0),W+=32;else n(R,W,y,A,C)}function Ei(y,A){T[A][0]=T[y+"0"],T[A][1]=T[y+"1"],T[A][2]=T[y+"2"],T[A][3]=T[y+"3"],T[A][4]=T[y+"4"],T[A][5]=T[y+"5"],T[A][6]=T[y+"6"],T[A][7]=T[y+"7"],T[A][8]=T[y+"8"],T[A][9]=T[y+"9"],T[A][10]=T[y+"10"],T[A][11]=T[y+"11"],T[A][12]=T[y+"12"],T[A][13]=T[y+"13"],T[A][14]=T[y+"0"],T[A][15]=T[y+"0"]}function Qt(y){return y==$c||y==xu||y==vd||y==yd}function Cs(){this.eb=[],this.size=this.A=this.fb=0}function pn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Tr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Cs,this.f.kb=new pn,this.sd=null}function Hn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function an(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ct(y){return alert("todo:WebPSamplerProcessPlane"),y.T}function Kt(y,A){var C=y.T,R=A.ba.f.RGBA,W=R.eb,K=R.fb+y.ka*R.A,ee=Ri[A.ba.S],se=y.y,ae=y.O,he=y.f,ye=y.N,Pe=y.ea,Ne=y.W,Le=A.cc,Ue=A.dc,Fe=A.Mc,xe=A.Nc,Se=y.ka,De=y.ka+y.T,Oe=y.U,Be=Oe+1>>1;for(Se==0?ee(se,ae,null,null,he,ye,Pe,Ne,he,ye,Pe,Ne,W,K,null,null,Oe):(ee(A.ec,A.fc,se,ae,Le,Ue,Fe,xe,he,ye,Pe,Ne,W,K-R.A,W,K,Oe),++C);Se+2<De;Se+=2)Le=he,Ue=ye,Fe=Pe,xe=Ne,ye+=y.Rc,Ne+=y.Rc,K+=2*R.A,ee(se,(ae+=2*y.fa)-y.fa,se,ae,Le,Ue,Fe,xe,he,ye,Pe,Ne,W,K-R.A,W,K,Oe);return ae+=y.fa,y.j+De<y.o?(n(A.ec,A.fc,se,ae,Oe),n(A.cc,A.dc,he,ye,Be),n(A.Mc,A.Nc,Pe,Ne,Be),C--):1&De||ee(se,ae,null,null,he,ye,Pe,Ne,he,ye,Pe,Ne,W,K+R.A,null,null,Oe),C}function Qs(y,A,C){var R=y.F,W=[y.J];if(R!=null){var K=y.U,ee=A.ba.S,se=ee==md||ee==vd;A=A.ba.f.RGBA;var ae=[0],he=y.ka;ae[0]=y.T,y.Kb&&(he==0?--ae[0]:(--he,W[0]-=y.width),y.j+y.ka+y.T==y.o&&(ae[0]=y.o-y.j-he));var ye=A.eb;he=A.fb+he*A.A,y=An(R,W[0],y.width,K,ae,ye,he+(se?0:3),A.A),e(C==ae),y&&Qt(ee)&&Ti(ye,he,se,K,ae,A.A)}return 0}function Rn(y){var A=y.ma,C=A.ba.S,R=11>C,W=C==ml||C==gd||C==md||C==Nn||C==12||Qt(C);if(A.memory=null,A.Ib=null,A.Jb=null,A.Nd=null,!Ic(A.Oa,y,W?11:12))return 0;if(W&&Qt(C)&&$e(),y.da)alert("todo:use_scaling");else{if(R){if(A.Ib=Ct,y.Kb){if(C=y.U+1>>1,A.memory=s(y.U+2*C),A.memory==null)return 0;A.ec=A.memory,A.fc=0,A.cc=A.ec,A.dc=A.fc+y.U,A.Mc=A.cc,A.Nc=A.dc+C,A.Ib=Kt,$e()}}else alert("todo:EmitYUV");W&&(A.Jb=Qs,R&&Ce())}if(R&&!Ur){for(y=0;256>y;++y)Fi[y]=89858*(y-128)+oa>>yo,Mi[y]=-22014*(y-128)+oa,Gc[y]=-45773*(y-128),Lu[y]=113618*(y-128)+oa>>yo;for(y=xn;y<En;++y)A=76283*(y-16)+oa>>yo,xp[y-xn]=as(A,255),o2[y-xn]=as(A+8>>4,15);Ur=1}return 1}function hr(y){var A=y.ma,C=y.U,R=y.T;return e(!(1&y.ka)),0>=C||0>=R?0:(C=A.Ib(y,A),A.Jb!=null&&A.Jb(y,A,C),A.Dc+=C,1)}function Js(y){y.ma.memory=null}function Et(y,A,C,R){return le(y,8)!=47?0:(A[0]=le(y,14)+1,C[0]=le(y,14)+1,R[0]=le(y,1),le(y,3)!=0?0:!y.h)}function ns(y,A){if(4>y)return y+1;var C=y-2>>1;return(2+(1&y)<<C)+le(A,C)+1}function Li(y,A){return 120<A?A-120:1<=(C=((C=$v[A-1])>>4)*y+(8-(15&C)))?C:1;var C}function Ci(y,A,C){var R=Y(C),W=y[A+=255&R].g-8;return 0<W&&(re(C,C.u+8),R=Y(C),A+=y[A].value,A+=R&(1<<W)-1),re(C,C.u+y[A].g),y[A].value}function $n(y,A,C){return C.g+=y.g,C.value+=y.value<<A>>>0,e(8>=C.g),y.g}function qn(y,A,C){var R=y.xc;return e((A=R==0?0:y.vc[y.md*(C>>R)+(A>>R)])<y.Wb),y.Ya[A]}function Yr(y,A,C,R){var W=y.ab,K=y.c*A,ee=y.C;A=ee+A;var se=C,ae=R;for(R=y.Ta,C=y.Ua;0<W--;){var he=y.gc[W],ye=ee,Pe=A,Ne=se,Le=ae,Ue=(ae=R,se=C,he.Ea);switch(e(ye<Pe),e(Pe<=he.nc),he.hc){case 2:vp(Ne,Le,(Pe-ye)*Ue,ae,se);break;case 0:var Fe=ye,xe=Pe,Se=ae,De=se,Oe=(nt=he).Ea;Fe==0&&(mu(Ne,Le,null,null,1,Se,De),Rt(Ne,Le+1,0,0,Oe-1,Se,De+1),Le+=Oe,De+=Oe,++Fe);for(var Be=1<<nt.b,ot=Be-1,tt=Ze(Oe,nt.b),Lt=nt.K,nt=nt.w+(Fe>>nt.b)*tt;Fe<xe;){var on=Lt,ln=nt,rn=1;for(uo(Ne,Le,Se,De-Oe,1,Se,De);rn<Oe;){var qt=(rn&~ot)+Be;qt>Oe&&(qt=Oe),(0,Oa[on[ln++]>>8&15])(Ne,Le+ +rn,Se,De+rn-Oe,qt-rn,Se,De+rn),rn=qt}Le+=Oe,De+=Oe,++Fe&ot||(nt+=tt)}Pe!=he.nc&&n(ae,se-Ue,ae,se+(Pe-ye-1)*Ue,Ue);break;case 1:for(Ue=Ne,xe=Le,Oe=(Ne=he.Ea)-(De=Ne&~(Se=(Le=1<<he.b)-1)),Fe=Ze(Ne,he.b),Be=he.K,he=he.w+(ye>>he.b)*Fe;ye<Pe;){for(ot=Be,tt=he,Lt=new Ge,nt=xe+De,on=xe+Ne;xe<nt;)Ft(ot[tt++],Lt),fl(Lt,Ue,xe,Le,ae,se),xe+=Le,se+=Le;xe<on&&(Ft(ot[tt++],Lt),fl(Lt,Ue,xe,Oe,ae,se),xe+=Oe,se+=Oe),++ye&Se||(he+=Fe)}break;case 3:if(Ne==ae&&Le==se&&0<he.b){for(xe=ae,Ne=Ue=se+(Pe-ye)*Ue-(De=(Pe-ye)*Ze(he.Ea,he.b)),Le=ae,Se=se,Fe=[],De=(Oe=De)-1;0<=De;--De)Fe[De]=Le[Se+De];for(De=Oe-1;0<=De;--De)xe[Ne+De]=Fe[De];di(he,ye,Pe,ae,Ue,ae,se)}else di(he,ye,Pe,Ne,Le,ae,se)}se=R,ae=C}ae!=C&&n(R,C,se,ae,K)}function el(y,A){var C=y.V,R=y.Ba+y.c*y.C,W=A-y.C;if(e(A<=y.l.o),e(16>=W),0<W){var K=y.l,ee=y.Ta,se=y.Ua,ae=K.width;if(Yr(y,W,C,R),W=se=[se],e((C=y.C)<(R=A)),e(K.v<K.va),R>K.o&&(R=K.o),C<K.j){var he=K.j-C;C=K.j,W[0]+=he*ae}if(C>=R?C=0:(W[0]+=4*K.v,K.ka=C-K.j,K.U=K.va-K.v,K.T=R-C,C=1),C){if(se=se[0],11>(C=y.ca).S){var ye=C.f.RGBA,Pe=(R=C.S,W=K.U,K=K.T,he=ye.eb,ye.A),Ne=K;for(ye=ye.fb+y.Ma*ye.A;0<Ne--;){var Le=ee,Ue=se,Fe=W,xe=he,Se=ye;switch(R){case yp:fi(Le,Ue,Fe,xe,Se);break;case ml:Qr(Le,Ue,Fe,xe,Se);break;case $c:Qr(Le,Ue,Fe,xe,Se),Ti(xe,Se,0,Fe,1,0);break;case n2:ho(Le,Ue,Fe,xe,Se);break;case gd:fn(Le,Ue,Fe,xe,Se,1);break;case xu:fn(Le,Ue,Fe,xe,Se,1),Ti(xe,Se,0,Fe,1,0);break;case md:fn(Le,Ue,Fe,xe,Se,0);break;case vd:fn(Le,Ue,Fe,xe,Se,0),Ti(xe,Se,1,Fe,1,0);break;case Nn:pl(Le,Ue,Fe,xe,Se);break;case yd:pl(Le,Ue,Fe,xe,Se),Pn(xe,Se,Fe,1,0);break;case wp:co(Le,Ue,Fe,xe,Se);break;default:e(0)}se+=ae,ye+=Pe}y.Ma+=K}else alert("todo:EmitRescaledRowsYUVA");e(y.Ma<=C.height)}}y.C=A,e(y.C<=y.i)}function ao(y){var A;if(0<y.ua)return 0;for(A=0;A<y.Wb;++A){var C=y.Ya[A].G,R=y.Ya[A].H;if(0<C[1][R[1]+0].g||0<C[2][R[2]+0].g||0<C[3][R[3]+0].g)return 0}return 1}function Zs(y,A,C,R,W,K){if(y.Z!=0){var ee=y.qd,se=y.rd;for(e(Zr[y.Z]!=null);A<C;++A)Zr[y.Z](ee,se,R,W,R,W,K),ee=R,se=W,W+=K;y.qd=ee,y.rd=se}}function ea(y,A){var C=y.l.ma,R=C.Z==0||C.Z==1?y.l.j:y.C;if(R=y.C<R?R:y.C,e(A<=y.l.o),A>R){var W=y.l.width,K=C.ca,ee=C.tb+W*R,se=y.V,ae=y.Ba+y.c*R,he=y.gc;e(y.ab==1),e(he[0].hc==3),dd(he[0],R,A,se,ae,K,ee),Zs(C,R,A,K,ee,W)}y.C=y.Ma=A}function Br(y,A,C,R,W,K,ee){var se=y.$/R,ae=y.$%R,he=y.m,ye=y.s,Pe=C+y.$,Ne=Pe;W=C+R*W;var Le=C+R*K,Ue=280+ye.ua,Fe=y.Pb?se:16777216,xe=0<ye.ua?ye.Wa:null,Se=ye.wc,De=Pe<Le?qn(ye,ae,se):null;e(y.C<K),e(Le<=W);var Oe=!1;e:for(;;){for(;Oe||Pe<Le;){var Be=0;if(se>=Fe){var ot=Pe-C;e((Fe=y).Pb),Fe.wd=Fe.m,Fe.xd=ot,0<Fe.s.ua&&Ie(Fe.s.Wa,Fe.s.vb),Fe=se+Ap}if(ae&Se||(De=qn(ye,ae,se)),e(De!=null),De.Qb&&(A[Pe]=De.qb,Oe=!0),!Oe)if(de(he),De.jc){Be=he,ot=A;var tt=Pe,Lt=De.pd[Y(Be)&er-1];e(De.jc),256>Lt.g?(re(Be,Be.u+Lt.g),ot[tt]=Lt.value,Be=0):(re(Be,Be.u+Lt.g-256),e(256<=Lt.value),Be=Lt.value),Be==0&&(Oe=!0)}else Be=Ci(De.G[0],De.H[0],he);if(he.h)break;if(Oe||256>Be){if(!Oe)if(De.nd)A[Pe]=(De.qb|Be<<8)>>>0;else{if(de(he),Oe=Ci(De.G[1],De.H[1],he),de(he),ot=Ci(De.G[2],De.H[2],he),tt=Ci(De.G[3],De.H[3],he),he.h)break;A[Pe]=(tt<<24|Oe<<16|Be<<8|ot)>>>0}if(Oe=!1,++Pe,++ae>=R&&(ae=0,++se,ee!=null&&se<=K&&!(se%16)&&ee(y,se),xe!=null))for(;Ne<Pe;)Be=A[Ne++],xe.X[(506832829*Be&4294967295)>>>xe.Mb]=Be}else if(280>Be){if(Be=ns(Be-256,he),ot=Ci(De.G[4],De.H[4],he),de(he),ot=Li(R,ot=ns(ot,he)),he.h)break;if(Pe-C<ot||W-Pe<Be)break e;for(tt=0;tt<Be;++tt)A[Pe+tt]=A[Pe+tt-ot];for(Pe+=Be,ae+=Be;ae>=R;)ae-=R,++se,ee!=null&&se<=K&&!(se%16)&&ee(y,se);if(e(Pe<=W),ae&Se&&(De=qn(ye,ae,se)),xe!=null)for(;Ne<Pe;)Be=A[Ne++],xe.X[(506832829*Be&4294967295)>>>xe.Mb]=Be}else{if(!(Be<Ue))break e;for(Oe=Be-280,e(xe!=null);Ne<Pe;)Be=A[Ne++],xe.X[(506832829*Be&4294967295)>>>xe.Mb]=Be;Be=Pe,e(!(Oe>>>(ot=xe).Xa)),A[Be]=ot.X[Oe],Oe=!0}Oe||e(he.h==te(he))}if(y.Pb&&he.h&&Pe<W)e(y.m.h),y.a=5,y.m=y.wd,y.$=y.xd,0<y.s.ua&&Ie(y.s.vb,y.s.Wa);else{if(he.h)break e;ee!=null&&ee(y,se>K?K:se),y.a=0,y.$=Pe-C}return 1}return y.a=3,0}function ta(y){e(y!=null),y.vc=null,y.yc=null,y.Ya=null;var A=y.Wa;A!=null&&(A.X=null),y.vb=null,e(y!=null)}function rs(){var y=new bm;return y==null?null:(y.a=0,y.xb=Wc,Ei("Predictor","VP8LPredictors"),Ei("Predictor","VP8LPredictors_C"),Ei("PredictorAdd","VP8LPredictorsAdd"),Ei("PredictorAdd","VP8LPredictorsAdd_C"),vp=Wt,fl=xt,fi=Qe,Qr=bn,pl=Ut,co=Un,ho=tn,T.VP8LMapColor32b=jc,T.VP8LMapColor8b=Bc,y)}function ka(y,A,C,R,W){var K=1,ee=[y],se=[A],ae=R.m,he=R.s,ye=null,Pe=0;e:for(;;){if(C)for(;K&&le(ae,1);){var Ne=ee,Le=se,Ue=R,Fe=1,xe=Ue.m,Se=Ue.gc[Ue.ab],De=le(xe,2);if(Ue.Oc&1<<De)K=0;else{switch(Ue.Oc|=1<<De,Se.hc=De,Se.Ea=Ne[0],Se.nc=Le[0],Se.K=[null],++Ue.ab,e(4>=Ue.ab),De){case 0:case 1:Se.b=le(xe,3)+2,Fe=ka(Ze(Se.Ea,Se.b),Ze(Se.nc,Se.b),0,Ue,Se.K),Se.K=Se.K[0];break;case 3:var Oe,Be=le(xe,8)+1,ot=16<Be?0:4<Be?1:2<Be?2:3;if(Ne[0]=Ze(Se.Ea,ot),Se.b=ot,Oe=Fe=ka(Be,1,0,Ue,Se.K)){var tt,Lt=Be,nt=Se,on=1<<(8>>nt.b),ln=s(on);if(ln==null)Oe=0;else{var rn=nt.K[0],qt=nt.w;for(ln[0]=nt.K[0][0],tt=1;tt<1*Lt;++tt)ln[tt]=He(rn[qt+tt],ln[tt-1]);for(;tt<4*on;++tt)ln[tt]=0;nt.K[0]=null,nt.K[0]=ln,Oe=1}}Fe=Oe;break;case 2:break;default:e(0)}K=Fe}}if(ee=ee[0],se=se[0],K&&le(ae,1)&&!(K=1<=(Pe=le(ae,4))&&11>=Pe)){R.a=3;break e}var Sn;if(Sn=K)t:{var Ln,Dt,Xn,mi=R,ar=ee,Ar=se,gn=Pe,ei=C,ti=mi.m,Yn=mi.s,xr=[null],Hr=1,Oi=0,Fs=i2[gn];n:for(;;){if(ei&&le(ti,1)){var Kn=le(ti,3)+2,pr=Ze(ar,Kn),us=Ze(Ar,Kn),wl=pr*us;if(!ka(pr,us,0,mi,xr))break n;for(xr=xr[0],Yn.xc=Kn,Ln=0;Ln<wl;++Ln){var bo=xr[Ln]>>8&65535;xr[Ln]=bo,bo>=Hr&&(Hr=bo+1)}}if(ti.h)break n;for(Dt=0;5>Dt;++Dt){var mn=Su[Dt];!Dt&&0<gn&&(mn+=1<<gn),Oi<mn&&(Oi=mn)}var Ua=o(Hr*Fs,O),Sp=Hr,Lm=o(Sp,U);if(Lm==null)var Ms=null;else e(65536>=Sp),Ms=Lm;var Os=s(Oi);if(Ms==null||Os==null||Ua==null){mi.a=1;break n}var Pu=Ua;for(Ln=Xn=0;Ln<Hr;++Ln){var Ds=Ms[Ln],Ao=Ds.G,Nu=Ds.H,Xc=0,cs=1,Yc=0;for(Dt=0;5>Dt;++Dt){mn=Su[Dt],Ao[Dt]=Pu,Nu[Dt]=Xn,!Dt&&0<gn&&(mn+=1<<gn);i:{var bl,xo=mn,Kc=mi,Ha=Os,u2=Pu,Cm=Xn,On=0,la=Kc.m,Pm=le(la,1);if(r(Ha,0,0,xo),Pm){var Nm=le(la,1)+1,_p=le(la,1),Ep=le(la,_p==0?1:8);Ha[Ep]=1,Nm==2&&(Ha[Ep=le(la,8)]=1);var $a=1}else{var Bn=s(19),gr=le(la,4)+4;if(19<gr){Kc.a=3;var or=0;break i}for(bl=0;bl<gr;++bl)Bn[Hv[bl]]=le(la,3);var Qc=void 0,So=void 0,Jc=Kc,Xv=Bn,Sr=xo,Lp=Ha,Sd=0,qa=Jc.m,ua=8,hs=o(128,O);r:for(;I(hs,0,7,Xv,19);){if(le(qa,1)){var _d=2+2*le(qa,3);if((Qc=2+le(qa,_d))>Sr)break r}else Qc=Sr;for(So=0;So<Sr&&Qc--;){de(qa);var Cp=hs[0+(127&Y(qa))];re(qa,qa.u+Cp.g);var Al=Cp.value;if(16>Al)Lp[So++]=Al,Al!=0&&(ua=Al);else{var c2=Al==16,km=Al-16,h2=bp[km],Tm=le(qa,wd[km])+h2;if(So+Tm>Sr)break r;for(var d2=c2?ua:0;0<Tm--;)Lp[So++]=d2}}Sd=1;break r}Sd||(Jc.a=3),$a=Sd}($a=$a&&!la.h)&&(On=I(u2,Cm,8,Ha,xo)),$a&&On!=0?or=On:(Kc.a=3,or=0)}if(or==0)break n;if(cs&&r2[Dt]==1&&(cs=Pu[Xn].g==0),Xc+=Pu[Xn].g,Xn+=or,3>=Dt){var Zc,Pp=Os[0];for(Zc=1;Zc<mn;++Zc)Os[Zc]>Pp&&(Pp=Os[Zc]);Yc+=Pp}}if(Ds.nd=cs,Ds.Qb=0,cs&&(Ds.qb=(Ao[3][Nu[3]+0].value<<24|Ao[1][Nu[1]+0].value<<16|Ao[2][Nu[2]+0].value)>>>0,Xc==0&&256>Ao[0][Nu[0]+0].value&&(Ds.Qb=1,Ds.qb+=Ao[0][Nu[0]+0].value<<8)),Ds.jc=!Ds.Qb&&6>Yc,Ds.jc){var Ed,ds=Ds;for(Ed=0;Ed<er;++Ed){var _o=Ed,ca=ds.pd[_o],ku=ds.G[0][ds.H[0]+_o];256<=ku.value?(ca.g=ku.g+256,ca.value=ku.value):(ca.g=0,ca.value=0,_o>>=$n(ku,8,ca),_o>>=$n(ds.G[1][ds.H[1]+_o],16,ca),_o>>=$n(ds.G[2][ds.H[2]+_o],0,ca),$n(ds.G[3][ds.H[3]+_o],24,ca))}}}Yn.vc=xr,Yn.Wb=Hr,Yn.Ya=Ms,Yn.yc=Ua,Sn=1;break t}Sn=0}if(!(K=Sn)){R.a=3;break e}if(0<Pe){if(he.ua=1<<Pe,!pt(he.Wa,Pe)){R.a=1,K=0;break e}}else he.ua=0;var Np=R,kp=ee,f2=se,Tp=Np.s,Ip=Tp.xc;if(Np.c=kp,Np.i=f2,Tp.md=Ze(kp,Ip),Tp.wc=Ip==0?-1:(1<<Ip)-1,C){R.xb=za;break e}if((ye=s(ee*se))==null){R.a=1,K=0;break e}K=(K=Br(R,ye,0,ee,se,se,null))&&!ae.h;break e}return K?(W!=null?W[0]=ye:(e(ye==null),e(C)),R.$=0,C||ta(he)):ta(he),K}function tl(y,A){var C=y.c*y.i,R=C+A+16*A;return e(y.c<=A),y.V=s(R),y.V==null?(y.Ta=null,y.Ua=0,y.a=1,0):(y.Ta=y.V,y.Ua=y.Ba+C+A,1)}function eu(y,A){var C=y.C,R=A-C,W=y.V,K=y.Ba+y.c*C;for(e(A<=y.l.o);0<R;){var ee=16<R?16:R,se=y.l.ma,ae=y.l.width,he=ae*ee,ye=se.ca,Pe=se.tb+ae*C,Ne=y.Ta,Le=y.Ua;Yr(y,ee,W,K),tr(Ne,Le,ye,Pe,he),Zs(se,C,C+ee,ye,Pe,ae),R-=ee,W+=ee*y.c,C+=ee}e(C==A),y.C=y.Ma=A}function tu(){this.ub=this.yd=this.td=this.Rb=0}function nu(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function mc(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function lp(){this.Yb=function(){var y=[];return function A(C,R,W){for(var K=W[R],ee=0;ee<K&&(C.push(W.length>R+1?[]:0),!(W.length<R+1));ee++)A(C[ee],R+1,W)}(y,0,[3,11]),y}()}function Wn(){this.jb=s(3),this.Wc=l([4,8],lp),this.Xc=l([4,17],lp)}function vm(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function nl(){this.ld=this.La=this.dd=this.tc=0}function ed(){this.Na=this.la=0}function vc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function td(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function up(){this.uc=this.M=this.Nb=0,this.wa=Array(new nl),this.Y=0,this.ya=Array(new td),this.aa=0,this.l=new yc}function ru(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Ps(){this.cb=this.a=0,this.sc="",this.m=new ue,this.Od=new tu,this.Kc=new nu,this.ed=new vm,this.Qa=new mc,this.Ic=this.$c=this.Aa=0,this.D=new up,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ue),this.ia=0,this.pb=o(4,vc),this.Pa=new Wn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ru),this.Hd=0,this.rb=Array(new ed),this.sb=0,this.wa=Array(new nl),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new td),this.L=this.aa=0,this.gd=l([4,2],nl),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function yc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function is(){var y=new Ps;return y!=null&&(y.a=0,y.sc="OK",y.cb=0,y.Xb=0,_u||(_u=iu)),y}function sr(y,A,C){return y.a==0&&(y.a=A,y.sc=C,y.cb=0),0}function cp(y,A,C){return 3<=C&&y[A+0]==157&&y[A+1]==1&&y[A+2]==42}function hp(y,A){if(y==null)return 0;if(y.a=0,y.sc="OK",A==null)return sr(y,2,"null VP8Io passed to VP8GetHeaders()");var C=A.data,R=A.w,W=A.ha;if(4>W)return sr(y,7,"Truncated header.");var K=C[R+0]|C[R+1]<<8|C[R+2]<<16,ee=y.Od;if(ee.Rb=!(1&K),ee.td=K>>1&7,ee.yd=K>>4&1,ee.ub=K>>5,3<ee.td)return sr(y,3,"Incorrect keyframe parameters.");if(!ee.yd)return sr(y,4,"Frame not displayable.");R+=3,W-=3;var se=y.Kc;if(ee.Rb){if(7>W)return sr(y,7,"cannot parse picture header");if(!cp(C,R,W))return sr(y,3,"Bad code word");se.c=16383&(C[R+4]<<8|C[R+3]),se.Td=C[R+4]>>6,se.i=16383&(C[R+6]<<8|C[R+5]),se.Ud=C[R+6]>>6,R+=7,W-=7,y.za=se.c+15>>4,y.Ub=se.i+15>>4,A.width=se.c,A.height=se.i,A.Da=0,A.j=0,A.v=0,A.va=A.width,A.o=A.height,A.da=0,A.ib=A.width,A.hb=A.height,A.U=A.width,A.T=A.height,r((K=y.Pa).jb,0,255,K.jb.length),e((K=y.Qa)!=null),K.Cb=0,K.Bb=0,K.Fb=1,r(K.Zb,0,0,K.Zb.length),r(K.Lb,0,0,K.Lb)}if(ee.ub>W)return sr(y,7,"bad partition length");ce(K=y.m,C,R,ee.ub),R+=ee.ub,W-=ee.ub,ee.Rb&&(se.Ld=we(K),se.Kd=we(K)),se=y.Qa;var ae,he=y.Pa;if(e(K!=null),e(se!=null),se.Cb=we(K),se.Cb){if(se.Bb=we(K),we(K)){for(se.Fb=we(K),ae=0;4>ae;++ae)se.Zb[ae]=we(K)?j(K,7):0;for(ae=0;4>ae;++ae)se.Lb[ae]=we(K)?j(K,6):0}if(se.Bb)for(ae=0;3>ae;++ae)he.jb[ae]=we(K)?B(K,8):255}else se.Bb=0;if(K.Ka)return sr(y,3,"cannot parse segment header");if((se=y.ed).zd=we(K),se.Tb=B(K,6),se.wb=B(K,3),se.Pc=we(K),se.Pc&&we(K)){for(he=0;4>he;++he)we(K)&&(se.vd[he]=j(K,6));for(he=0;4>he;++he)we(K)&&(se.od[he]=j(K,6))}if(y.L=se.Tb==0?0:se.zd?1:2,K.Ka)return sr(y,3,"cannot parse filter header");var ye=W;if(W=ae=R,R=ae+ye,se=ye,y.Xb=(1<<B(y.m,2))-1,ye<3*(he=y.Xb))C=7;else{for(ae+=3*he,se-=3*he,ye=0;ye<he;++ye){var Pe=C[W+0]|C[W+1]<<8|C[W+2]<<16;Pe>se&&(Pe=se),ce(y.Jc[+ye],C,ae,Pe),ae+=Pe,se-=Pe,W+=3}ce(y.Jc[+he],C,ae,se),C=ae<R?0:5}if(C!=0)return sr(y,C,"cannot parse partitions");for(C=B(ae=y.m,7),W=we(ae)?j(ae,4):0,R=we(ae)?j(ae,4):0,se=we(ae)?j(ae,4):0,he=we(ae)?j(ae,4):0,ae=we(ae)?j(ae,4):0,ye=y.Qa,Pe=0;4>Pe;++Pe){if(ye.Cb){var Ne=ye.Zb[Pe];ye.Fb||(Ne+=C)}else{if(0<Pe){y.pb[Pe]=y.pb[0];continue}Ne=C}var Le=y.pb[Pe];Le.Sc[0]=qc[as(Ne+W,127)],Le.Sc[1]=bd[as(Ne+0,127)],Le.Eb[0]=2*qc[as(Ne+R,127)],Le.Eb[1]=101581*bd[as(Ne+se,127)]>>16,8>Le.Eb[1]&&(Le.Eb[1]=8),Le.Qc[0]=qc[as(Ne+he,117)],Le.Qc[1]=bd[as(Ne+ae,127)],Le.lc=Ne+ae}if(!ee.Rb)return sr(y,4,"Not a key frame.");for(we(K),ee=y.Pa,C=0;4>C;++C){for(W=0;8>W;++W)for(R=0;3>R;++R)for(se=0;11>se;++se)he=_e(K,Wv[C][W][R][se])?B(K,8):a2[C][W][R][se],ee.Wc[C][W].Yb[R][se]=he;for(W=0;17>W;++W)ee.Xc[C][W]=ee.Wc[C][Sm[W]]}return y.kc=we(K),y.kc&&(y.Bd=B(K,8)),y.cb=1}function iu(y,A,C,R,W,K,ee){var se=A[W].Yb[C];for(C=0;16>W;++W){if(!_e(y,se[C+0]))return W;for(;!_e(y,se[C+1]);)if(se=A[++W].Yb[0],C=0,W==16)return 16;var ae=A[W+1].Yb;if(_e(y,se[C+2])){var he=y,ye=0;if(_e(he,(Ne=se)[(Pe=C)+3]))if(_e(he,Ne[Pe+6])){for(se=0,Pe=2*(ye=_e(he,Ne[Pe+8]))+(Ne=_e(he,Ne[Pe+9+ye])),ye=0,Ne=Am[Pe];Ne[se];++se)ye+=ye+_e(he,Ne[se]);ye+=3+(8<<Pe)}else _e(he,Ne[Pe+7])?(ye=7+2*_e(he,165),ye+=_e(he,145)):ye=5+_e(he,159);else ye=_e(he,Ne[Pe+4])?3+_e(he,Ne[Pe+5]):2;se=ae[2]}else ye=1,se=ae[1];ae=ee+xm[W],0>(he=y).b&&me(he);var Pe,Ne=he.b,Le=(Pe=he.Ca>>1)-(he.I>>Ne)>>31;--he.b,he.Ca+=Le,he.Ca|=1,he.I-=(Pe+1&Le)<<Ne,K[ae]=((ye^Le)-Le)*R[(0<W)+0]}return 16}function rl(y){var A=y.rb[y.sb-1];A.la=0,A.Na=0,r(y.zc,0,0,y.zc.length),y.ja=0}function su(y,A){if(y==null)return 0;if(A==null)return sr(y,2,"NULL VP8Io parameter in VP8Decode().");if(!y.cb&&!hp(y,A))return 0;if(e(y.cb),A.ac==null||A.ac(A)){A.ob&&(y.L=0);var C=Cu[y.L];if(y.L==2?(y.yb=0,y.zb=0):(y.yb=A.v-C>>4,y.zb=A.j-C>>4,0>y.yb&&(y.yb=0),0>y.zb&&(y.zb=0)),y.Va=A.o+15+C>>4,y.Hb=A.va+15+C>>4,y.Hb>y.za&&(y.Hb=y.za),y.Va>y.Ub&&(y.Va=y.Ub),0<y.L){var R=y.ed;for(C=0;4>C;++C){var W;if(y.Qa.Cb){var K=y.Qa.Lb[C];y.Qa.Fb||(K+=R.Tb)}else K=R.Tb;for(W=0;1>=W;++W){var ee=y.gd[C][W],se=K;if(R.Pc&&(se+=R.vd[0],W&&(se+=R.od[0])),0<(se=0>se?0:63<se?63:se)){var ae=se;0<R.wb&&(ae=4<R.wb?ae>>2:ae>>1)>9-R.wb&&(ae=9-R.wb),1>ae&&(ae=1),ee.dd=ae,ee.tc=2*se+ae,ee.ld=40<=se?2:15<=se?1:0}else ee.tc=0;ee.La=W}}}C=0}else sr(y,6,"Frame setup failed"),C=y.a;if(C=C==0){if(C){y.$c=0,0<y.Aa||(y.Ic=wo);e:{C=y.Ic,R=4*(ae=y.za);var he=32*ae,ye=ae+1,Pe=0<y.L?ae*(0<y.Aa?2:1):0,Ne=(y.Aa==2?2:1)*ae;if((ee=R+832+(W=3*(16*C+Cu[y.L])/2*he)+(K=y.Fa!=null&&0<y.Fa.length?y.Kc.c*y.Kc.i:0))!=ee)C=0;else{if(ee>y.Vb){if(y.Vb=0,y.Ec=s(ee),y.Fc=0,y.Ec==null){C=sr(y,1,"no memory during frame initialization.");break e}y.Vb=ee}ee=y.Ec,se=y.Fc,y.Ac=ee,y.Bc=se,se+=R,y.Gd=o(he,ru),y.Hd=0,y.rb=o(ye+1,ed),y.sb=1,y.wa=Pe?o(Pe,nl):null,y.Y=0,y.D.Nb=0,y.D.wa=y.wa,y.D.Y=y.Y,0<y.Aa&&(y.D.Y+=ae),e(!0),y.oc=ee,y.pc=se,se+=832,y.ya=o(Ne,td),y.aa=0,y.D.ya=y.ya,y.D.aa=y.aa,y.Aa==2&&(y.D.aa+=ae),y.R=16*ae,y.B=8*ae,ae=(he=Cu[y.L])*y.R,he=he/2*y.B,y.sa=ee,y.ta=se+ae,y.qa=y.sa,y.ra=y.ta+16*C*y.R+he,y.Ha=y.qa,y.Ia=y.ra+8*C*y.B+he,y.$c=0,se+=W,y.mb=K?ee:null,y.nb=K?se:null,e(se+K<=y.Fc+y.Vb),rl(y),r(y.Ac,y.Bc,0,R),C=1}}if(C){if(A.ka=0,A.y=y.sa,A.O=y.ta,A.f=y.qa,A.N=y.ra,A.ea=y.Ha,A.Vd=y.Ia,A.fa=y.R,A.Rc=y.B,A.F=null,A.J=0,!pd){for(C=-255;255>=C;++C)fr[255+C]=0>C?-C:C;for(C=-1020;1020>=C;++C)ja[1020+C]=-128>C?-128:127<C?127:C;for(C=-112;112>=C;++C)Uc[112+C]=-16>C?-16:15<C?15:C;for(C=-255;510>=C;++C)Au[255+C]=0>C?0:255<C?255:C;pd=1}zc=un,fo=rd,po=il,Jr=ym,os=bc,cn=nd,vu=Cc,fd=br,yu=du,wu=ld,bu=ll,ls=ul,go=fu,Da=Pc,mo=ia,vo=Ns,gl=ks,zr=gp,Rs[0]=Fa,Rs[1]=dp,Rs[2]=uu,Rs[3]=Ra,Rs[4]=sd,Rs[5]=xc,Rs[6]=al,Rs[7]=Sc,Rs[8]=pp,Rs[9]=_c,gi[0]=lu,gi[1]=fp,gi[2]=Ta,gi[3]=ou,gi[4]=Vn,gi[5]=Ia,gi[6]=na,Ii[0]=ss,Ii[1]=id,Ii[2]=wm,Ii[3]=oo,Ii[4]=cu,Ii[5]=Ec,Ii[6]=ad,C=1}else C=0}C&&(C=function(Le,Ue){for(Le.M=0;Le.M<Le.Va;++Le.M){var Fe,xe=Le.Jc[Le.M&Le.Xb],Se=Le.m,De=Le;for(Fe=0;Fe<De.za;++Fe){var Oe=Se,Be=De,ot=Be.Ac,tt=Be.Bc+4*Fe,Lt=Be.zc,nt=Be.ya[Be.aa+Fe];if(Be.Qa.Bb?nt.$b=_e(Oe,Be.Pa.jb[0])?2+_e(Oe,Be.Pa.jb[2]):_e(Oe,Be.Pa.jb[1]):nt.$b=0,Be.kc&&(nt.Ad=_e(Oe,Be.Bd)),nt.Za=!_e(Oe,145)+0,nt.Za){var on=nt.Ob,ln=0;for(Be=0;4>Be;++Be){var rn,qt=Lt[0+Be];for(rn=0;4>rn;++rn){qt=qv[ot[tt+rn]][qt];for(var Sn=s2[_e(Oe,qt[0])];0<Sn;)Sn=s2[2*Sn+_e(Oe,qt[Sn])];qt=-Sn,ot[tt+rn]=qt}n(on,ln,ot,tt,4),ln+=4,Lt[0+Be]=qt}}else qt=_e(Oe,156)?_e(Oe,128)?1:3:_e(Oe,163)?2:0,nt.Ob[0]=qt,r(ot,tt,qt,4),r(Lt,0,qt,4);nt.Dd=_e(Oe,142)?_e(Oe,114)?_e(Oe,183)?1:3:2:0}if(De.m.Ka)return sr(Le,7,"Premature end-of-partition0 encountered.");for(;Le.ja<Le.za;++Le.ja){if(De=xe,Oe=(Se=Le).rb[Se.sb-1],ot=Se.rb[Se.sb+Se.ja],Fe=Se.ya[Se.aa+Se.ja],tt=Se.kc?Fe.Ad:0)Oe.la=ot.la=0,Fe.Za||(Oe.Na=ot.Na=0),Fe.Hc=0,Fe.Gc=0,Fe.ia=0;else{var Ln,Dt;if(Oe=ot,ot=De,tt=Se.Pa.Xc,Lt=Se.ya[Se.aa+Se.ja],nt=Se.pb[Lt.$b],Be=Lt.ad,on=0,ln=Se.rb[Se.sb-1],qt=rn=0,r(Be,on,0,384),Lt.Za)var Xn=0,mi=tt[3];else{Sn=s(16);var ar=Oe.Na+ln.Na;if(ar=_u(ot,tt[1],ar,nt.Eb,0,Sn,0),Oe.Na=ln.Na=(0<ar)+0,1<ar)zc(Sn,0,Be,on);else{var Ar=Sn[0]+3>>3;for(Sn=0;256>Sn;Sn+=16)Be[on+Sn]=Ar}Xn=1,mi=tt[0]}var gn=15&Oe.la,ei=15&ln.la;for(Sn=0;4>Sn;++Sn){var ti=1&ei;for(Ar=Dt=0;4>Ar;++Ar)gn=gn>>1|(ti=(ar=_u(ot,mi,ar=ti+(1&gn),nt.Sc,Xn,Be,on))>Xn)<<7,Dt=Dt<<2|(3<ar?3:1<ar?2:Be[on+0]!=0),on+=16;gn>>=4,ei=ei>>1|ti<<7,rn=(rn<<8|Dt)>>>0}for(mi=gn,Xn=ei>>4,Ln=0;4>Ln;Ln+=2){for(Dt=0,gn=Oe.la>>4+Ln,ei=ln.la>>4+Ln,Sn=0;2>Sn;++Sn){for(ti=1&ei,Ar=0;2>Ar;++Ar)ar=ti+(1&gn),gn=gn>>1|(ti=0<(ar=_u(ot,tt[2],ar,nt.Qc,0,Be,on)))<<3,Dt=Dt<<2|(3<ar?3:1<ar?2:Be[on+0]!=0),on+=16;gn>>=2,ei=ei>>1|ti<<5}qt|=Dt<<4*Ln,mi|=gn<<4<<Ln,Xn|=(240&ei)<<Ln}Oe.la=mi,ln.la=Xn,Lt.Hc=rn,Lt.Gc=qt,Lt.ia=43690&qt?0:nt.ia,tt=!(rn|qt)}if(0<Se.L&&(Se.wa[Se.Y+Se.ja]=Se.gd[Fe.$b][Fe.Za],Se.wa[Se.Y+Se.ja].La|=!tt),De.Ka)return sr(Le,7,"Premature end-of-file encountered.")}if(rl(Le),Se=Ue,De=1,Fe=(xe=Le).D,Oe=0<xe.L&&xe.M>=xe.zb&&xe.M<=xe.Va,xe.Aa==0)e:{if(Fe.M=xe.M,Fe.uc=Oe,Tc(xe,Fe),De=1,Fe=(Dt=xe.D).Nb,Oe=(qt=Cu[xe.L])*xe.R,ot=qt/2*xe.B,Sn=16*Fe*xe.R,Ar=8*Fe*xe.B,tt=xe.sa,Lt=xe.ta-Oe+Sn,nt=xe.qa,Be=xe.ra-ot+Ar,on=xe.Ha,ln=xe.Ia-ot+Ar,ei=(gn=Dt.M)==0,rn=gn>=xe.Va-1,xe.Aa==2&&Tc(xe,Dt),Dt.uc)for(ti=(ar=xe).D.M,e(ar.D.uc),Dt=ar.yb;Dt<ar.Hb;++Dt){Xn=Dt,mi=ti;var Yn=(xr=(mn=ar).D).Nb;Ln=mn.R;var xr=xr.wa[xr.Y+Xn],Hr=mn.sa,Oi=mn.ta+16*Yn*Ln+16*Xn,Fs=xr.dd,Kn=xr.tc;if(Kn!=0)if(e(3<=Kn),mn.L==1)0<Xn&&vo(Hr,Oi,Ln,Kn+4),xr.La&&zr(Hr,Oi,Ln,Kn),0<mi&&mo(Hr,Oi,Ln,Kn+4),xr.La&&gl(Hr,Oi,Ln,Kn);else{var pr=mn.B,us=mn.qa,wl=mn.ra+8*Yn*pr+8*Xn,bo=mn.Ha,mn=mn.Ia+8*Yn*pr+8*Xn;Yn=xr.ld,0<Xn&&(fd(Hr,Oi,Ln,Kn+4,Fs,Yn),wu(us,wl,bo,mn,pr,Kn+4,Fs,Yn)),xr.La&&(ls(Hr,Oi,Ln,Kn,Fs,Yn),Da(us,wl,bo,mn,pr,Kn,Fs,Yn)),0<mi&&(vu(Hr,Oi,Ln,Kn+4,Fs,Yn),yu(us,wl,bo,mn,pr,Kn+4,Fs,Yn)),xr.La&&(bu(Hr,Oi,Ln,Kn,Fs,Yn),go(us,wl,bo,mn,pr,Kn,Fs,Yn))}}if(xe.ia&&alert("todo:DitherRow"),Se.put!=null){if(Dt=16*gn,gn=16*(gn+1),ei?(Se.y=xe.sa,Se.O=xe.ta+Sn,Se.f=xe.qa,Se.N=xe.ra+Ar,Se.ea=xe.Ha,Se.W=xe.Ia+Ar):(Dt-=qt,Se.y=tt,Se.O=Lt,Se.f=nt,Se.N=Be,Se.ea=on,Se.W=ln),rn||(gn-=qt),gn>Se.o&&(gn=Se.o),Se.F=null,Se.J=null,xe.Fa!=null&&0<xe.Fa.length&&Dt<gn&&(Se.J=cd(xe,Se,Dt,gn-Dt),Se.F=xe.mb,Se.F==null&&Se.F.length==0)){De=sr(xe,3,"Could not decode alpha data.");break e}Dt<Se.j&&(qt=Se.j-Dt,Dt=Se.j,e(!(1&qt)),Se.O+=xe.R*qt,Se.N+=xe.B*(qt>>1),Se.W+=xe.B*(qt>>1),Se.F!=null&&(Se.J+=Se.width*qt)),Dt<gn&&(Se.O+=Se.v,Se.N+=Se.v>>1,Se.W+=Se.v>>1,Se.F!=null&&(Se.J+=Se.v),Se.ka=Dt-Se.j,Se.U=Se.va-Se.v,Se.T=gn-Dt,De=Se.put(Se))}Fe+1!=xe.Ic||rn||(n(xe.sa,xe.ta-Oe,tt,Lt+16*xe.R,Oe),n(xe.qa,xe.ra-ot,nt,Be+8*xe.B,ot),n(xe.Ha,xe.Ia-ot,on,ln+8*xe.B,ot))}if(!De)return sr(Le,6,"Output aborted.")}return 1}(y,A)),A.bc!=null&&A.bc(A),C&=1}return C?(y.cb=0,C):0}function Pi(y,A,C,R,W){W=y[A+C+32*R]+(W>>3),y[A+C+32*R]=-256&W?0>W?0:255:W}function wc(y,A,C,R,W,K){Pi(y,A,0,C,R+W),Pi(y,A,1,C,R+K),Pi(y,A,2,C,R-K),Pi(y,A,3,C,R-W)}function Ni(y){return(20091*y>>16)+y}function au(y,A,C,R){var W,K=0,ee=s(16);for(W=0;4>W;++W){var se=y[A+0]+y[A+8],ae=y[A+0]-y[A+8],he=(35468*y[A+4]>>16)-Ni(y[A+12]),ye=Ni(y[A+4])+(35468*y[A+12]>>16);ee[K+0]=se+ye,ee[K+1]=ae+he,ee[K+2]=ae-he,ee[K+3]=se-ye,K+=4,A++}for(W=K=0;4>W;++W)se=(y=ee[K+0]+4)+ee[K+8],ae=y-ee[K+8],he=(35468*ee[K+4]>>16)-Ni(ee[K+12]),Pi(C,R,0,0,se+(ye=Ni(ee[K+4])+(35468*ee[K+12]>>16))),Pi(C,R,1,0,ae+he),Pi(C,R,2,0,ae-he),Pi(C,R,3,0,se-ye),K++,R+=32}function nd(y,A,C,R){var W=y[A+0]+4,K=35468*y[A+4]>>16,ee=Ni(y[A+4]),se=35468*y[A+1]>>16;wc(C,R,0,W+ee,y=Ni(y[A+1]),se),wc(C,R,1,W+K,y,se),wc(C,R,2,W-K,y,se),wc(C,R,3,W-ee,y,se)}function rd(y,A,C,R,W){au(y,A,C,R),W&&au(y,A+16,C,R+4)}function il(y,A,C,R){fo(y,A+0,C,R,1),fo(y,A+32,C,R+128,1)}function ym(y,A,C,R){var W;for(y=y[A+0]+4,W=0;4>W;++W)for(A=0;4>A;++A)Pi(C,R,A,W,y)}function bc(y,A,C,R){y[A+0]&&Jr(y,A+0,C,R),y[A+16]&&Jr(y,A+16,C,R+4),y[A+32]&&Jr(y,A+32,C,R+128),y[A+48]&&Jr(y,A+48,C,R+128+4)}function un(y,A,C,R){var W,K=s(16);for(W=0;4>W;++W){var ee=y[A+0+W]+y[A+12+W],se=y[A+4+W]+y[A+8+W],ae=y[A+4+W]-y[A+8+W],he=y[A+0+W]-y[A+12+W];K[0+W]=ee+se,K[8+W]=ee-se,K[4+W]=he+ae,K[12+W]=he-ae}for(W=0;4>W;++W)ee=(y=K[0+4*W]+3)+K[3+4*W],se=K[1+4*W]+K[2+4*W],ae=K[1+4*W]-K[2+4*W],he=y-K[3+4*W],C[R+0]=ee+se>>3,C[R+16]=he+ae>>3,C[R+32]=ee-se>>3,C[R+48]=he-ae>>3,R+=64}function Ac(y,A,C){var R,W=A-32,K=pi,ee=255-y[W-1];for(R=0;R<C;++R){var se,ae=K,he=ee+y[A-1];for(se=0;se<C;++se)y[A+se]=ae[he+y[W+se]];A+=32}}function dp(y,A){Ac(y,A,4)}function id(y,A){Ac(y,A,8)}function fp(y,A){Ac(y,A,16)}function Ta(y,A){var C;for(C=0;16>C;++C)n(y,A+32*C,y,A-32,16)}function ou(y,A){var C;for(C=16;0<C;--C)r(y,A,y[A-1],16),A+=32}function sl(y,A,C){var R;for(R=0;16>R;++R)r(A,C+32*R,y,16)}function lu(y,A){var C,R=16;for(C=0;16>C;++C)R+=y[A-1+32*C]+y[A+C-32];sl(R>>5,y,A)}function Vn(y,A){var C,R=8;for(C=0;16>C;++C)R+=y[A-1+32*C];sl(R>>4,y,A)}function Ia(y,A){var C,R=8;for(C=0;16>C;++C)R+=y[A+C-32];sl(R>>4,y,A)}function na(y,A){sl(128,y,A)}function kt(y,A,C){return y+2*A+C+2>>2}function uu(y,A){var C,R=A-32;for(R=new Uint8Array([kt(y[R-1],y[R+0],y[R+1]),kt(y[R+0],y[R+1],y[R+2]),kt(y[R+1],y[R+2],y[R+3]),kt(y[R+2],y[R+3],y[R+4])]),C=0;4>C;++C)n(y,A+32*C,R,0,R.length)}function Ra(y,A){var C=y[A-1],R=y[A-1+32],W=y[A-1+64],K=y[A-1+96];je(y,A+0,16843009*kt(y[A-1-32],C,R)),je(y,A+32,16843009*kt(C,R,W)),je(y,A+64,16843009*kt(R,W,K)),je(y,A+96,16843009*kt(W,K,K))}function Fa(y,A){var C,R=4;for(C=0;4>C;++C)R+=y[A+C-32]+y[A-1+32*C];for(R>>=3,C=0;4>C;++C)r(y,A+32*C,R,4)}function sd(y,A){var C=y[A-1+0],R=y[A-1+32],W=y[A-1+64],K=y[A-1-32],ee=y[A+0-32],se=y[A+1-32],ae=y[A+2-32],he=y[A+3-32];y[A+0+96]=kt(R,W,y[A-1+96]),y[A+1+96]=y[A+0+64]=kt(C,R,W),y[A+2+96]=y[A+1+64]=y[A+0+32]=kt(K,C,R),y[A+3+96]=y[A+2+64]=y[A+1+32]=y[A+0+0]=kt(ee,K,C),y[A+3+64]=y[A+2+32]=y[A+1+0]=kt(se,ee,K),y[A+3+32]=y[A+2+0]=kt(ae,se,ee),y[A+3+0]=kt(he,ae,se)}function al(y,A){var C=y[A+1-32],R=y[A+2-32],W=y[A+3-32],K=y[A+4-32],ee=y[A+5-32],se=y[A+6-32],ae=y[A+7-32];y[A+0+0]=kt(y[A+0-32],C,R),y[A+1+0]=y[A+0+32]=kt(C,R,W),y[A+2+0]=y[A+1+32]=y[A+0+64]=kt(R,W,K),y[A+3+0]=y[A+2+32]=y[A+1+64]=y[A+0+96]=kt(W,K,ee),y[A+3+32]=y[A+2+64]=y[A+1+96]=kt(K,ee,se),y[A+3+64]=y[A+2+96]=kt(ee,se,ae),y[A+3+96]=kt(se,ae,ae)}function xc(y,A){var C=y[A-1+0],R=y[A-1+32],W=y[A-1+64],K=y[A-1-32],ee=y[A+0-32],se=y[A+1-32],ae=y[A+2-32],he=y[A+3-32];y[A+0+0]=y[A+1+64]=K+ee+1>>1,y[A+1+0]=y[A+2+64]=ee+se+1>>1,y[A+2+0]=y[A+3+64]=se+ae+1>>1,y[A+3+0]=ae+he+1>>1,y[A+0+96]=kt(W,R,C),y[A+0+64]=kt(R,C,K),y[A+0+32]=y[A+1+96]=kt(C,K,ee),y[A+1+32]=y[A+2+96]=kt(K,ee,se),y[A+2+32]=y[A+3+96]=kt(ee,se,ae),y[A+3+32]=kt(se,ae,he)}function Sc(y,A){var C=y[A+0-32],R=y[A+1-32],W=y[A+2-32],K=y[A+3-32],ee=y[A+4-32],se=y[A+5-32],ae=y[A+6-32],he=y[A+7-32];y[A+0+0]=C+R+1>>1,y[A+1+0]=y[A+0+64]=R+W+1>>1,y[A+2+0]=y[A+1+64]=W+K+1>>1,y[A+3+0]=y[A+2+64]=K+ee+1>>1,y[A+0+32]=kt(C,R,W),y[A+1+32]=y[A+0+96]=kt(R,W,K),y[A+2+32]=y[A+1+96]=kt(W,K,ee),y[A+3+32]=y[A+2+96]=kt(K,ee,se),y[A+3+64]=kt(ee,se,ae),y[A+3+96]=kt(se,ae,he)}function _c(y,A){var C=y[A-1+0],R=y[A-1+32],W=y[A-1+64],K=y[A-1+96];y[A+0+0]=C+R+1>>1,y[A+2+0]=y[A+0+32]=R+W+1>>1,y[A+2+32]=y[A+0+64]=W+K+1>>1,y[A+1+0]=kt(C,R,W),y[A+3+0]=y[A+1+32]=kt(R,W,K),y[A+3+32]=y[A+1+64]=kt(W,K,K),y[A+3+64]=y[A+2+64]=y[A+0+96]=y[A+1+96]=y[A+2+96]=y[A+3+96]=K}function pp(y,A){var C=y[A-1+0],R=y[A-1+32],W=y[A-1+64],K=y[A-1+96],ee=y[A-1-32],se=y[A+0-32],ae=y[A+1-32],he=y[A+2-32];y[A+0+0]=y[A+2+32]=C+ee+1>>1,y[A+0+32]=y[A+2+64]=R+C+1>>1,y[A+0+64]=y[A+2+96]=W+R+1>>1,y[A+0+96]=K+W+1>>1,y[A+3+0]=kt(se,ae,he),y[A+2+0]=kt(ee,se,ae),y[A+1+0]=y[A+3+32]=kt(C,ee,se),y[A+1+32]=y[A+3+64]=kt(R,C,ee),y[A+1+64]=y[A+3+96]=kt(W,R,C),y[A+1+96]=kt(K,W,R)}function wm(y,A){var C;for(C=0;8>C;++C)n(y,A+32*C,y,A-32,8)}function oo(y,A){var C;for(C=0;8>C;++C)r(y,A,y[A-1],8),A+=32}function ra(y,A,C){var R;for(R=0;8>R;++R)r(A,C+32*R,y,8)}function ss(y,A){var C,R=8;for(C=0;8>C;++C)R+=y[A+C-32]+y[A-1+32*C];ra(R>>4,y,A)}function Ec(y,A){var C,R=4;for(C=0;8>C;++C)R+=y[A+C-32];ra(R>>3,y,A)}function cu(y,A){var C,R=4;for(C=0;8>C;++C)R+=y[A-1+32*C];ra(R>>3,y,A)}function ad(y,A){ra(128,y,A)}function ol(y,A,C){var R=y[A-C],W=y[A+0],K=3*(W-R)+Ba[1020+y[A-2*C]-y[A+C]],ee=Hc[112+(K+4>>3)];y[A-C]=pi[255+R+Hc[112+(K+3>>3)]],y[A+0]=pi[255+W-ee]}function hu(y,A,C,R){var W=y[A+0],K=y[A+C];return Is[255+y[A-2*C]-y[A-C]]>R||Is[255+K-W]>R}function Lc(y,A,C,R){return 4*Is[255+y[A-C]-y[A+0]]+Is[255+y[A-2*C]-y[A+C]]<=R}function od(y,A,C,R,W){var K=y[A-3*C],ee=y[A-2*C],se=y[A-C],ae=y[A+0],he=y[A+C],ye=y[A+2*C],Pe=y[A+3*C];return 4*Is[255+se-ae]+Is[255+ee-he]>R?0:Is[255+y[A-4*C]-K]<=W&&Is[255+K-ee]<=W&&Is[255+ee-se]<=W&&Is[255+Pe-ye]<=W&&Is[255+ye-he]<=W&&Is[255+he-ae]<=W}function ia(y,A,C,R){var W=2*R+1;for(R=0;16>R;++R)Lc(y,A+R,C,W)&&ol(y,A+R,C)}function Ns(y,A,C,R){var W=2*R+1;for(R=0;16>R;++R)Lc(y,A+R*C,1,W)&&ol(y,A+R*C,1)}function ks(y,A,C,R){var W;for(W=3;0<W;--W)ia(y,A+=4*C,C,R)}function gp(y,A,C,R){var W;for(W=3;0<W;--W)Ns(y,A+=4,C,R)}function sa(y,A,C,R,W,K,ee,se){for(K=2*K+1;0<W--;){if(od(y,A,C,K,ee))if(hu(y,A,C,se))ol(y,A,C);else{var ae=y,he=A,ye=C,Pe=ae[he-2*ye],Ne=ae[he-ye],Le=ae[he+0],Ue=ae[he+ye],Fe=ae[he+2*ye],xe=27*(De=Ba[1020+3*(Le-Ne)+Ba[1020+Pe-Ue]])+63>>7,Se=18*De+63>>7,De=9*De+63>>7;ae[he-3*ye]=pi[255+ae[he-3*ye]+De],ae[he-2*ye]=pi[255+Pe+Se],ae[he-ye]=pi[255+Ne+xe],ae[he+0]=pi[255+Le-xe],ae[he+ye]=pi[255+Ue-Se],ae[he+2*ye]=pi[255+Fe-De]}A+=R}}function ki(y,A,C,R,W,K,ee,se){for(K=2*K+1;0<W--;){if(od(y,A,C,K,ee))if(hu(y,A,C,se))ol(y,A,C);else{var ae=y,he=A,ye=C,Pe=ae[he-ye],Ne=ae[he+0],Le=ae[he+ye],Ue=Hc[112+((Fe=3*(Ne-Pe))+4>>3)],Fe=Hc[112+(Fe+3>>3)],xe=Ue+1>>1;ae[he-2*ye]=pi[255+ae[he-2*ye]+xe],ae[he-ye]=pi[255+Pe+Fe],ae[he+0]=pi[255+Ne-Ue],ae[he+ye]=pi[255+Le-xe]}A+=R}}function Cc(y,A,C,R,W,K){sa(y,A,C,1,16,R,W,K)}function br(y,A,C,R,W,K){sa(y,A,1,C,16,R,W,K)}function ll(y,A,C,R,W,K){var ee;for(ee=3;0<ee;--ee)ki(y,A+=4*C,C,1,16,R,W,K)}function ul(y,A,C,R,W,K){var ee;for(ee=3;0<ee;--ee)ki(y,A+=4,1,C,16,R,W,K)}function du(y,A,C,R,W,K,ee,se){sa(y,A,W,1,8,K,ee,se),sa(C,R,W,1,8,K,ee,se)}function ld(y,A,C,R,W,K,ee,se){sa(y,A,1,W,8,K,ee,se),sa(C,R,1,W,8,K,ee,se)}function fu(y,A,C,R,W,K,ee,se){ki(y,A+4*W,W,1,8,K,ee,se),ki(C,R+4*W,W,1,8,K,ee,se)}function Pc(y,A,C,R,W,K,ee,se){ki(y,A+4,1,W,8,K,ee,se),ki(C,R+4,1,W,8,K,ee,se)}function Ma(){this.ba=new Tr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new an,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function cl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Nc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function mp(){this.ua=0,this.Wa=new pe,this.vb=new pe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new U,this.yc=new O}function bm(){this.xb=this.a=0,this.l=new yc,this.ca=new Tr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new k,this.Pb=0,this.wd=new k,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new mp,this.ab=0,this.gc=o(4,Nc),this.Oc=0}function kc(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new yc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function lo(y,A,C,R,W,K,ee){for(y=y==null?0:y[A+0],A=0;A<ee;++A)W[K+A]=y+C[R+A]&255,y=W[K+A]}function ud(y,A,C,R,W,K,ee){var se;if(y==null)lo(null,null,C,R,W,K,ee);else for(se=0;se<ee;++se)W[K+se]=y[A+se]+C[R+se]&255}function hl(y,A,C,R,W,K,ee){if(y==null)lo(null,null,C,R,W,K,ee);else{var se,ae=y[A+0],he=ae,ye=ae;for(se=0;se<ee;++se)he=ye+(ae=y[A+se])-he,ye=C[R+se]+(-256&he?0>he?0:255:he)&255,he=ae,W[K+se]=ye}}function cd(y,A,C,R){var W=A.width,K=A.o;if(e(y!=null&&A!=null),0>C||0>=R||C+R>K)return null;if(!y.Cc){if(y.ga==null){var ee;if(y.ga=new kc,(ee=y.ga==null)||(ee=A.width*A.o,e(y.Gb.length==0),y.Gb=s(ee),y.Uc=0,y.Gb==null?ee=0:(y.mb=y.Gb,y.nb=y.Uc,y.rc=null,ee=1),ee=!ee),!ee){ee=y.ga;var se=y.Fa,ae=y.P,he=y.qc,ye=y.mb,Pe=y.nb,Ne=ae+1,Le=he-1,Ue=ee.l;if(e(se!=null&&ye!=null&&A!=null),Zr[0]=null,Zr[1]=lo,Zr[2]=ud,Zr[3]=hl,ee.ca=ye,ee.tb=Pe,ee.c=A.width,ee.i=A.height,e(0<ee.c&&0<ee.i),1>=he)A=0;else if(ee.$a=se[ae+0]>>0&3,ee.Z=se[ae+0]>>2&3,ee.Lc=se[ae+0]>>4&3,ae=se[ae+0]>>6&3,0>ee.$a||1<ee.$a||4<=ee.Z||1<ee.Lc||ae)A=0;else if(Ue.put=hr,Ue.ac=Rn,Ue.bc=Js,Ue.ma=ee,Ue.width=A.width,Ue.height=A.height,Ue.Da=A.Da,Ue.v=A.v,Ue.va=A.va,Ue.j=A.j,Ue.o=A.o,ee.$a)e:{e(ee.$a==1),A=rs();t:for(;;){if(A==null){A=0;break e}if(e(ee!=null),ee.mc=A,A.c=ee.c,A.i=ee.i,A.l=ee.l,A.l.ma=ee,A.l.width=ee.c,A.l.height=ee.i,A.a=0,G(A.m,se,Ne,Le),!ka(ee.c,ee.i,1,A,null)||(A.ab==1&&A.gc[0].hc==3&&ao(A.s)?(ee.ic=1,se=A.c*A.i,A.Ta=null,A.Ua=0,A.V=s(se),A.Ba=0,A.V==null?(A.a=1,A=0):A=1):(ee.ic=0,A=tl(A,ee.c)),!A))break t;A=1;break e}ee.mc=null,A=0}else A=Le>=ee.c*ee.i;ee=!A}if(ee)return null;y.ga.Lc!=1?y.Ga=0:R=K-C}e(y.ga!=null),e(C+R<=K);e:{if(A=(se=y.ga).c,K=se.l.o,se.$a==0){if(Ne=y.rc,Le=y.Vc,Ue=y.Fa,ae=y.P+1+C*A,he=y.mb,ye=y.nb+C*A,e(ae<=y.P+y.qc),se.Z!=0)for(e(Zr[se.Z]!=null),ee=0;ee<R;++ee)Zr[se.Z](Ne,Le,Ue,ae,he,ye,A),Ne=he,Le=ye,ye+=A,ae+=A;else for(ee=0;ee<R;++ee)n(he,ye,Ue,ae,A),Ne=he,Le=ye,ye+=A,ae+=A;y.rc=Ne,y.Vc=Le}else{if(e(se.mc!=null),A=C+R,e((ee=se.mc)!=null),e(A<=ee.i),ee.C>=A)A=1;else if(se.ic||Ce(),se.ic){se=ee.V,Ne=ee.Ba,Le=ee.c;var Fe=ee.i,xe=(Ue=1,ae=ee.$/Le,he=ee.$%Le,ye=ee.m,Pe=ee.s,ee.$),Se=Le*Fe,De=Le*A,Oe=Pe.wc,Be=xe<De?qn(Pe,he,ae):null;e(xe<=Se),e(A<=Fe),e(ao(Pe));t:for(;;){for(;!ye.h&&xe<De;){if(he&Oe||(Be=qn(Pe,he,ae)),e(Be!=null),de(ye),256>(Fe=Ci(Be.G[0],Be.H[0],ye)))se[Ne+xe]=Fe,++xe,++he>=Le&&(he=0,++ae<=A&&!(ae%16)&&ea(ee,ae));else{if(!(280>Fe)){Ue=0;break t}Fe=ns(Fe-256,ye);var ot,tt=Ci(Be.G[4],Be.H[4],ye);if(de(ye),!(xe>=(tt=Li(Le,tt=ns(tt,ye)))&&Se-xe>=Fe)){Ue=0;break t}for(ot=0;ot<Fe;++ot)se[Ne+xe+ot]=se[Ne+xe+ot-tt];for(xe+=Fe,he+=Fe;he>=Le;)he-=Le,++ae<=A&&!(ae%16)&&ea(ee,ae);xe<De&&he&Oe&&(Be=qn(Pe,he,ae))}e(ye.h==te(ye))}ea(ee,ae>A?A:ae);break t}!Ue||ye.h&&xe<Se?(Ue=0,ee.a=ye.h?5:3):ee.$=xe,A=Ue}else A=Br(ee,ee.V,ee.Ba,ee.c,ee.i,A,eu);if(!A){R=0;break e}}C+R>=K&&(y.Cc=1),R=1}if(!R)return null;if(y.Cc&&((R=y.ga)!=null&&(R.mc=null),y.ga=null,0<y.Ga))return alert("todo:WebPDequantizeLevels"),null}return y.nb+C*W}function _(y,A,C,R,W,K){for(;0<W--;){var ee,se=y,ae=A+(C?1:0),he=y,ye=A+(C?0:3);for(ee=0;ee<R;++ee){var Pe=he[ye+4*ee];Pe!=255&&(Pe*=32897,se[ae+4*ee+0]=se[ae+4*ee+0]*Pe>>23,se[ae+4*ee+1]=se[ae+4*ee+1]*Pe>>23,se[ae+4*ee+2]=se[ae+4*ee+2]*Pe>>23)}A+=K}}function V(y,A,C,R,W){for(;0<R--;){var K;for(K=0;K<C;++K){var ee=y[A+2*K+0],se=15&(he=y[A+2*K+1]),ae=4369*se,he=(240&he|he>>4)*ae>>16;y[A+2*K+0]=(240&ee|ee>>4)*ae>>16&240|(15&ee|ee<<4)*ae>>16>>4&15,y[A+2*K+1]=240&he|se}A+=W}}function fe(y,A,C,R,W,K,ee,se){var ae,he,ye=255;for(he=0;he<W;++he){for(ae=0;ae<R;++ae){var Pe=y[A+ae];K[ee+4*ae]=Pe,ye&=Pe}A+=C,ee+=se}return ye!=255}function ve(y,A,C,R,W){var K;for(K=0;K<W;++K)C[R+K]=y[A+K]>>8}function Ce(){Ti=_,Pn=V,An=fe,tr=ve}function Me(y,A,C){T[y]=function(R,W,K,ee,se,ae,he,ye,Pe,Ne,Le,Ue,Fe,xe,Se,De,Oe){var Be,ot=Oe-1>>1,tt=se[ae+0]|he[ye+0]<<16,Lt=Pe[Ne+0]|Le[Ue+0]<<16;e(R!=null);var nt=3*tt+Lt+131074>>2;for(A(R[W+0],255&nt,nt>>16,Fe,xe),K!=null&&(nt=3*Lt+tt+131074>>2,A(K[ee+0],255&nt,nt>>16,Se,De)),Be=1;Be<=ot;++Be){var on=se[ae+Be]|he[ye+Be]<<16,ln=Pe[Ne+Be]|Le[Ue+Be]<<16,rn=tt+on+Lt+ln+524296,qt=rn+2*(on+Lt)>>3;nt=qt+tt>>1,tt=(rn=rn+2*(tt+ln)>>3)+on>>1,A(R[W+2*Be-1],255&nt,nt>>16,Fe,xe+(2*Be-1)*C),A(R[W+2*Be-0],255&tt,tt>>16,Fe,xe+(2*Be-0)*C),K!=null&&(nt=rn+Lt>>1,tt=qt+ln>>1,A(K[ee+2*Be-1],255&nt,nt>>16,Se,De+(2*Be-1)*C),A(K[ee+2*Be+0],255&tt,tt>>16,Se,De+(2*Be+0)*C)),tt=on,Lt=ln}1&Oe||(nt=3*tt+Lt+131074>>2,A(R[W+Oe-1],255&nt,nt>>16,Fe,xe+(Oe-1)*C),K!=null&&(nt=3*Lt+tt+131074>>2,A(K[ee+Oe-1],255&nt,nt>>16,Se,De+(Oe-1)*C)))}}function $e(){Ri[yp]=Vv,Ri[ml]=vl,Ri[n2]=Gv,Ri[gd]=Vc,Ri[md]=Eu,Ri[Nn]=Ad,Ri[wp]=_m,Ri[$c]=vl,Ri[xu]=Vc,Ri[vd]=Eu,Ri[yd]=Ad}function st(y){return y&-16384?0>y?0:255:y>>yl}function _t(y,A){return st((19077*y>>8)+(26149*A>>8)-14234)}function Ht(y,A,C){return st((19077*y>>8)-(6419*A>>8)-(13320*C>>8)+8708)}function Bt(y,A){return st((19077*y>>8)+(33050*A>>8)-17685)}function nn(y,A,C,R,W){R[W+0]=_t(y,C),R[W+1]=Ht(y,A,C),R[W+2]=Bt(y,A)}function Gn(y,A,C,R,W){R[W+0]=Bt(y,A),R[W+1]=Ht(y,A,C),R[W+2]=_t(y,C)}function Zn(y,A,C,R,W){var K=Ht(y,A,C);A=K<<3&224|Bt(y,A)>>3,R[W+0]=248&_t(y,C)|K>>5,R[W+1]=A}function dr(y,A,C,R,W){var K=240&Bt(y,A)|15;R[W+0]=240&_t(y,C)|Ht(y,A,C)>>4,R[W+1]=K}function Kr(y,A,C,R,W){R[W+0]=255,nn(y,A,C,R,W+1)}function Ir(y,A,C,R,W){Gn(y,A,C,R,W),R[W+3]=255}function aa(y,A,C,R,W){nn(y,A,C,R,W),R[W+3]=255}function as(y,A){return 0>y?0:y>A?A:y}function Ts(y,A,C){T[y]=function(R,W,K,ee,se,ae,he,ye,Pe){for(var Ne=ye+(-2&Pe)*C;ye!=Ne;)A(R[W+0],K[ee+0],se[ae+0],he,ye),A(R[W+1],K[ee+0],se[ae+0],he,ye+C),W+=2,++ee,++ae,ye+=2*C;1&Pe&&A(R[W+0],K[ee+0],se[ae+0],he,ye)}}function dl(y,A,C){return C==0?y==0?A==0?6:5:A==0?4:0:C}function hd(y,A,C,R,W){switch(y>>>30){case 3:fo(A,C,R,W,0);break;case 2:cn(A,C,R,W);break;case 1:Jr(A,C,R,W)}}function Tc(y,A){var C,R,W=A.M,K=A.Nb,ee=y.oc,se=y.pc+40,ae=y.oc,he=y.pc+584,ye=y.oc,Pe=y.pc+600;for(C=0;16>C;++C)ee[se+32*C-1]=129;for(C=0;8>C;++C)ae[he+32*C-1]=129,ye[Pe+32*C-1]=129;for(0<W?ee[se-1-32]=ae[he-1-32]=ye[Pe-1-32]=129:(r(ee,se-32-1,127,21),r(ae,he-32-1,127,9),r(ye,Pe-32-1,127,9)),R=0;R<y.za;++R){var Ne=A.ya[A.aa+R];if(0<R){for(C=-1;16>C;++C)n(ee,se+32*C-4,ee,se+32*C+12,4);for(C=-1;8>C;++C)n(ae,he+32*C-4,ae,he+32*C+4,4),n(ye,Pe+32*C-4,ye,Pe+32*C+4,4)}var Le=y.Gd,Ue=y.Hd+R,Fe=Ne.ad,xe=Ne.Hc;if(0<W&&(n(ee,se-32,Le[Ue].y,0,16),n(ae,he-32,Le[Ue].f,0,8),n(ye,Pe-32,Le[Ue].ea,0,8)),Ne.Za){var Se=ee,De=se-32+16;for(0<W&&(R>=y.za-1?r(Se,De,Le[Ue].y[15],4):n(Se,De,Le[Ue+1].y,0,4)),C=0;4>C;C++)Se[De+128+C]=Se[De+256+C]=Se[De+384+C]=Se[De+0+C];for(C=0;16>C;++C,xe<<=2)Se=ee,De=se+Em[C],Rs[Ne.Ob[C]](Se,De),hd(xe,Fe,16*+C,Se,De)}else if(Se=dl(R,W,Ne.Ob[0]),gi[Se](ee,se),xe!=0)for(C=0;16>C;++C,xe<<=2)hd(xe,Fe,16*+C,ee,se+Em[C]);for(C=Ne.Gc,Se=dl(R,W,Ne.Dd),Ii[Se](ae,he),Ii[Se](ye,Pe),xe=Fe,Se=ae,De=he,255&(Ne=C>>0)&&(170&Ne?po(xe,256,Se,De):os(xe,256,Se,De)),Ne=ye,xe=Pe,255&(C>>=8)&&(170&C?po(Fe,320,Ne,xe):os(Fe,320,Ne,xe)),W<y.Ub-1&&(n(Le[Ue].y,0,ee,se+480,16),n(Le[Ue].f,0,ae,he+224,8),n(Le[Ue].ea,0,ye,Pe+224,8)),C=8*K*y.B,Le=y.sa,Ue=y.ta+16*R+16*K*y.R,Fe=y.qa,Ne=y.ra+8*R+C,xe=y.Ha,Se=y.Ia+8*R+C,C=0;16>C;++C)n(Le,Ue+C*y.R,ee,se+32*C,16);for(C=0;8>C;++C)n(Fe,Ne+C*y.B,ae,he+32*C,8),n(xe,Se+C*y.B,ye,Pe+32*C,8)}}function pu(y,A,C,R,W,K,ee,se,ae){var he=[0],ye=[0],Pe=0,Ne=ae!=null?ae.kd:0,Le=ae??new cl;if(y==null||12>C)return 7;Le.data=y,Le.w=A,Le.ha=C,A=[A],C=[C],Le.gb=[Le.gb];e:{var Ue=A,Fe=C,xe=Le.gb;if(e(y!=null),e(Fe!=null),e(xe!=null),xe[0]=0,12<=Fe[0]&&!t(y,Ue[0],"RIFF")){if(t(y,Ue[0]+8,"WEBP")){xe=3;break e}var Se=Je(y,Ue[0]+4);if(12>Se||4294967286<Se){xe=3;break e}if(Ne&&Se>Fe[0]-8){xe=7;break e}xe[0]=Se,Ue[0]+=12,Fe[0]-=12}xe=0}if(xe!=0)return xe;for(Se=0<Le.gb[0],C=C[0];;){e:{var De=y;Fe=A,xe=C;var Oe=he,Be=ye,ot=Ue=[0];if((nt=Pe=[Pe])[0]=0,8>xe[0])xe=7;else{if(!t(De,Fe[0],"VP8X")){if(Je(De,Fe[0]+4)!=10){xe=3;break e}if(18>xe[0]){xe=7;break e}var tt=Je(De,Fe[0]+8),Lt=1+Xe(De,Fe[0]+12);if(2147483648<=Lt*(De=1+Xe(De,Fe[0]+15))){xe=3;break e}ot!=null&&(ot[0]=tt),Oe!=null&&(Oe[0]=Lt),Be!=null&&(Be[0]=De),Fe[0]+=18,xe[0]-=18,nt[0]=1}xe=0}}if(Pe=Pe[0],Ue=Ue[0],xe!=0)return xe;if(Fe=!!(2&Ue),!Se&&Pe)return 3;if(K!=null&&(K[0]=!!(16&Ue)),ee!=null&&(ee[0]=Fe),se!=null&&(se[0]=0),ee=he[0],Ue=ye[0],Pe&&Fe&&ae==null){xe=0;break}if(4>C){xe=7;break}if(Se&&Pe||!Se&&!Pe&&!t(y,A[0],"ALPH")){C=[C],Le.na=[Le.na],Le.P=[Le.P],Le.Sa=[Le.Sa];e:{tt=y,xe=A,Se=C;var nt=Le.gb;Oe=Le.na,Be=Le.P,ot=Le.Sa,Lt=22,e(tt!=null),e(Se!=null),De=xe[0];var on=Se[0];for(e(Oe!=null),e(ot!=null),Oe[0]=null,Be[0]=null,ot[0]=0;;){if(xe[0]=De,Se[0]=on,8>on){xe=7;break e}var ln=Je(tt,De+4);if(4294967286<ln){xe=3;break e}var rn=8+ln+1&-2;if(Lt+=rn,0<nt&&Lt>nt){xe=3;break e}if(!t(tt,De,"VP8 ")||!t(tt,De,"VP8L")){xe=0;break e}if(on[0]<rn){xe=7;break e}t(tt,De,"ALPH")||(Oe[0]=tt,Be[0]=De+8,ot[0]=ln),De+=rn,on-=rn}}if(C=C[0],Le.na=Le.na[0],Le.P=Le.P[0],Le.Sa=Le.Sa[0],xe!=0)break}C=[C],Le.Ja=[Le.Ja],Le.xa=[Le.xa];e:if(nt=y,xe=A,Se=C,Oe=Le.gb[0],Be=Le.Ja,ot=Le.xa,tt=xe[0],De=!t(nt,tt,"VP8 "),Lt=!t(nt,tt,"VP8L"),e(nt!=null),e(Se!=null),e(Be!=null),e(ot!=null),8>Se[0])xe=7;else{if(De||Lt){if(nt=Je(nt,tt+4),12<=Oe&&nt>Oe-12){xe=3;break e}if(Ne&&nt>Se[0]-8){xe=7;break e}Be[0]=nt,xe[0]+=8,Se[0]-=8,ot[0]=Lt}else ot[0]=5<=Se[0]&&nt[tt+0]==47&&!(nt[tt+4]>>5),Be[0]=Se[0];xe=0}if(C=C[0],Le.Ja=Le.Ja[0],Le.xa=Le.xa[0],A=A[0],xe!=0)break;if(4294967286<Le.Ja)return 3;if(se==null||Fe||(se[0]=Le.xa?2:1),ee=[ee],Ue=[Ue],Le.xa){if(5>C){xe=7;break}se=ee,Ne=Ue,Fe=K,y==null||5>C?y=0:5<=C&&y[A+0]==47&&!(y[A+4]>>5)?(Se=[0],nt=[0],Oe=[0],G(Be=new k,y,A,C),Et(Be,Se,nt,Oe)?(se!=null&&(se[0]=Se[0]),Ne!=null&&(Ne[0]=nt[0]),Fe!=null&&(Fe[0]=Oe[0]),y=1):y=0):y=0}else{if(10>C){xe=7;break}se=Ue,y==null||10>C||!cp(y,A+3,C-3)?y=0:(Ne=y[A+0]|y[A+1]<<8|y[A+2]<<16,Fe=16383&(y[A+7]<<8|y[A+6]),y=16383&(y[A+9]<<8|y[A+8]),1&Ne||3<(Ne>>1&7)||!(Ne>>4&1)||Ne>>5>=Le.Ja||!Fe||!y?y=0:(ee&&(ee[0]=Fe),se&&(se[0]=y),y=1))}if(!y||(ee=ee[0],Ue=Ue[0],Pe&&(he[0]!=ee||ye[0]!=Ue)))return 3;ae!=null&&(ae[0]=Le,ae.offset=A-ae.w,e(4294967286>A-ae.w),e(ae.offset==ae.ha-C));break}return xe==0||xe==7&&Pe&&ae==null?(K!=null&&(K[0]|=Le.na!=null&&0<Le.na.length),R!=null&&(R[0]=ee),W!=null&&(W[0]=Ue),0):xe}function Ic(y,A,C){var R=A.width,W=A.height,K=0,ee=0,se=R,ae=W;if(A.Da=y!=null&&0<y.Da,A.Da&&(se=y.cd,ae=y.bd,K=y.v,ee=y.j,11>C||(K&=-2,ee&=-2),0>K||0>ee||0>=se||0>=ae||K+se>R||ee+ae>W))return 0;if(A.v=K,A.j=ee,A.va=K+se,A.o=ee+ae,A.U=se,A.T=ae,A.da=y!=null&&0<y.da,A.da){if(!lt(se,ae,C=[y.ib],K=[y.hb]))return 0;A.ib=C[0],A.hb=K[0]}return A.ob=y!=null&&y.ob,A.Kb=y==null||!y.Sd,A.da&&(A.ob=A.ib<3*R/4&&A.hb<3*W/4,A.Kb=0),1}function Rc(y){if(y==null)return 2;if(11>y.S){var A=y.f.RGBA;A.fb+=(y.height-1)*A.A,A.A=-A.A}else A=y.f.kb,y=y.height,A.O+=(y-1)*A.fa,A.fa=-A.fa,A.N+=(y-1>>1)*A.Ab,A.Ab=-A.Ab,A.W+=(y-1>>1)*A.Db,A.Db=-A.Db,A.F!=null&&(A.J+=(y-1)*A.lb,A.lb=-A.lb);return 0}function gu(y,A,C,R){if(R==null||0>=y||0>=A)return 2;if(C!=null){if(C.Da){var W=C.cd,K=C.bd,ee=-2&C.v,se=-2&C.j;if(0>ee||0>se||0>=W||0>=K||ee+W>y||se+K>A)return 2;y=W,A=K}if(C.da){if(!lt(y,A,W=[C.ib],K=[C.hb]))return 2;y=W[0],A=K[0]}}R.width=y,R.height=A;e:{var ae=R.width,he=R.height;if(y=R.S,0>=ae||0>=he||!(y>=yp&&13>y))y=2;else{if(0>=R.Rd&&R.sd==null){ee=K=W=A=0;var ye=(se=ae*xd[y])*he;if(11>y||(K=(he+1)/2*(A=(ae+1)/2),y==12&&(ee=(W=ae)*he)),(he=s(ye+2*K+ee))==null){y=1;break e}R.sd=he,11>y?((ae=R.f.RGBA).eb=he,ae.fb=0,ae.A=se,ae.size=ye):((ae=R.f.kb).y=he,ae.O=0,ae.fa=se,ae.Fd=ye,ae.f=he,ae.N=0+ye,ae.Ab=A,ae.Cd=K,ae.ea=he,ae.W=0+ye+K,ae.Db=A,ae.Ed=K,y==12&&(ae.F=he,ae.J=0+ye+2*K),ae.Tc=ee,ae.lb=W)}if(A=1,W=R.S,K=R.width,ee=R.height,W>=yp&&13>W)if(11>W)y=R.f.RGBA,A&=(se=Math.abs(y.A))*(ee-1)+K<=y.size,A&=se>=K*xd[W],A&=y.eb!=null;else{y=R.f.kb,se=(K+1)/2,ye=(ee+1)/2,ae=Math.abs(y.fa),he=Math.abs(y.Ab);var Pe=Math.abs(y.Db),Ne=Math.abs(y.lb),Le=Ne*(ee-1)+K;A&=ae*(ee-1)+K<=y.Fd,A&=he*(ye-1)+se<=y.Cd,A=(A&=Pe*(ye-1)+se<=y.Ed)&ae>=K&he>=se&Pe>=se,A&=y.y!=null,A&=y.f!=null,A&=y.ea!=null,W==12&&(A&=Ne>=K,A&=Le<=y.Tc,A&=y.F!=null)}else A=0;y=A?0:2}}return y!=0||C!=null&&C.fd&&(y=Rc(R)),y}var er=64,Fc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Mc=24,Oc=32,Dc=8,hi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];We("Predictor0","PredictorAdd0"),T.Predictor0=function(){return 4278190080},T.Predictor1=function(y){return y},T.Predictor2=function(y,A,C){return A[C+0]},T.Predictor3=function(y,A,C){return A[C+1]},T.Predictor4=function(y,A,C){return A[C-1]},T.Predictor5=function(y,A,C){return Ke(Ke(y,A[C+1]),A[C+0])},T.Predictor6=function(y,A,C){return Ke(y,A[C-1])},T.Predictor7=function(y,A,C){return Ke(y,A[C+0])},T.Predictor8=function(y,A,C){return Ke(A[C-1],A[C+0])},T.Predictor9=function(y,A,C){return Ke(A[C+0],A[C+1])},T.Predictor10=function(y,A,C){return Ke(Ke(y,A[C-1]),Ke(A[C+0],A[C+1]))},T.Predictor11=function(y,A,C){var R=A[C+0];return 0>=At(R>>24&255,y>>24&255,(A=A[C-1])>>24&255)+At(R>>16&255,y>>16&255,A>>16&255)+At(R>>8&255,y>>8&255,A>>8&255)+At(255&R,255&y,255&A)?R:y},T.Predictor12=function(y,A,C){var R=A[C+0];return(rt((y>>24&255)+(R>>24&255)-((A=A[C-1])>>24&255))<<24|rt((y>>16&255)+(R>>16&255)-(A>>16&255))<<16|rt((y>>8&255)+(R>>8&255)-(A>>8&255))<<8|rt((255&y)+(255&R)-(255&A)))>>>0},T.Predictor13=function(y,A,C){var R=A[C-1];return(at((y=Ke(y,A[C+0]))>>24&255,R>>24&255)<<24|at(y>>16&255,R>>16&255)<<16|at(y>>8&255,R>>8&255)<<8|at(y>>0&255,R>>0&255))>>>0};var mu=T.PredictorAdd0;T.PredictorAdd1=Rt,We("Predictor2","PredictorAdd2"),We("Predictor3","PredictorAdd3"),We("Predictor4","PredictorAdd4"),We("Predictor5","PredictorAdd5"),We("Predictor6","PredictorAdd6"),We("Predictor7","PredictorAdd7"),We("Predictor8","PredictorAdd8"),We("Predictor9","PredictorAdd9"),We("Predictor10","PredictorAdd10"),We("Predictor11","PredictorAdd11"),We("Predictor12","PredictorAdd12"),We("Predictor13","PredictorAdd13");var uo=T.PredictorAdd2;wt("ColorIndexInverseTransform","MapARGB","32b",function(y){return y>>8&255},function(y){return y}),wt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(y){return y},function(y){return y>>8&255});var vp,di=T.ColorIndexInverseTransform,jc=T.MapARGB,dd=T.VP8LColorIndexInverseTransformAlpha,Bc=T.MapAlpha,Oa=T.VP8LPredictorsAdd=[];Oa.length=16,(T.VP8LPredictors=[]).length=16,(T.VP8LPredictorsAdd_C=[]).length=16,(T.VP8LPredictors_C=[]).length=16;var fl,fi,Qr,pl,co,ho,zc,fo,cn,po,Jr,os,vu,fd,yu,wu,bu,ls,go,Da,mo,vo,gl,zr,Ti,Pn,An,tr,fr=s(511),ja=s(2041),Uc=s(225),Au=s(767),pd=0,Ba=ja,Hc=Uc,pi=Au,Is=fr,yp=0,ml=1,n2=2,gd=3,md=4,Nn=5,wp=6,$c=7,xu=8,vd=9,yd=10,wd=[2,3,7],bp=[3,3,11],Su=[280,256,256,256,40],r2=[0,1,1,1,0],Hv=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],$v=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],i2=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ap=8,qc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],bd=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],_u=null,Am=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],xm=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],s2=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],a2=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],qv=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Wv=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Sm=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],gi=[],Rs=[],Ii=[],za=1,Wc=2,Zr=[],Ri=[];Me("UpsampleRgbLinePair",nn,3),Me("UpsampleBgrLinePair",Gn,3),Me("UpsampleRgbaLinePair",aa,4),Me("UpsampleBgraLinePair",Ir,4),Me("UpsampleArgbLinePair",Kr,4),Me("UpsampleRgba4444LinePair",dr,2),Me("UpsampleRgb565LinePair",Zn,2);var Vv=T.UpsampleRgbLinePair,Gv=T.UpsampleBgrLinePair,vl=T.UpsampleRgbaLinePair,Vc=T.UpsampleBgraLinePair,Eu=T.UpsampleArgbLinePair,Ad=T.UpsampleRgba4444LinePair,_m=T.UpsampleRgb565LinePair,yo=16,oa=1<<yo-1,xn=-227,En=482,yl=6,Ur=0,Fi=s(256),Lu=s(256),Gc=s(256),Mi=s(256),xp=s(En-xn),o2=s(En-xn);Ts("YuvToRgbRow",nn,3),Ts("YuvToBgrRow",Gn,3),Ts("YuvToRgbaRow",aa,4),Ts("YuvToBgraRow",Ir,4),Ts("YuvToArgbRow",Kr,4),Ts("YuvToRgba4444Row",dr,2),Ts("YuvToRgb565Row",Zn,2);var Em=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Cu=[0,2,8],l2=[8,7,6,4,4,2,2,2,1,1,1,1],wo=1;this.WebPDecodeRGBA=function(y,A,C,R,W){var K=ml,ee=new Ma,se=new Tr;ee.ba=se,se.S=K,se.width=[se.width],se.height=[se.height];var ae=se.width,he=se.height,ye=new Hn;if(ye==null||y==null)var Pe=2;else e(ye!=null),Pe=pu(y,A,C,ye.width,ye.height,ye.Pd,ye.Qd,ye.format,null);if(Pe!=0?ae=0:(ae!=null&&(ae[0]=ye.width[0]),he!=null&&(he[0]=ye.height[0]),ae=1),ae){se.width=se.width[0],se.height=se.height[0],R!=null&&(R[0]=se.width),W!=null&&(W[0]=se.height);e:{if(R=new yc,(W=new cl).data=y,W.w=A,W.ha=C,W.kd=1,A=[0],e(W!=null),((y=pu(W.data,W.w,W.ha,null,null,null,A,null,W))==0||y==7)&&A[0]&&(y=4),(A=y)==0){if(e(ee!=null),R.data=W.data,R.w=W.w+W.offset,R.ha=W.ha-W.offset,R.put=hr,R.ac=Rn,R.bc=Js,R.ma=ee,W.xa){if((y=rs())==null){ee=1;break e}if(function(Ne,Le){var Ue=[0],Fe=[0],xe=[0];t:for(;;){if(Ne==null)return 0;if(Le==null)return Ne.a=2,0;if(Ne.l=Le,Ne.a=0,G(Ne.m,Le.data,Le.w,Le.ha),!Et(Ne.m,Ue,Fe,xe)){Ne.a=3;break t}if(Ne.xb=Wc,Le.width=Ue[0],Le.height=Fe[0],!ka(Ue[0],Fe[0],1,Ne,null))break t;return 1}return e(Ne.a!=0),0}(y,R)){if(R=(A=gu(R.width,R.height,ee.Oa,ee.ba))==0){t:{R=y;n:for(;;){if(R==null){R=0;break t}if(e(R.s.yc!=null),e(R.s.Ya!=null),e(0<R.s.Wb),e((C=R.l)!=null),e((W=C.ma)!=null),R.xb!=0){if(R.ca=W.ba,R.tb=W.tb,e(R.ca!=null),!Ic(W.Oa,C,gd)){R.a=2;break n}if(!tl(R,C.width)||C.da)break n;if((C.da||Qt(R.ca.S))&&Ce(),11>R.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),R.ca.f.kb.F!=null&&Ce()),R.Pb&&0<R.s.ua&&R.s.vb.X==null&&!pt(R.s.vb,R.s.Wa.Xa)){R.a=1;break n}R.xb=0}if(!Br(R,R.V,R.Ba,R.c,R.i,C.o,el))break n;W.Dc=R.Ma,R=1;break t}e(R.a!=0),R=0}R=!R}R&&(A=y.a)}else A=y.a}else{if((y=new is)==null){ee=1;break e}if(y.Fa=W.na,y.P=W.P,y.qc=W.Sa,hp(y,R)){if((A=gu(R.width,R.height,ee.Oa,ee.ba))==0){if(y.Aa=0,C=ee.Oa,e((W=y)!=null),C!=null){if(0<(ae=0>(ae=C.Md)?0:100<ae?255:255*ae/100)){for(he=ye=0;4>he;++he)12>(Pe=W.pb[he]).lc&&(Pe.ia=ae*l2[0>Pe.lc?0:Pe.lc]>>3),ye|=Pe.ia;ye&&(alert("todo:VP8InitRandom"),W.ia=1)}W.Ga=C.Id,100<W.Ga?W.Ga=100:0>W.Ga&&(W.Ga=0)}su(y,R)||(A=y.a)}}else A=y.a}A==0&&ee.Oa!=null&&ee.Oa.fd&&(A=Rc(ee.ba))}ee=A}K=ee!=0?null:11>K?se.f.RGBA.eb:se.f.kb.y}else K=null;return K};var xd=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(T,D){for(var J="",I=0;I<4;I++)J+=String.fromCharCode(T[D++]);return J}function h(T,D){return(T[D+0]<<0|T[D+1]<<8|T[D+2]<<16)>>>0}function f(T,D){return(T[D+0]<<0|T[D+1]<<8|T[D+2]<<16|T[D+3]<<24)>>>0}new c;var v=[0],g=[0],b=[],x=new c,E=i,S=function(T,D){var J={},I=0,O=!1,X=0,U=0;if(J.frames=[],!function(Y,te,re,de){for(var me=0;me<de;me++)if(Y[te+me]!=re.charCodeAt(me))return!0;return!1}(T,D,"RIFF",4)){var ce,B;for(f(T,D+=4),D+=8;D<T.length;){var j=d(T,D),G=f(T,D+=4);D+=4;var ie=G+(1&G);switch(j){case"VP8 ":case"VP8L":J.frames[I]===void 0&&(J.frames[I]={}),(k=J.frames[I]).src_off=O?U:D-8,k.src_size=X+G+8,I++,O&&(O=!1,X=0,U=0);break;case"VP8X":(k=J.header={}).feature_flags=T[D];var le=D+4;k.canvas_width=1+h(T,le),le+=3,k.canvas_height=1+h(T,le),le+=3;break;case"ALPH":O=!0,X=ie+8,U=D-8;break;case"ANIM":(k=J.header).bgcolor=f(T,D),le=D+4,k.loop_count=(ce=T)[(B=le)+0]<<0|ce[B+1]<<8,le+=2;break;case"ANMF":var ue,k;(k=J.frames[I]={}).offset_x=2*h(T,D),D+=3,k.offset_y=2*h(T,D),D+=3,k.width=1+h(T,D),D+=3,k.height=1+h(T,D),D+=3,k.duration=h(T,D),D+=3,ue=T[D++],k.dispose=1&ue,k.blend=ue>>1&1}j!="ANMF"&&(D+=ie)}return J}}(E,0);S.response=E,S.rgbaoutput=!0,S.dataurl=!1;var P=S.header?S.header:null,F=S.frames?S.frames:null;if(P){P.loop_counter=P.loop_count,v=[P.canvas_height],g=[P.canvas_width];for(var M=0;M<F.length&&F[M].blend!=0;M++);}var $=F[0],H=x.WebPDecodeRGBA(E,$.src_off,$.src_size,g,v);$.rgba=H,$.imgwidth=g[0],$.imgheight=v[0];for(var q=0;q<g[0]*v[0]*4;q++)b[q]=H[q];return this.width=g,this.height=v,this.data=b,this}(function(i){var e=function(){return typeof Pw=="function"},t=function(v,g,b,x){var E=4,S=o;switch(x){case i.image_compression.FAST:E=1,S=s;break;case i.image_compression.MEDIUM:E=6,S=l;break;case i.image_compression.SLOW:E=9,S=c}v=n(v,g,b,S);var P=Pw(v,{level:E});return i.__addimage__.arrayBufferToBinaryString(P)},n=function(v,g,b,x){for(var E,S,P,F=v.length/g,M=new Uint8Array(v.length+F),$=h(),H=0;H<F;H+=1){if(P=H*g,E=v.subarray(P,P+g),x)M.set(x(E,b,S),P+H);else{for(var q,T=$.length,D=[];q<T;q+=1)D[q]=$[q](E,b,S);var J=f(D.concat());M.set(D[J],P+H)}S=E}return M},r=function(v){var g=Array.apply([],v);return g.unshift(0),g},s=function(v,g){var b,x=[],E=v.length;x[0]=1;for(var S=0;S<E;S+=1)b=v[S-g]||0,x[S+1]=v[S]-b+256&255;return x},o=function(v,g,b){var x,E=[],S=v.length;E[0]=2;for(var P=0;P<S;P+=1)x=b&&b[P]||0,E[P+1]=v[P]-x+256&255;return E},l=function(v,g,b){var x,E,S=[],P=v.length;S[0]=3;for(var F=0;F<P;F+=1)x=v[F-g]||0,E=b&&b[F]||0,S[F+1]=v[F]+256-(x+E>>>1)&255;return S},c=function(v,g,b){var x,E,S,P,F=[],M=v.length;F[0]=4;for(var $=0;$<M;$+=1)x=v[$-g]||0,E=b&&b[$]||0,S=b&&b[$-g]||0,P=d(x,E,S),F[$+1]=v[$]-P+256&255;return F},d=function(v,g,b){if(v===g&&g===b)return v;var x=Math.abs(g-b),E=Math.abs(v-b),S=Math.abs(v+g-b-b);return x<=E&&x<=S?v:E<=S?g:b},h=function(){return[r,s,o,l,c]},f=function(v){var g=v.map(function(b){return b.reduce(function(x,E){return x+Math.abs(E)},0)});return g.indexOf(Math.min.apply(null,g))};i.processPNG=function(v,g,b,x){var E,S,P,F,M,$,H,q,T,D,J,I,O,X,U,ce=this.decode.FLATE_DECODE,B="";if(this.__addimage__.isArrayBuffer(v)&&(v=new Uint8Array(v)),this.__addimage__.isArrayBufferView(v)){if(v=(P=new eT(v)).imgData,S=P.bits,E=P.colorSpace,M=P.colors,[4,6].indexOf(P.colorType)!==-1){if(P.bits===8){T=(q=P.pixelBitlength==32?new Uint32Array(P.decodePixels().buffer):P.pixelBitlength==16?new Uint16Array(P.decodePixels().buffer):new Uint8Array(P.decodePixels().buffer)).length,J=new Uint8Array(T*P.colors),D=new Uint8Array(T);var j,G=P.pixelBitlength-P.bits;for(X=0,U=0;X<T;X++){for(O=q[X],j=0;j<G;)J[U++]=O>>>j&255,j+=P.bits;D[X]=O>>>j&255}}if(P.bits===16){T=(q=new Uint32Array(P.decodePixels().buffer)).length,J=new Uint8Array(T*(32/P.pixelBitlength)*P.colors),D=new Uint8Array(T*(32/P.pixelBitlength)),I=P.colors>1,X=0,U=0;for(var ie=0;X<T;)O=q[X++],J[U++]=O>>>0&255,I&&(J[U++]=O>>>16&255,O=q[X++],J[U++]=O>>>0&255),D[ie++]=O>>>16&255;S=8}x!==i.image_compression.NONE&&e()?(v=t(J,P.width*P.colors,P.colors,x),H=t(D,P.width,1,x)):(v=J,H=D,ce=void 0)}if(P.colorType===3&&(E=this.color_spaces.INDEXED,$=P.palette,P.transparency.indexed)){var le=P.transparency.indexed,ue=0;for(X=0,T=le.length;X<T;++X)ue+=le[X];if((ue/=255)===T-1&&le.indexOf(0)!==-1)F=[le.indexOf(0)];else if(ue!==T){for(q=P.decodePixels(),D=new Uint8Array(q.length),X=0,T=q.length;X<T;X++)D[X]=le[q[X]];H=t(D,P.width,1)}}var k=function(Y){var te;switch(Y){case i.image_compression.FAST:te=11;break;case i.image_compression.MEDIUM:te=13;break;case i.image_compression.SLOW:te=14;break;default:te=12}return te}(x);return ce===this.decode.FLATE_DECODE&&(B="/Predictor "+k+" "),B+="/Colors "+M+" /BitsPerComponent "+S+" /Columns "+P.width,(this.__addimage__.isArrayBuffer(v)||this.__addimage__.isArrayBufferView(v))&&(v=this.__addimage__.arrayBufferToBinaryString(v)),(H&&this.__addimage__.isArrayBuffer(H)||this.__addimage__.isArrayBufferView(H))&&(H=this.__addimage__.arrayBufferToBinaryString(H)),{alias:b,data:v,index:g,filter:ce,decodeParameters:B,transparency:F,palette:$,sMask:H,predictor:k,width:P.width,height:P.height,bitsPerComponent:S,colorSpace:E}}}})(Mt.API),function(i){i.processGIF89A=function(e,t,n,r){var s=new tT(e),o=s.width,l=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:o,height:l},h=new ew(100).encode(d,100);return i.processJPEG.call(this,h,t,n,r)},i.processGIF87A=i.processGIF89A}(Mt.API),ko.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var i=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(i);for(var e=0;e<i;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:r,green:n,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ko.prototype.parseBGR=function(){this.pos=this.offset;try{var i="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[i]()}catch(t){Dn.log("bit decode error:"+t)}},ko.prototype.bit1=function(){var i,e=Math.ceil(this.width/8),t=e%4;for(i=this.height-1;i>=0;i--){for(var n=this.bottom_up?i:this.height-1-i,r=0;r<e;r++)for(var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*r*4,l=0;l<8&&8*r+l<this.width;l++){var c=this.palette[s>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}t!==0&&(this.pos+=4-t)}},ko.prototype.bit4=function(){for(var i=Math.ceil(this.width/2),e=i%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<i;r++){var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*r*4,l=s>>4,c=15&s,d=this.palette[l];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*r+1>=this.width)break;d=this.palette[c],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},ko.prototype.bit8=function(){for(var i=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;if(r<this.palette.length){var o=this.palette[r];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}i!==0&&(this.pos+=4-i)}},ko.prototype.bit15=function(){for(var i=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,l=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,d=s>>15?255:0,h=n*this.width*4+4*r;this.data[h]=c,this.data[h+1]=l,this.data[h+2]=o,this.data[h+3]=d}this.pos+=i}},ko.prototype.bit16=function(){for(var i=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,c=(o>>5&t)/t*255|0,d=(o>>11)/e*255|0,h=r*this.width*4+4*s;this.data[h]=d,this.data[h+1]=c,this.data[h+2]=l,this.data[h+3]=255}this.pos+=i}},ko.prototype.bit24=function(){for(var i=this.height-1;i>=0;i--){for(var e=this.bottom_up?i:this.height-1-i,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=r,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},ko.prototype.bit32=function(){for(var i=this.height-1;i>=0;i--)for(var e=this.bottom_up?i:this.height-1-i,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=s,this.data[l+1]=r,this.data[l+2]=n,this.data[l+3]=o}},ko.prototype.getData=function(){return this.data},function(i){i.processBMP=function(e,t,n,r){var s=new ko(e,!1),o=s.width,l=s.height,c={data:s.getData(),width:o,height:l},d=new ew(100).encode(c,100);return i.processJPEG.call(this,d,t,n,r)}}(Mt.API),Z3.prototype.getData=function(){return this.data},function(i){i.processWEBP=function(e,t,n,r){var s=new Z3(e),o=s.width,l=s.height,c={data:s.getData(),width:o,height:l},d=new ew(100).encode(c,100);return i.processJPEG.call(this,d,t,n,r)}}(Mt.API),Mt.API.processRGBA=function(i,e,t){for(var n=i.data,r=n.length,s=new Uint8Array(r/4*3),o=new Uint8Array(r/4),l=0,c=0,d=0;d<r;d+=4){var h=n[d],f=n[d+1],v=n[d+2],g=n[d+3];s[l++]=h,s[l++]=f,s[l++]=v,o[c++]=g}var b=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:b,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:i.width,height:i.height}},Mt.API.setLanguage=function(i){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[i]!==void 0&&(this.internal.languageSettings.languageCode=i,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},zp=Mt.API,H2=zp.getCharWidthsArray=function(i,e){var t,n,r=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:r.metadata.Unicode.widths,c=l.fof?l.fof:1,d=e.kerning?e.kerning:r.metadata.Unicode.kerning,h=d.fof?d.fof:1,f=e.doKerning!==!1,v=0,g=i.length,b=0,x=l[0]||c,E=[];for(t=0;t<g;t++)n=i.charCodeAt(t),typeof r.metadata.widthOfString=="function"?E.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(n))+o*(1e3/s)||0)/1e3):(v=f&&In(d[n])==="object"&&!isNaN(parseInt(d[n][b],10))?d[n][b]/h:0,E.push((l[n]||x)/c+v)),b=n;return E},Y3=zp.getStringUnitWidth=function(i,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),r=e.charSpace||this.internal.getCharSpace();return zp.processArabic&&(i=zp.processArabic(i)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(i,t,r)/t:H2.apply(this,arguments).reduce(function(s,o){return s+o},0)},K3=function(i,e,t,n){for(var r=[],s=0,o=i.length,l=0;s!==o&&l+e[s]<t;)l+=e[s],s++;r.push(i.slice(0,s));var c=s;for(l=0;s!==o;)l+e[s]>n&&(r.push(i.slice(c,s)),l=0,c=s),l+=e[s],s++;return c!==s&&r.push(i.slice(c,s)),r},Q3=function(i,e,t){t||(t={});var n,r,s,o,l,c,d,h=[],f=[h],v=t.textIndent||0,g=0,b=0,x=i.split(" "),E=H2.apply(this,[" ",t])[0];if(c=t.lineIndent===-1?x[0].length+2:t.lineIndent||0){var S=Array(c).join(" "),P=[];x.map(function(M){(M=M.split(/\s*\n/)).length>1?P=P.concat(M.map(function($,H){return(H&&$.length?`
`:"")+$})):P.push(M[0])}),x=P,c=Y3.apply(this,[S,t])}for(s=0,o=x.length;s<o;s++){var F=0;if(n=x[s],c&&n[0]==`
`&&(n=n.substr(1),F=1),v+g+(b=(r=H2.apply(this,[n,t])).reduce(function(M,$){return M+$},0))>e||F){if(b>e){for(l=K3.apply(this,[n,r,e-(v+g),e]),h.push(l.shift()),h=[l.pop()];l.length;)f.push([l.shift()]);b=r.slice(n.length-(h[0]?h[0].length:0)).reduce(function(M,$){return M+$},0)}else h=[n];f.push(h),v=b+c,g=E}else h.push(n),v+=g+b,g=E}return d=c?function(M,$){return($?S:"")+M.join(" ")}:function(M){return M.join(" ")},f.map(d)},zp.splitTextToSize=function(i,e,t){var n,r=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var f=this.internal.getFont(h.fontName,h.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);n=Array.isArray(i)?i:String(i).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/r;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/r:0,s.lineIndent=t.lineIndent;var l,c,d=[];for(l=0,c=n.length;l<c;l++)d=d.concat(Q3.apply(this,[n[l],o,s]));return d},function(i){i.__fontmetrics__=i.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},n={},r=0;r<e.length;r++)t[e[r]]="0123456789abcdef"[r],n["0123456789abcdef"[r]]=e[r];var s=function(f){return"0x"+parseInt(f,10).toString(16)},o=i.__fontmetrics__.compress=function(f){var v,g,b,x,E=["{"];for(var S in f){if(v=f[S],isNaN(parseInt(S,10))?g="'"+S+"'":(S=parseInt(S,10),g=(g=s(S).slice(2)).slice(0,-1)+n[g.slice(-1)]),typeof v=="number")v<0?(b=s(v).slice(3),x="-"):(b=s(v).slice(2),x=""),b=x+b.slice(0,-1)+n[b.slice(-1)];else{if(In(v)!=="object")throw new Error("Don't know what to do with value type "+In(v)+".");b=o(v)}E.push(g+b)}return E.push("}"),E.join("")},l=i.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var v,g,b,x,E={},S=1,P=E,F=[],M="",$="",H=f.length-1,q=1;q<H;q+=1)(x=f[q])=="'"?v?(b=v.join(""),v=void 0):v=[]:v?v.push(x):x=="{"?(F.push([P,b]),P={},b=void 0):x=="}"?((g=F.pop())[0][g[1]]=P,b=void 0,P=g[0]):x=="-"?S=-1:b===void 0?t.hasOwnProperty(x)?(M+=t[x],b=parseInt(M,16)*S,S=1,M=""):M+=x:t.hasOwnProperty(x)?($+=t[x],P[b]=parseInt($,16)*S,S=1,b=void 0,$=""):$+=x;return E},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},h={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};i.events.push(["addFont",function(f){var v=f.font,g=h.Unicode[v.postScriptName];g&&(v.metadata.Unicode={},v.metadata.Unicode.widths=g.widths,v.metadata.Unicode.kerning=g.kerning);var b=d.Unicode[v.postScriptName];b&&(v.metadata.Unicode.encoding=b,v.encoding=b.codePages[0])}])}(Mt.API),function(i){var e=function(t){for(var n=t.length,r=new Uint8Array(n),s=0;s<n;s++)r[s]=t.charCodeAt(s);return r};i.API.events.push(["addFont",function(t){var n=void 0,r=t.font,s=t.instance;if(!r.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(n=s.existsFileInVFS(r.postScriptName)===!1?s.loadFile(r.postScriptName):s.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(c1(l)),o.metadata=i.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(r,n)}}])}(Mt),function(i){function e(){return(Ot.canvg?Promise.resolve(Ot.canvg):Sw(()=>import("./index.es-38fyG3o9.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}Mt.API.addSvgAsImage=function(t,n,r,s,o,l,c,d){if(isNaN(n)||isNaN(r))throw Dn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Dn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=s,h.height=o;var f=h.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,h.width,h.height);var v={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return e().then(function(b){return b.fromString(f,t,v)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(b){return b.render(v)}).then(function(){g.addImage(h.toDataURL("image/jpeg",1),n,r,s,o,c,d)})}}(),Mt.API.putTotalPages=function(i){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(i,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(i,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var r=0;r<this.internal.pages[n].length;r++)this.internal.pages[n][r]=this.internal.pages[n][r].replace(e,t);return this},Mt.API.viewerPreferences=function(i,e){var t;i=i||{},e=e||!1;var n,r,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],d=0,h=0,f=0;function v(b,x){var E,S=!1;for(E=0;E<b.length;E+=1)b[E]===x&&(S=!0);return S}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,i==="reset"||e===!0){var g=l.length;for(f=0;f<g;f+=1)t[l[f]].value=t[l[f]].defaultValue,t[l[f]].explicitSet=!1}if(In(i)==="object"){for(r in i)if(s=i[r],v(l,r)&&s!==void 0){if(t[r].type==="boolean"&&typeof s=="boolean")t[r].value=s;else if(t[r].type==="name"&&v(t[r].valueSet,s))t[r].value=s;else if(t[r].type==="integer"&&Number.isInteger(s))t[r].value=s;else if(t[r].type==="array"){for(d=0;d<s.length;d+=1)if(n=!0,s[d].length===1&&typeof s[d][0]=="number")c.push(String(s[d]-1));else if(s[d].length>1){for(h=0;h<s[d].length;h+=1)typeof s[d][h]!="number"&&(n=!1);n===!0&&c.push([s[d][0]-1,s[d][1]-1].join(" "))}t[r].value="["+c.join(" ")+"]"}else t[r].value=t[r].defaultValue;t[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,x=[];for(b in t)t[b].explicitSet===!0&&(t[b].type==="name"?x.push("/"+b+" /"+t[b].value):x.push("/"+b+" "+t[b].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(i){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=s.length+o.length+l.length+r.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(r+s+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};i.addMetadata=function(n,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(Mt.API),function(i){var e=i.API,t=e.pdfEscape16=function(s,o){for(var l,c=o.metadata.Unicode.widths,d=["","0","00","000","0000"],h=[""],f=0,v=s.length;f<v;++f){if(l=o.metadata.characterToGlyph(s.charCodeAt(f)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=s.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return h.join("");l=l.toString(16),h.push(d[4-l.length],l)}return h.join("")},n=function(s){var o,l,c,d,h,f,v;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,v=(l=Object.keys(s).sort(function(g,b){return g-b})).length;f<v;f++)o=l[f],c.length>=100&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(d=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+d+">"));return c.length&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var l=o.font,c=o.out,d=o.newObject,h=o.putStream;if(l.metadata instanceof i.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,v=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),g="",b=0;b<v.length;b++)g+=String.fromCharCode(v[b]);var x=d();h({data:g,addLength1:!0,objectId:x}),c("endobj");var E=d();h({data:n(l.metadata.toUnicode),addLength1:!0,objectId:E}),c("endobj");var S=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Hp(l.fontName)),c("/FontFile2 "+x+" 0 R"),c("/FontBBox "+i.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var P=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+Hp(l.fontName)),c("/FontDescriptor "+S+" 0 R"),c("/W "+i.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+E+" 0 R"),c("/BaseFont /"+Hp(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+P+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var l=o.font,c=o.out,d=o.newObject,h=o.putStream;if(l.metadata instanceof i.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,v="",g=0;g<f.length;g++)v+=String.fromCharCode(f[g]);var b=d();h({data:v,addLength1:!0,objectId:b}),c("endobj");var x=d();h({data:n(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var E=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+b+" 0 R"),c("/Flags 96"),c("/FontBBox "+i.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+Hp(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var S=0;S<l.metadata.hmtx.widths.length;S++)l.metadata.hmtx.widths[S]=parseInt(l.metadata.hmtx.widths[S]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+Hp(l.fontName)+"/FontDescriptor "+E+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+i.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]);var r=function(s){var o,l=s.text||"",c=s.x,d=s.y,h=s.options||{},f=s.mutex||{},v=f.pdfEscape,g=f.activeFontKey,b=f.fonts,x=g,E="",S=0,P="",F=b[x].encoding;if(b[x].encoding!=="Identity-H")return{text:l,x:c,y:d,options:h,mutex:f};for(P=l,x=g,Array.isArray(l)&&(P=l[0]),S=0;S<P.length;S+=1)b[x].metadata.hasOwnProperty("cmap")&&(o=b[x].metadata.cmap.unicode.codeMap[P[S].charCodeAt(0)]),o||P[S].charCodeAt(0)<256&&b[x].metadata.hasOwnProperty("Unicode")?E+=P[S]:E+="";var M="";return parseInt(x.slice(1))<14||F==="WinAnsiEncoding"?M=v(E,x).split("").map(function($){return $.charCodeAt(0).toString(16)}).join(""):F==="Identity-H"&&(M=t(E,b[x])),f.isHex=!0,{text:M,x:c,y:d,options:h,mutex:f}};e.events.push(["postProcessText",function(s){var o=s.text||"",l=[],c={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?l.push([r(Object.assign({},c,{text:o[d][0]})).text,o[d][1],o[d][2]]):l.push(r(Object.assign({},c,{text:o[d]})).text);s.text=l}else s.text=r(Object.assign({},c,{text:o})).text}])}(Mt),function(i){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};i.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},i.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},i.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(Mt.API),function(i){i.__bidiEngine__=i.prototype.__bidiEngine__=function(n){var r,s,o,l,c,d,h,f=e,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},E=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],S=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),P=!1,F=0;this.__bidiEngine__={};var M=function(I){var O=I.charCodeAt(),X=O>>8,U=x[X];return U!==void 0?f[256*U+(255&O)]:X===252||X===253?"AL":S.test(X)?"L":X===8?"R":"N"},$=function(I){for(var O,X=0;X<I.length;X++){if((O=M(I.charAt(X)))==="L")return!1;if(O==="R")return!0}return!1},H=function(I,O,X,U){var ce,B,j,G,ie=O[U];switch(ie){case"L":case"R":P=!1;break;case"N":case"AN":break;case"EN":P&&(ie="AN");break;case"AL":P=!0,ie="R";break;case"WS":ie="N";break;case"CS":U<1||U+1>=O.length||(ce=X[U-1])!=="EN"&&ce!=="AN"||(B=O[U+1])!=="EN"&&B!=="AN"?ie="N":P&&(B="AN"),ie=B===ce?B:"N";break;case"ES":ie=(ce=U>0?X[U-1]:"B")==="EN"&&U+1<O.length&&O[U+1]==="EN"?"EN":"N";break;case"ET":if(U>0&&X[U-1]==="EN"){ie="EN";break}if(P){ie="N";break}for(j=U+1,G=O.length;j<G&&O[j]==="ET";)j++;ie=j<G&&O[j]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(G=O.length,j=U+1;j<G&&O[j]==="NSM";)j++;if(j<G){var le=I[U],ue=le>=1425&&le<=2303||le===64286;if(ce=O[j],ue&&(ce==="R"||ce==="AL")){ie="R";break}}}ie=U<1||(ce=O[U-1])==="B"?"N":X[U-1];break;case"B":P=!1,r=!0,ie=F;break;case"S":s=!0,ie="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":P=!1;break;case"BN":ie="N"}return ie},q=function(I,O,X){var U=I.split("");return X&&T(U,X,{hiLevel:F}),U.reverse(),O&&O.reverse(),U.join("")},T=function(I,O,X){var U,ce,B,j,G,ie=-1,le=I.length,ue=0,k=[],Y=F?g:v,te=[];for(P=!1,r=!1,s=!1,ce=0;ce<le;ce++)te[ce]=M(I[ce]);for(B=0;B<le;B++){if(G=ue,k[B]=H(I,te,k,B),U=240&(ue=Y[G][b[k[B]]]),ue&=15,O[B]=j=Y[ue][5],U>0)if(U===16){for(ce=ie;ce<B;ce++)O[ce]=1;ie=-1}else ie=-1;if(Y[ue][6])ie===-1&&(ie=B);else if(ie>-1){for(ce=ie;ce<B;ce++)O[ce]=j;ie=-1}te[B]==="B"&&(O[B]=0),X.hiLevel|=j}s&&function(re,de,me){for(var we=0;we<me;we++)if(re[we]==="S"){de[we]=F;for(var _e=we-1;_e>=0&&re[_e]==="WS";_e--)de[_e]=F}}(te,O,le)},D=function(I,O,X,U,ce){if(!(ce.hiLevel<I)){if(I===1&&F===1&&!r)return O.reverse(),void(X&&X.reverse());for(var B,j,G,ie,le=O.length,ue=0;ue<le;){if(U[ue]>=I){for(G=ue+1;G<le&&U[G]>=I;)G++;for(ie=ue,j=G-1;ie<j;ie++,j--)B=O[ie],O[ie]=O[j],O[j]=B,X&&(B=X[ie],X[ie]=X[j],X[j]=B);ue=G}ue++}}},J=function(I,O,X){var U=I.split(""),ce={hiLevel:F};return X||(X=[]),T(U,X,ce),function(B,j,G){if(G.hiLevel!==0&&h)for(var ie,le=0;le<B.length;le++)j[le]===1&&(ie=E.indexOf(B[le]))>=0&&(B[le]=E[ie+1])}(U,X,ce),D(2,U,O,X,ce),D(1,U,O,X,ce),U.join("")};return this.__bidiEngine__.doBidiReorder=function(I,O,X){if(function(ce,B){if(B)for(var j=0;j<ce.length;j++)B[j]=j;l===void 0&&(l=$(ce)),d===void 0&&(d=$(ce))}(I,O),o||!c||d)if(o&&c&&l^d)F=l?1:0,I=q(I,O,X);else if(!o&&c&&d)F=l?1:0,I=J(I,O,X),I=q(I,O);else if(!o||l||c||d){if(o&&!c&&l^d)I=q(I,O),l?(F=0,I=J(I,O,X)):(F=1,I=J(I,O,X),I=q(I,O));else if(o&&l&&!c&&d)F=1,I=J(I,O,X),I=q(I,O);else if(!o&&!c&&l^d){var U=h;l?(F=1,I=J(I,O,X),F=0,h=!1,I=J(I,O,X),h=U):(F=0,I=J(I,O,X),I=q(I,O),F=1,h=!1,I=J(I,O,X),h=U,I=q(I,O))}}else F=0,I=J(I,O,X);else F=l?1:0,I=J(I,O,X);return I},this.__bidiEngine__.setOptions=function(I){I&&(o=I.isInputVisual,c=I.isOutputVisual,l=I.isInputRtl,d=I.isOutputRtl,h=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new i.__bidiEngine__({isInputVisual:!0});i.API.events.push(["postProcessText",function(n){var r=n.text,s=(n.x,n.y,n.options||{}),o=(n.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(r)==="[object Array]"){var l=0;for(o=[],l=0;l<r.length;l+=1)Object.prototype.toString.call(r[l])==="[object Array]"?o.push([t.doBidiReorder(r[l][0]),r[l][1],r[l][2]]):o.push([t.doBidiReorder(r[l])]);n.text=o}else n.text=t.doBidiReorder(r);t.setOptions({isInputVisual:!0})}])}(Mt),Mt.API.TTFFont=function(){function i(e){var t;if(this.rawData=e,t=this.contents=new Xh(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new mT(this),this.registerTTF()}return i.open=function(e){return new i(e)},i.prototype.parse=function(){return this.directory=new nT(this.contents),this.head=new iT(this),this.name=new uT(this),this.cmap=new h_(this),this.toUnicode={},this.hhea=new sT(this),this.maxp=new cT(this),this.hmtx=new hT(this),this.post=new oT(this),this.os2=new aT(this),this.loca=new gT(this),this.glyf=new dT(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},i.prototype.registerTTF=function(){var e,t,n,r,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,d;for(d=[],o=0,l=(c=this.bbox).length;o<l;o++)e=c[o],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),32768&(t=r>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},i.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},i.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},i.prototype.widthOfString=function(e,t,n){var r,s,o,l;for(o=0,s=0,l=(e=""+e).length;0<=l?s<l:s>l;s=0<=l?++s:--s)r=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/t)||0;return o*(t/1e3)},i.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},i}();var Zo,Xh=function(){function i(e){this.data=e??[],this.pos=0,this.length=this.data.length}return i.prototype.readByte=function(){return this.data[this.pos++]},i.prototype.writeByte=function(e){return this.data[this.pos++]=e},i.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},i.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},i.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},i.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},i.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},i.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},i.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},i.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},i.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},i.prototype.writeString=function(e){var t,n,r;for(r=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},i.prototype.readShort=function(){return this.readInt16()},i.prototype.writeShort=function(e){return this.writeInt16(e)},i.prototype.readLongLong=function(){var e,t,n,r,s,o,l,c;return e=this.readByte(),t=this.readByte(),n=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^s)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*r+16777216*s+65536*o+256*l+c},i.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},i.prototype.readInt=function(){return this.readInt32()},i.prototype.writeInt=function(e){return this.writeInt32(e)},i.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},i.prototype.write=function(e){var t,n,r,s;for(s=[],n=0,r=e.length;n<r;n++)t=e[n],s.push(this.writeByte(t));return s},i}(),nT=function(){var i;function e(t){var n,r,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},r=0,s=this.tableCount;0<=s?r<s:r>s;r=0<=s?++r:--r)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,r,s,o,l,c,d,h,f,v,g,b,x;for(x in g=Object.keys(t).length,c=Math.log(2),f=16*Math.floor(Math.log(g)/c),o=Math.floor(f/c),h=16*g-f,(r=new Xh).writeInt(this.scalarType),r.writeShort(g),r.writeShort(f),r.writeShort(o),r.writeShort(h),s=16*g,d=r.pos+s,l=null,b=[],t)for(v=t[x],r.writeString(x),r.writeInt(i(v)),r.writeInt(d),r.writeInt(v.length),b=b.concat(v),x==="head"&&(l=d),d+=v.length;d%4;)b.push(0),d++;return r.write(b),n=2981146554-i(r.data),r.pos=l+8,r.writeUInt32(n),r.data},i=function(t){var n,r,s,o;for(t=d_.call(t);t.length%4;)t.push(0);for(s=new Xh(t),r=0,n=0,o=t.length;n<o;n=n+=4)r+=s.readUInt32();return 4294967295&r},e}(),rT={}.hasOwnProperty,Zl=function(i,e){for(var t in e)rT.call(e,t)&&(i[t]=e[t]);function n(){this.constructor=i}return n.prototype=e.prototype,i.prototype=new n,i.__super__=e.prototype,i};Zo=function(){function i(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return i.prototype.parse=function(){},i.prototype.encode=function(){},i.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},i}();var iT=function(i){function e(){return e.__super__.constructor.apply(this,arguments)}return Zl(e,Zo),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new Xh).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e}(),eS=function(){function i(e,t){var n,r,s,o,l,c,d,h,f,v,g,b,x,E,S,P,F;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(g=e.readUInt16(),v=g/2,e.pos+=6,s=function(){var M,$;for($=[],c=M=0;0<=v?M<v:M>v;c=0<=v?++M:--M)$.push(e.readUInt16());return $}(),e.pos+=2,x=function(){var M,$;for($=[],c=M=0;0<=v?M<v:M>v;c=0<=v?++M:--M)$.push(e.readUInt16());return $}(),d=function(){var M,$;for($=[],c=M=0;0<=v?M<v:M>v;c=0<=v?++M:--M)$.push(e.readUInt16());return $}(),h=function(){var M,$;for($=[],c=M=0;0<=v?M<v:M>v;c=0<=v?++M:--M)$.push(e.readUInt16());return $}(),r=(this.length-e.pos+this.offset)/2,l=function(){var M,$;for($=[],c=M=0;0<=r?M<r:M>r;c=0<=r?++M:--M)$.push(e.readUInt16());return $}(),c=S=0,F=s.length;S<F;c=++S)for(E=s[c],n=P=b=x[c];b<=E?P<=E:P>=E;n=b<=E?++P:--P)h[c]===0?o=n+d[c]:(o=l[h[c]/2+(n-b)-(v-c)]||0)!==0&&(o+=d[c]),this.codeMap[n]=65535&o}e.pos=f}return i.encode=function(e,t){var n,r,s,o,l,c,d,h,f,v,g,b,x,E,S,P,F,M,$,H,q,T,D,J,I,O,X,U,ce,B,j,G,ie,le,ue,k,Y,te,re,de,me,we,_e,je,ze,Xe;switch(U=new Xh,o=Object.keys(e).sort(function(Je,pt){return Je-pt}),t){case"macroman":for(x=0,E=function(){var Je=[];for(b=0;b<256;++b)Je.push(0);return Je}(),P={0:0},s={},ce=0,ie=o.length;ce<ie;ce++)P[_e=e[r=o[ce]]]==null&&(P[_e]=++x),s[r]={old:e[r],new:P[e[r]]},E[r]=P[e[r]];return U.writeUInt16(1),U.writeUInt16(0),U.writeUInt32(12),U.writeUInt16(0),U.writeUInt16(262),U.writeUInt16(0),U.write(E),{charMap:s,subtable:U.data,maxGlyphID:x+1};case"unicode":for(O=[],f=[],F=0,P={},n={},S=d=null,B=0,le=o.length;B<le;B++)P[$=e[r=o[B]]]==null&&(P[$]=++F),n[r]={old:$,new:P[$]},l=P[$]-r,S!=null&&l===d||(S&&f.push(S),O.push(r),d=l),S=r;for(S&&f.push(S),f.push(65535),O.push(65535),J=2*(D=O.length),T=2*Math.pow(Math.log(D)/Math.LN2,2),v=Math.log(T/2)/Math.LN2,q=2*D-T,c=[],H=[],g=[],b=j=0,ue=O.length;j<ue;b=++j){if(I=O[b],h=f[b],I===65535){c.push(0),H.push(0);break}if(I-(X=n[I].new)>=32768)for(c.push(0),H.push(2*(g.length+D-b)),r=G=I;I<=h?G<=h:G>=h;r=I<=h?++G:--G)g.push(n[r].new);else c.push(X-I),H.push(0)}for(U.writeUInt16(3),U.writeUInt16(1),U.writeUInt32(12),U.writeUInt16(4),U.writeUInt16(16+8*D+2*g.length),U.writeUInt16(0),U.writeUInt16(J),U.writeUInt16(T),U.writeUInt16(v),U.writeUInt16(q),me=0,k=f.length;me<k;me++)r=f[me],U.writeUInt16(r);for(U.writeUInt16(0),we=0,Y=O.length;we<Y;we++)r=O[we],U.writeUInt16(r);for(je=0,te=c.length;je<te;je++)l=c[je],U.writeUInt16(l);for(ze=0,re=H.length;ze<re;ze++)M=H[ze],U.writeUInt16(M);for(Xe=0,de=g.length;Xe<de;Xe++)x=g[Xe],U.writeUInt16(x);return{charMap:n,subtable:U.data,maxGlyphID:F+1}}},i}(),h_=function(i){function e(){return e.__super__.constructor.apply(this,arguments)}return Zl(e,Zo),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,r,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)n=new eS(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var r,s;return n==null&&(n="macroman"),r=eS.encode(t,n),(s=new Xh).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},e}(),sT=function(i){function e(){return e.__super__.constructor.apply(this,arguments)}return Zl(e,Zo),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),aT=function(i){function e(){return e.__super__.constructor.apply(this,arguments)}return Zl(e,Zo),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(t.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(t.readInt());return r}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(t.readInt());return r}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),oT=function(i){function e(){return e.__super__.constructor.apply(this,arguments)}return Zl(e,Zo),e.prototype.tag="post",e.prototype.parse=function(t){var n,r,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var o;for(r=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)n=t.readByte(),s.push(this.names.push(t.readString(n)));return s;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 196608:break;case 262144:return this.map=(function(){var l,c,d;for(d=[],o=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;o=0<=c?++l:--l)d.push(t.readUInt32());return d}).call(this)}},e}(),lT=function(i,e){this.raw=i,this.length=i.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},uT=function(i){function e(){return e.__super__.constructor.apply(this,arguments)}return Zl(e,Zo),e.prototype.tag="name",e.prototype.parse=function(t){var n,r,s,o,l,c,d,h,f,v,g;for(t.pos=this.offset,t.readShort(),n=t.readShort(),c=t.readShort(),r=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+c+t.readShort()});for(d={},o=f=0,v=r.length;f<v;o=++f)s=r[o],t.pos=s.offset,h=t.readString(s.length),l=new lT(h,s),d[g=s.nameID]==null&&(d[g]=[]),d[s.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},e}(),cT=function(i){function e(){return e.__super__.constructor.apply(this,arguments)}return Zl(e,Zo),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),hT=function(i){function e(){return e.__super__.constructor.apply(this,arguments)}return Zl(e,Zo),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,r,s,o,l,c,d;for(t.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,f;for(f=[],n=h=0;0<=s?h<s:h>s;n=0<=s?++h:--h)f.push(t.readInt16());return f}(),this.widths=(function(){var h,f,v,g;for(g=[],h=0,f=(v=this.metrics).length;h<f;h++)o=v[h],g.push(o.advance);return g}).call(this),r=this.widths[this.widths.length-1],d=[],n=l=0;0<=s?l<s:l>s;n=0<=s?++l:--l)d.push(this.widths.push(r));return d},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),d_=[].slice,dT=function(i){function e(){return e.__super__.constructor.apply(this,arguments)}return Zl(e,Zo),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,r,s,o,l,c,d,h,f,v;return t in this.cache?this.cache[t]:(o=this.file.loca,n=this.file.contents,r=o.indexOf(t),(s=o.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+r,l=(c=new Xh(n.read(s))).readShort(),h=c.readShort(),v=c.readShort(),d=c.readShort(),f=c.readShort(),this.cache[t]=l===-1?new pT(c,h,v,d,f):new fT(c,l,h,v,d,f),this.cache[t]))},e.prototype.encode=function(t,n,r){var s,o,l,c,d;for(l=[],o=[],c=0,d=n.length;c<d;c++)s=t[n[c]],o.push(l.length),s&&(l=l.concat(s.encode(r)));return o.push(l.length),{table:l,offsets:o}},e}(),fT=function(){function i(e,t,n,r,s,o){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=r,this.xMax=s,this.yMax=o,this.compound=!1}return i.prototype.encode=function(){return this.raw.data},i}(),pT=function(){function i(e,t,n,r,s){var o,l;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=r,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return i.prototype.encode=function(){var e,t,n;for(t=new Xh(d_.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},i}(),gT=function(i){function e(){return e.__super__.constructor.apply(this,arguments)}return Zl(e,Zo),e.prototype.tag="loca",e.prototype.parse=function(t){var n,r;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=2)o.push(2*t.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=4)o.push(t.readUInt32());return o}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var r=new Uint32Array(this.offsets.length),s=0,o=0,l=0;l<r.length;++l)if(r[l]=s,o<n.length&&n[o]==l){++o,r[l]=s;var c=this.offsets[l],d=this.offsets[l+1]-c;d>0&&(s+=d)}for(var h=new Array(4*r.length),f=0;f<r.length;++f)h[4*f+3]=255&r[f],h[4*f+2]=(65280&r[f])>>8,h[4*f+1]=(16711680&r[f])>>16,h[4*f]=(4278190080&r[f])>>24;return h},e}(),mT=function(){function i(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return i.prototype.generateCmap=function(){var e,t,n,r,s;for(t in r=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[t],e[t]=r[n];return e},i.prototype.glyphsFor=function(e){var t,n,r,s,o,l,c;for(r={},o=0,l=e.length;o<l;o++)r[s=e[o]]=this.font.glyf.glyphFor(s);for(s in t=[],r)(n=r[s])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(s in c=this.glyphsFor(t))n=c[s],r[s]=n;return r},i.prototype.encode=function(e,t){var n,r,s,o,l,c,d,h,f,v,g,b,x,E,S;for(r in n=h_.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),g={0:0},S=n.charMap)g[(c=S[r]).old]=c.new;for(b in v=n.maxGlyphID,o)b in g||(g[b]=v++);return h=function(P){var F,M;for(F in M={},P)M[P[F]]=F;return M}(g),f=Object.keys(h).sort(function(P,F){return P-F}),x=function(){var P,F,M;for(M=[],P=0,F=f.length;P<F;P++)l=f[P],M.push(h[l]);return M}(),s=this.font.glyf.encode(o,x,g),d=this.font.loca.encode(s.offsets,x),E={cmap:this.font.cmap.raw(),glyf:s.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(E["OS/2"]=this.font.os2.raw()),this.font.directory.encode(E)},i}();Mt.API.PDFObject=function(){var i;function e(){}return i=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,r,s,o;if(Array.isArray(t))return"["+function(){var l,c,d;for(d=[],l=0,c=t.length;l<c;l++)n=t[l],d.push(e.convert(n));return d}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+i(t.getUTCFullYear(),4)+i(t.getUTCMonth(),2)+i(t.getUTCDate(),2)+i(t.getUTCHours(),2)+i(t.getUTCMinutes(),2)+i(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(r in s=["<<"],t)o=t[r],s.push("/"+r+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+t},e}();const vT=()=>{const[i,e]=oe.useState([]),[t,n]=oe.useState([]),r=d=>{const h=Array.from(d.target.files);e(h),n(h.map(f=>URL.createObjectURL(f)))},s=d=>{d.preventDefault()},o=d=>{d.preventDefault();const h=Array.from(d.dataTransfer.files);e(h),n(h.map(f=>URL.createObjectURL(f)))},l=()=>{if(i.length===0)return;const d=new Mt;i.forEach((h,f)=>{const v=new Image;v.src=URL.createObjectURL(h),v.onload=()=>{const g=d.internal.pageSize.getWidth(),b=d.internal.pageSize.getHeight();let x=v.width,E=v.height;const S=Math.min(g/x,b/E);x*=S,E*=S,f>0&&d.addPage(),d.addImage(v,"JPEG",(g-x)/2,(b-E)/2,x,E),f===i.length-1&&d.save("converted.pdf")}})},c=()=>{localStorage.removeItem("uploadedFiles"),e([]),n([])};return console.log(i,"upload file"),be.jsxs("div",{className:"p-5",children:[be.jsx("h2",{className:"text-xl font-bold mb-4",children:"Convert Images to PDF"}),be.jsx("p",{children:"Support All Images & Multiple Img "}),be.jsx("div",{className:"flex justify-center items-center",children:i.length===0?be.jsxs("label",{htmlFor:"file-upload",className:"flex flex-col items-center justify-center w-90 h-60 border-2 border-dashed border-gray-300 rounded-xl shadow-lg cursor-pointer hover:bg-gray-100",onDragOver:s,onDrop:o,children:[be.jsxs("div",{className:"flex flex-col items-center justify-center p-5",children:[be.jsx(bv,{className:"text-5xl text-blue-500 mb-3"}),be.jsx("span",{className:"text-gray-600 text-lg font-semibold",children:"Upload Images"}),be.jsx("span",{className:"text-gray-400 text-sm mt-1",children:"or, drag and drop images here"})]}),be.jsx("input",{id:"file-upload",type:"file",accept:"image/*",multiple:!0,onChange:r,className:"hidden"})]}):be.jsxs("div",{className:"text-center",children:[be.jsx("div",{className:"grid grid-cols-3 gap-4 mb-4",children:t.map((d,h)=>be.jsx("img",{src:d,alt:"Preview",className:"w-32 h-auto rounded"},h))}),be.jsx("button",{onClick:l,className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-700",children:"Download PDF"}),be.jsx("button",{onClick:c,className:"mt-4 ml-4 px-4 py-2 bg-red-500 text-white rounded hover:bg-red-700",children:"Clear Storage"})]})})]})};var h1={};h1.d=(i,e)=>{for(var t in e)h1.o(e,t)&&!h1.o(i,t)&&Object.defineProperty(i,t,{enumerable:!0,get:e[t]})};h1.o=(i,e)=>Object.prototype.hasOwnProperty.call(i,e);var zt=globalThis.pdfjsLib={};h1.d(zt,{AbortException:()=>Yh,AnnotationEditorLayer:()=>$b,AnnotationEditorParamsType:()=>sn,AnnotationEditorType:()=>Gt,AnnotationEditorUIManager:()=>ep,AnnotationLayer:()=>d7,AnnotationMode:()=>ch,ColorPicker:()=>Q5,DOMSVGFactory:()=>NA,DrawLayer:()=>Vb,FeatureTest:()=>xs,GlobalWorkerOptions:()=>cc,ImageKind:()=>Z2,InvalidPDFException:()=>Ow,MissingPDFException:()=>w1,OPS:()=>Mo,OutputScale:()=>jw,PDFDataRangeTransport:()=>pE,PDFDateString:()=>EA,PDFWorker:()=>ag,PasswordResponses:()=>AT,PermissionFlag:()=>bT,PixelsPerInch:()=>Kh,RenderingCancelledException:()=>SA,TextLayer:()=>b1,TouchManager:()=>Y5,UnexpectedResponseException:()=>V5,Util:()=>St,VerbosityLevel:()=>Fv,XfaLayer:()=>mE,build:()=>VI,createValidAbsoluteUrl:()=>ET,fetchData:()=>jv,getDocument:()=>DI,getFilenameFromUrl:()=>FT,getPdfFilenameFromUrl:()=>MT,getXfaPageViewport:()=>OT,isDataScheme:()=>Bv,isPdfFile:()=>_A,noContextMenu:()=>Ko,normalizeUnicode:()=>TT,setLayerDimensions:()=>Zf,shadow:()=>en,stopEvent:()=>La,version:()=>WI});const ts=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),f_=[1,0,0,1,0,0],Mw=[.001,0,0,.001,0,0],yT=1e7,tw=1.35,_a={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},ch={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},wT="pdfjs_internal_editor_",Gt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},sn={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},bT={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},qi={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Z2={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},qr={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},Hm={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Fv={ERRORS:0,WARNINGS:1,INFOS:5},Mo={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},AT={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Mv=Fv.WARNINGS;function xT(i){Number.isInteger(i)&&(Mv=i)}function ST(){return Mv}function Ov(i){Mv>=Fv.INFOS&&console.log(`Info: ${i}`)}function Xt(i){Mv>=Fv.WARNINGS&&console.log(`Warning: ${i}`)}function jn(i){throw new Error(i)}function Mr(i,e){i||jn(e)}function _T(i){switch(i==null?void 0:i.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function ET(i,e=null,t=null){if(!i)return null;try{if(t&&typeof i=="string"){if(t.addDefaultProtocol&&i.startsWith("www.")){const r=i.match(/\./g);(r==null?void 0:r.length)>=2&&(i=`http://${i}`)}if(t.tryConvertEncoding)try{i=kT(i)}catch{}}const n=e?new URL(i,e):new URL(i);if(_T(n))return n}catch{}return null}function en(i,e,t,n=!1){return Object.defineProperty(i,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const Zh=function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class tS extends Zh{constructor(e,t){super(e,"PasswordException"),this.code=t}}class nw extends Zh{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Ow extends Zh{constructor(e){super(e,"InvalidPDFException")}}class w1 extends Zh{constructor(e){super(e,"MissingPDFException")}}class V5 extends Zh{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class LT extends Zh{constructor(e){super(e,"FormatError")}}class Yh extends Zh{constructor(e){super(e,"AbortException")}}function p_(i){(typeof i!="object"||(i==null?void 0:i.length)===void 0)&&jn("Invalid argument for bytesToString");const e=i.length,t=8192;if(e<t)return String.fromCharCode.apply(null,i);const n=[];for(let r=0;r<e;r+=t){const s=Math.min(r+t,e),o=i.subarray(r,s);n.push(String.fromCharCode.apply(null,o))}return n.join("")}function Dv(i){typeof i!="string"&&jn("Invalid argument for stringToBytes");const e=i.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=i.charCodeAt(n)&255;return t}function CT(i){return String.fromCharCode(i>>24&255,i>>16&255,i>>8&255,i&255)}function AA(i){const e=Object.create(null);for(const[t,n]of i)e[t]=n;return e}function PT(){const i=new Uint8Array(4);return i[0]=1,new Uint32Array(i.buffer,0,1)[0]===1}function NT(){try{return new Function(""),!0}catch{return!1}}class xs{static get isLittleEndian(){return en(this,"isLittleEndian",PT())}static get isEvalSupported(){return en(this,"isEvalSupported",NT())}static get isOffscreenCanvasSupported(){return en(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return en(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?en(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):en(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,t;return en(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const rw=Array.from(Array(256).keys(),i=>i.toString(16).padStart(2,"0"));var hc,e5,Dw;class St{static makeHexColor(e,t,n){return`#${rw[e]}${rw[t]}${rw[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const n=e[0]*t[0]+e[1]*t[2]+t[4],r=e[0]*t[1]+e[1]*t[3]+t[5];return[n,r]}static applyInverseTransform(e,t){const n=t[0]*t[3]-t[1]*t[2],r=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,s=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n;return[r,s]}static getAxialAlignedBoundingBox(e,t){const n=this.applyTransform(e,t),r=this.applyTransform(e.slice(2,4),t),s=this.applyTransform([e[0],e[3]],t),o=this.applyTransform([e[2],e[1]],t);return[Math.min(n[0],r[0],s[0],o[0]),Math.min(n[1],r[1],s[1],o[1]),Math.max(n[0],r[0],s[0],o[0]),Math.max(n[1],r[1],s[1],o[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],s=e[2]*t[0]+e[3]*t[2],o=e[2]*t[1]+e[3]*t[3],l=(n+o)/2,c=Math.sqrt((n+o)**2-4*(n*o-s*r))/2,d=l+c||1,h=l-c||1;return[Math.sqrt(d),Math.sqrt(h)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>r)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>o?null:[n,s,r,o]}static bezierBoundingBox(e,t,n,r,s,o,l,c,d){return d?(d[0]=Math.min(d[0],e,l),d[1]=Math.min(d[1],t,c),d[2]=Math.max(d[2],e,l),d[3]=Math.max(d[3],t,c)):d=[Math.min(e,l),Math.min(t,c),Math.max(e,l),Math.max(t,c)],ne(this,hc,Dw).call(this,e,n,s,l,t,r,o,c,3*(-e+3*(n-s)+l),6*(e-2*n+s),3*(n-e),d),ne(this,hc,Dw).call(this,e,n,s,l,t,r,o,c,3*(-t+3*(r-o)+c),6*(t-2*r+o),3*(r-t),d),d}}hc=new WeakSet,e5=function(e,t,n,r,s,o,l,c,d,h){if(d<=0||d>=1)return;const f=1-d,v=d*d,g=v*d,b=f*(f*(f*e+3*d*t)+3*v*n)+g*r,x=f*(f*(f*s+3*d*o)+3*v*l)+g*c;h[0]=Math.min(h[0],b),h[1]=Math.min(h[1],x),h[2]=Math.max(h[2],b),h[3]=Math.max(h[3],x)},Dw=function(e,t,n,r,s,o,l,c,d,h,f,v){if(Math.abs(d)<1e-12){Math.abs(h)>=1e-12&&ne(this,hc,e5).call(this,e,t,n,r,s,o,l,c,-f/h,v);return}const g=h**2-4*f*d;if(g<0)return;const b=Math.sqrt(g),x=2*d;ne(this,hc,e5).call(this,e,t,n,r,s,o,l,c,(-h+b)/x,v),ne(this,hc,e5).call(this,e,t,n,r,s,o,l,c,(-h-b)/x,v)},Z(St,hc);function kT(i){return decodeURIComponent(escape(i))}let iw=null,nS=null;function TT(i){return iw||(iw=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,nS=new Map([["ﬅ","ſt"]])),i.replaceAll(iw,(e,t,n)=>t?t.normalize("NFKC"):nS.get(n))}function IT(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const i=new Uint8Array(32);return crypto.getRandomValues(i),p_(i)}const xA="pdfjs_internal_id_";function RT(i){return Uint8Array.prototype.toBase64?i.toBase64():btoa(p_(i))}typeof Promise.try!="function"&&(Promise.try=function(i,...e){return new Promise(t=>{t(i(...e))})});const Fu="http://www.w3.org/2000/svg",Dd=class Dd{};Tt(Dd,"CSS",96),Tt(Dd,"PDF",72),Tt(Dd,"PDF_TO_CSS_UNITS",Dd.CSS/Dd.PDF);let Kh=Dd;async function jv(i,e="text"){if(Vm(i,document.baseURI)){const t=await fetch(i);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const r=new XMLHttpRequest;r.open("GET",i,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}n(new Error(r.statusText))}},r.send(null)})}class Z0{constructor({viewBox:e,userUnit:t,scale:n,rotation:r,offsetX:s=0,offsetY:o=0,dontFlip:l=!1}){this.viewBox=e,this.userUnit=t,this.scale=n,this.rotation=r,this.offsetX=s,this.offsetY=o,n*=t;const c=(e[2]+e[0])/2,d=(e[3]+e[1])/2;let h,f,v,g;switch(r%=360,r<0&&(r+=360),r){case 180:h=-1,f=0,v=0,g=1;break;case 90:h=0,f=1,v=1,g=0;break;case 270:h=0,f=-1,v=-1,g=0;break;case 0:h=1,f=0,v=0,g=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}l&&(v=-v,g=-g);let b,x,E,S;h===0?(b=Math.abs(d-e[1])*n+s,x=Math.abs(c-e[0])*n+o,E=(e[3]-e[1])*n,S=(e[2]-e[0])*n):(b=Math.abs(c-e[0])*n+s,x=Math.abs(d-e[1])*n+o,E=(e[2]-e[0])*n,S=(e[3]-e[1])*n),this.transform=[h*n,f*n,v*n,g*n,b-h*n*c-v*n*d,x-f*n*c-g*n*d],this.width=E,this.height=S}get rawDims(){const{userUnit:e,viewBox:t}=this,n=t.map(r=>r*e);return en(this,"rawDims",{pageWidth:n[2]-n[0],pageHeight:n[3]-n[1],pageX:n[0],pageY:n[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new Z0({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:s})}convertToViewportPoint(e,t){return St.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=St.applyTransform([e[0],e[1]],this.transform),n=St.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return St.applyInverseTransform([e,t],this.transform)}}class SA extends Zh{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Bv(i){const e=i.length;let t=0;for(;t<e&&i[t].trim()==="";)t++;return i.substring(t,t+5).toLowerCase()==="data:"}function _A(i){return typeof i=="string"&&/\.pdf$/i.test(i)}function FT(i){return[i]=i.split(/[#?]/,1),i.substring(i.lastIndexOf("/")+1)}function MT(i,e="document.pdf"){if(typeof i!="string")return e;if(Bv(i))return Xt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=t.exec(i);let s=n.exec(r[1])||n.exec(r[2])||n.exec(r[3]);if(s&&(s=s[0],s.includes("%")))try{s=n.exec(decodeURIComponent(s))[0]}catch{}return s||e}class rS{constructor(){Tt(this,"started",Object.create(null));Tt(this,"times",[])}time(e){e in this.started&&Xt(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Xt(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:r,end:s}of this.times)e.push(`${n.padEnd(t)} ${s-r}ms
`);return e.join("")}}function Vm(i,e){try{const{protocol:t}=e?new URL(i,e):new URL(i);return t==="http:"||t==="https:"}catch{return!1}}function Ko(i){i.preventDefault()}function La(i){i.preventDefault(),i.stopPropagation()}var x1;class EA{static toDateObject(e){if(!e||typeof e!="string")return null;p(this,x1)||z(this,x1,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=p(this,x1).exec(e);if(!t)return null;const n=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let l=parseInt(t[5],10);l=l>=0&&l<=59?l:0;let c=parseInt(t[6],10);c=c>=0&&c<=59?c:0;const d=t[7]||"Z";let h=parseInt(t[8],10);h=h>=0&&h<=23?h:0;let f=parseInt(t[9],10)||0;return f=f>=0&&f<=59?f:0,d==="-"?(o+=h,l+=f):d==="+"&&(o-=h,l-=f),new Date(Date.UTC(n,r,s,o,l,c))}}x1=new WeakMap,Z(EA,x1);function OT(i,{scale:e=1,rotation:t=0}){const{width:n,height:r}=i.attributes.style,s=[0,0,parseInt(n),parseInt(r)];return new Z0({viewBox:s,userUnit:1,scale:e,rotation:t})}function LA(i){if(i.startsWith("#")){const e=parseInt(i.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return i.startsWith("rgb(")?i.slice(4,-1).split(",").map(e=>parseInt(e)):i.startsWith("rgba(")?i.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Xt(`Not a valid color format: "${i}"`),[0,0,0])}function DT(i){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of i.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;i.set(t,LA(n))}e.remove()}function rr(i){const{a:e,b:t,c:n,d:r,e:s,f:o}=i.getTransform();return[e,t,n,r,s,o]}function Sl(i){const{a:e,b:t,c:n,d:r,e:s,f:o}=i.getTransform().invertSelf();return[e,t,n,r,s,o]}function Zf(i,e,t=!1,n=!0){if(e instanceof Z0){const{pageWidth:r,pageHeight:s}=e.rawDims,{style:o}=i,l=xs.isCSSRoundSupported,c=`var(--scale-factor) * ${r}px`,d=`var(--scale-factor) * ${s}px`,h=l?`round(down, ${c}, var(--scale-round-x, 1px))`:`calc(${c})`,f=l?`round(down, ${d}, var(--scale-round-y, 1px))`:`calc(${d})`;!t||e.rotation%180===0?(o.width=h,o.height=f):(o.width=f,o.height=h)}n&&i.setAttribute("data-main-rotation",e.rotation)}class jw{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var hh,Hd,Oo,$d,S1,_1,ev,g_,Ss,m_,v_,t5,y_,zw;const Du=class Du{constructor(e){Z(this,Ss);Z(this,hh,null);Z(this,Hd,null);Z(this,Oo);Z(this,$d,null);Z(this,S1,null);z(this,Oo,e),p(Du,_1)||z(Du,_1,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=z(this,hh,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=p(this,Oo)._uiManager._signal;e.addEventListener("contextmenu",Ko,{signal:t}),e.addEventListener("pointerdown",ne(Du,ev,g_),{signal:t});const n=z(this,$d,document.createElement("div"));n.className="buttons",e.append(n);const r=p(this,Oo).toolbarPosition;if(r){const{style:s}=e,o=p(this,Oo)._uiManager.direction==="ltr"?1-r[0]:r[0];s.insetInlineEnd=`${100*o}%`,s.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return ne(this,Ss,y_).call(this),e}get div(){return p(this,hh)}hide(){var e;p(this,hh).classList.add("hidden"),(e=p(this,Hd))==null||e.hideDropdown()}show(){var e;p(this,hh).classList.remove("hidden"),(e=p(this,S1))==null||e.shown()}async addAltText(e){const t=await e.render();ne(this,Ss,t5).call(this,t),p(this,$d).prepend(t,p(this,Ss,zw)),z(this,S1,e)}addColorPicker(e){z(this,Hd,e);const t=e.renderButton();ne(this,Ss,t5).call(this,t),p(this,$d).prepend(t,p(this,Ss,zw))}remove(){var e;p(this,hh).remove(),(e=p(this,Hd))==null||e.destroy(),z(this,Hd,null)}};hh=new WeakMap,Hd=new WeakMap,Oo=new WeakMap,$d=new WeakMap,S1=new WeakMap,_1=new WeakMap,ev=new WeakSet,g_=function(e){e.stopPropagation()},Ss=new WeakSet,m_=function(e){p(this,Oo)._focusEventsAllowed=!1,La(e)},v_=function(e){p(this,Oo)._focusEventsAllowed=!0,La(e)},t5=function(e){const t=p(this,Oo)._uiManager._signal;e.addEventListener("focusin",ne(this,Ss,m_).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",ne(this,Ss,v_).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Ko,{signal:t})},y_=function(){const{editorType:e,_uiManager:t}=p(this,Oo),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",p(Du,_1)[e]),ne(this,Ss,t5).call(this,n),n.addEventListener("click",r=>{t.delete()},{signal:t._signal}),p(this,$d).append(n)},zw=function(){const e=document.createElement("div");return e.className="divider",e},Z(Du,ev),Z(Du,_1,null);let Bw=Du;var E1,qd,Wd,Qh,w_,b_,A_;class jT{constructor(e){Z(this,Qh);Z(this,E1,null);Z(this,qd,null);Z(this,Wd);z(this,Wd,e)}show(e,t,n){const[r,s]=ne(this,Qh,b_).call(this,t,n),{style:o}=p(this,qd)||z(this,qd,ne(this,Qh,w_).call(this));e.append(p(this,qd)),o.insetInlineEnd=`${100*r}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){p(this,qd).remove()}}E1=new WeakMap,qd=new WeakMap,Wd=new WeakMap,Qh=new WeakSet,w_=function(){const e=z(this,qd,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Ko,{signal:p(this,Wd)._signal});const t=z(this,E1,document.createElement("div"));return t.className="buttons",e.append(t),ne(this,Qh,A_).call(this),e},b_=function(e,t){let n=0,r=0;for(const s of e){const o=s.y+s.height;if(o<n)continue;const l=s.x+(t?s.width:0);if(o>n){r=l,n=o;continue}t?l>r&&(r=l):l<r&&(r=l)}return[t?1-r:r,n]},A_=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=p(this,Wd)._signal;e.addEventListener("contextmenu",Ko,{signal:n}),e.addEventListener("click",()=>{p(this,Wd).highlightSelection("floating_button")},{signal:n}),p(this,E1).append(e)};function G5(i,e,t){for(const n of t)e.addEventListener(n,i[n].bind(i))}var tv;class BT{constructor(){Z(this,tv,0)}get id(){return`${wT}${gs(this,tv)._++}`}}tv=new WeakMap;var og,L1,Gi,lg,n5;const TA=class TA{constructor(){Z(this,lg);Z(this,og,IT());Z(this,L1,0);Z(this,Gi,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const s=r.decode().then(()=>(n.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return en(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:n,size:r,type:s}=e;return ne(this,lg,n5).call(this,`${t}_${n}_${r}_${s}`,e)}async getFromUrl(e){return ne(this,lg,n5).call(this,e,e)}async getFromBlob(e,t){const n=await t;return ne(this,lg,n5).call(this,e,n)}async getFromId(e){p(this,Gi)||z(this,Gi,new Map);const t=p(this,Gi).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){p(this,Gi)||z(this,Gi,new Map);let n=p(this,Gi).get(e);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const r=new OffscreenCanvas(t.width,t.height);return r.getContext("2d").drawImage(t,0,0),n={bitmap:r.transferToImageBitmap(),id:`image_${p(this,og)}_${gs(this,L1)._++}`,refCounter:1,isSvg:!1},p(this,Gi).set(e,n),p(this,Gi).set(n.id,n),n}getSvgUrl(e){const t=p(this,Gi).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var r;p(this,Gi)||z(this,Gi,new Map);const t=p(this,Gi).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:n}=t;if(!t.url&&!t.file){const s=new OffscreenCanvas(n.width,n.height);s.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=s.convertToBlob()}(r=n.close)==null||r.call(n),t.bitmap=null}isValidId(e){return e.startsWith(`image_${p(this,og)}_`)}};og=new WeakMap,L1=new WeakMap,Gi=new WeakMap,lg=new WeakSet,n5=async function(e,t){p(this,Gi)||z(this,Gi,new Map);let n=p(this,Gi).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${p(this,og)}_${gs(this,L1)._++}`,refCounter:0,isSvg:!1});let r;if(typeof t=="string"?(n.url=t,r=await jv(t,"blob")):t instanceof File?r=n.file=t:t instanceof Blob&&(r=t),r.type==="image/svg+xml"){const s=TA._isSVGFittingCanvas,o=new FileReader,l=new Image,c=new Promise((d,h)=>{l.onload=()=>{n.bitmap=l,n.isSvg=!0,d()},o.onload=async()=>{const f=n.svgUrl=o.result;l.src=await s?`${f}#svgView(preserveAspectRatio(none))`:f},l.onerror=o.onerror=h});o.readAsDataURL(r),await c}else n.bitmap=await createImageBitmap(r);n.refCounter=1}catch(r){Xt(r),n=null}return p(this,Gi).set(e,n),n&&p(this,Gi).set(n.id,n),n};let Uw=TA;var Er,dh,C1,lr;class zT{constructor(e=128){Z(this,Er,[]);Z(this,dh,!1);Z(this,C1);Z(this,lr,-1);z(this,C1,e)}add({cmd:e,undo:t,post:n,mustExec:r,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:l=!1}){if(r&&e(),p(this,dh))return;const c={cmd:e,undo:t,post:n,type:s};if(p(this,lr)===-1){p(this,Er).length>0&&(p(this,Er).length=0),z(this,lr,0),p(this,Er).push(c);return}if(o&&p(this,Er)[p(this,lr)].type===s){l&&(c.undo=p(this,Er)[p(this,lr)].undo),p(this,Er)[p(this,lr)]=c;return}const d=p(this,lr)+1;d===p(this,C1)?p(this,Er).splice(0,1):(z(this,lr,d),d<p(this,Er).length&&p(this,Er).splice(d)),p(this,Er).push(c)}undo(){if(p(this,lr)===-1)return;z(this,dh,!0);const{undo:e,post:t}=p(this,Er)[p(this,lr)];e(),t==null||t(),z(this,dh,!1),z(this,lr,p(this,lr)-1)}redo(){if(p(this,lr)<p(this,Er).length-1){z(this,lr,p(this,lr)+1),z(this,dh,!0);const{cmd:e,post:t}=p(this,Er)[p(this,lr)];e(),t==null||t(),z(this,dh,!1)}}hasSomethingToUndo(){return p(this,lr)!==-1}hasSomethingToRedo(){return p(this,lr)<p(this,Er).length-1}cleanType(e){if(p(this,lr)!==-1){for(let t=p(this,lr);t>=0;t--)if(p(this,Er)[t].type!==e){p(this,Er).splice(t+1,p(this,lr)-t),z(this,lr,t);return}p(this,Er).length=0,z(this,lr,-1)}}destroy(){z(this,Er,null)}}Er=new WeakMap,dh=new WeakMap,C1=new WeakMap,lr=new WeakMap;var nv,x_;class e2{constructor(e){Z(this,nv);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=xs.platform;for(const[n,r,s={}]of e)for(const o of n){const l=o.startsWith("mac+");t&&l?(this.callbacks.set(o.slice(4),{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1))):!t&&!l&&(this.callbacks.set(o,{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(ne(this,nv,x_).call(this,t));if(!n)return;const{callback:r,options:{bubbles:s=!1,args:o=[],checker:l=null}}=n;l&&!l(e,t)||(r.bind(e,...o,t)(),s||La(t))}}nv=new WeakSet,x_=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const rv=class rv{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return DT(e),en(this,"_colors",e)}convert(e){const t=LA(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,r]of this._colors)if(r.every((s,o)=>s===t[o]))return rv._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?St.makeHexColor(...t):e}};Tt(rv,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Hw=rv;var ug,da,Vr,wi,cg,Bu,hg,Xa,fh,Vd,dg,Gd,Cl,Do,Xd,P1,N1,fg,k1,Pl,ph,pg,gh,Nl,iv,mh,T1,vh,Yd,I1,R1,ii,kn,zu,Kd,F1,M1,yh,kl,Uu,O1,Ya,it,r5,$w,S_,__,i5,E_,L_,C_,qw,P_,Ww,Vw,N_,ms,Mu,k_,T_,Gw,I_,Gm,Xw;const Jp=class Jp{constructor(e,t,n,r,s,o,l,c,d,h,f,v,g){Z(this,it);Z(this,ug,new AbortController);Z(this,da,null);Z(this,Vr,new Map);Z(this,wi,new Map);Z(this,cg,null);Z(this,Bu,null);Z(this,hg,null);Z(this,Xa,new zT);Z(this,fh,null);Z(this,Vd,null);Z(this,dg,0);Z(this,Gd,new Set);Z(this,Cl,null);Z(this,Do,null);Z(this,Xd,new Set);Tt(this,"_editorUndoBar",null);Z(this,P1,!1);Z(this,N1,!1);Z(this,fg,!1);Z(this,k1,null);Z(this,Pl,null);Z(this,ph,null);Z(this,pg,null);Z(this,gh,!1);Z(this,Nl,null);Z(this,iv,new BT);Z(this,mh,!1);Z(this,T1,!1);Z(this,vh,null);Z(this,Yd,null);Z(this,I1,null);Z(this,R1,null);Z(this,ii,Gt.NONE);Z(this,kn,new Set);Z(this,zu,null);Z(this,Kd,null);Z(this,F1,null);Z(this,M1,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});Z(this,yh,[0,0]);Z(this,kl,null);Z(this,Uu,null);Z(this,O1,null);Z(this,Ya,null);const b=this._signal=p(this,ug).signal;z(this,Uu,e),z(this,O1,t),z(this,cg,n),this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:b}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:b}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:b}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:b}),r._on("setpreference",this.onSetPreference.bind(this),{signal:b}),r._on("switchannotationeditorparams",x=>this.updateParams(x.type,x.value),{signal:b}),ne(this,it,E_).call(this),ne(this,it,N_).call(this),ne(this,it,qw).call(this),z(this,Bu,s.annotationStorage),z(this,k1,s.filterFactory),z(this,Kd,o),z(this,pg,l||null),z(this,P1,c),z(this,N1,d),z(this,fg,h),z(this,R1,f||null),this.viewParameters={realScale:Kh.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=v||null,this._supportsPinchToZoom=g!==!1}static get _keyboardManager(){const e=Jp.prototype,t=o=>p(o,Uu).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),n=(o,{target:l})=>{if(l instanceof HTMLInputElement){const{type:c}=l;return c!=="text"&&c!=="number"}return!0},r=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return en(this,"_keyboardManager",new e2([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:l})=>!(l instanceof HTMLButtonElement)&&p(o,Uu).contains(l)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:l})=>!(l instanceof HTMLButtonElement)&&p(o,Uu).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,n,r,s;(e=p(this,Ya))==null||e.resolve(),z(this,Ya,null),(t=p(this,ug))==null||t.abort(),z(this,ug,null),this._signal=null;for(const o of p(this,wi).values())o.destroy();p(this,wi).clear(),p(this,Vr).clear(),p(this,Xd).clear(),z(this,da,null),p(this,kn).clear(),p(this,Xa).destroy(),(n=p(this,cg))==null||n.destroy(),(r=p(this,Nl))==null||r.hide(),z(this,Nl,null),p(this,Pl)&&(clearTimeout(p(this,Pl)),z(this,Pl,null)),p(this,kl)&&(clearTimeout(p(this,kl)),z(this,kl,null)),(s=this._editorUndoBar)==null||s.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return p(this,R1)}get useNewAltTextFlow(){return p(this,N1)}get useNewAltTextWhenAddingImage(){return p(this,fg)}get hcmFilter(){return en(this,"hcmFilter",p(this,Kd)?p(this,k1).addHCMFilter(p(this,Kd).foreground,p(this,Kd).background):"none")}get direction(){return en(this,"direction",getComputedStyle(p(this,Uu)).direction)}get highlightColors(){return en(this,"highlightColors",p(this,pg)?new Map(p(this,pg).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return en(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),z(this,Vd,e)}setMainHighlightColorPicker(e){z(this,I1,e)}editAltText(e,t=!1){var n;(n=p(this,cg))==null||n.editAltText(this,e,t)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":z(this,fg,t);break}}onPageChanging({pageNumber:e}){z(this,dg,e-1)}focusMainContainer(){p(this,Uu).focus()}findParent(e,t){for(const n of p(this,wi).values()){const{x:r,y:s,width:o,height:l}=n.div.getBoundingClientRect();if(e>=r&&e<=r+o&&t>=s&&t<=s+l)return n}return null}disableUserSelect(e=!1){p(this,O1).classList.toggle("noUserSelect",e)}addShouldRescale(e){p(this,Xd).add(e)}removeShouldRescale(e){p(this,Xd).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*Kh.PDF_TO_CSS_UNITS;for(const n of p(this,Xd))n.onScaleChanging();(t=p(this,Vd))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:o}=t,l=t.toString(),d=ne(this,it,r5).call(this,t).closest(".textLayer"),h=this.getSelectionBoxes(d);if(!h)return;t.empty();const f=ne(this,it,$w).call(this,d),v=p(this,ii)===Gt.NONE,g=()=>{f==null||f.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:o,text:l}),v&&this.showAllEditors("highlight",!0,!0)};if(v){this.switchToMode(Gt.HIGHLIGHT,g);return}g()}addToAnnotationStorage(e){!e.isEmpty()&&p(this,Bu)&&!p(this,Bu).has(e.id)&&p(this,Bu).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,p(this,gh)&&(z(this,gh,!1),ne(this,it,i5).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of p(this,kn))if(t.div.contains(e)){z(this,Yd,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!p(this,Yd))return;const[e,t]=p(this,Yd);z(this,Yd,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){ne(this,it,qw).call(this),ne(this,it,Ww).call(this)}removeEditListeners(){ne(this,it,P_).call(this),ne(this,it,Vw).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of p(this,Do))if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of p(this,Do))if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=p(this,da))==null||n.commitOrRemove(),!this.hasSelection)return;const t=[];for(const r of p(this,kn)){const s=r.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const o of p(this,Do))if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(s){Xt(`paste: "${s.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const r=this.currentLayer;try{const s=[];for(const c of n){const d=await r.deserialize(c);if(!d)return;s.push(d)}const o=()=>{for(const c of s)ne(this,it,Gw).call(this,c);ne(this,it,Xw).call(this,s)},l=()=>{for(const c of s)c.remove()};this.addCommands({cmd:o,undo:l,mustExec:!0})}catch(s){Xt(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),p(this,ii)!==Gt.NONE&&!this.isEditorHandlingKeyboard&&Jp._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,p(this,gh)&&(z(this,gh,!1),ne(this,it,i5).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(ne(this,it,L_).call(this),ne(this,it,Ww).call(this),ne(this,it,ms).call(this,{isEditing:p(this,ii)!==Gt.NONE,isEmpty:ne(this,it,Gm).call(this),hasSomethingToUndo:p(this,Xa).hasSomethingToUndo(),hasSomethingToRedo:p(this,Xa).hasSomethingToRedo(),hasSelectedEditor:!1})):(ne(this,it,C_).call(this),ne(this,it,Vw).call(this),ne(this,it,ms).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!p(this,Do)){z(this,Do,e);for(const t of p(this,Do))ne(this,it,Mu).call(this,t.defaultPropertiesToUpdate)}}getId(){return p(this,iv).id}get currentLayer(){return p(this,wi).get(p(this,dg))}getLayer(e){return p(this,wi).get(e)}get currentPageIndex(){return p(this,dg)}addLayer(e){p(this,wi).set(e.pageIndex,e),p(this,mh)?e.enable():e.disable()}removeLayer(e){p(this,wi).delete(e.pageIndex)}async updateMode(e,t=null,n=!1){var r;if(p(this,ii)!==e&&!(p(this,Ya)&&(await p(this,Ya).promise,!p(this,Ya)))){if(z(this,Ya,Promise.withResolvers()),z(this,ii,e),e===Gt.NONE){this.setEditingState(!1),ne(this,it,T_).call(this),(r=this._editorUndoBar)==null||r.hide(),p(this,Ya).resolve();return}this.setEditingState(!0),await ne(this,it,k_).call(this),this.unselectAll();for(const s of p(this,wi).values())s.updateMode(e);if(!t){n&&this.addNewEditorFromKeyboard(),p(this,Ya).resolve();return}for(const s of p(this,Vr).values())s.annotationElementId===t?(this.setSelected(s),s.enterInEditMode()):s.unselect();p(this,Ya).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==p(this,ii)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var n;if(p(this,Do)){switch(e){case sn.CREATE:this.currentLayer.addNewEditor();return;case sn.HIGHLIGHT_DEFAULT_COLOR:(n=p(this,I1))==null||n.updateColor(t);break;case sn.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(p(this,F1)||z(this,F1,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const r of p(this,kn))r.updateParams(e,t);for(const r of p(this,Do))r.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){var s;for(const o of p(this,Vr).values())o.editorType===e&&o.show(t);(((s=p(this,F1))==null?void 0:s.get(sn.HIGHLIGHT_SHOW_ALL))??!0)!==t&&ne(this,it,Mu).call(this,[[sn.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(p(this,T1)!==e){z(this,T1,e);for(const t of p(this,wi).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const n of p(this,Vr).values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return p(this,Vr).get(e)}addEditor(e){p(this,Vr).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(p(this,Pl)&&clearTimeout(p(this,Pl)),z(this,Pl,setTimeout(()=>{this.focusMainContainer(),z(this,Pl,null)},0))),p(this,Vr).delete(e.id),this.unselect(e),(!e.annotationElementId||!p(this,Gd).has(e.annotationElementId))&&((t=p(this,Bu))==null||t.remove(e.id))}addDeletedAnnotationElement(e){p(this,Gd).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return p(this,Gd).has(e)}removeDeletedAnnotationElement(e){p(this,Gd).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){p(this,da)!==e&&(z(this,da,e),e&&ne(this,it,Mu).call(this,e.propertiesToUpdate))}updateUI(e){p(this,it,I_)===e&&ne(this,it,Mu).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){ne(this,it,Mu).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(p(this,kn).has(e)){p(this,kn).delete(e),e.unselect(),ne(this,it,ms).call(this,{hasSelectedEditor:this.hasSelection});return}p(this,kn).add(e),e.select(),ne(this,it,Mu).call(this,e.propertiesToUpdate),ne(this,it,ms).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;(t=p(this,Vd))==null||t.commitOrRemove();for(const n of p(this,kn))n!==e&&n.unselect();p(this,kn).clear(),p(this,kn).add(e),e.select(),ne(this,it,Mu).call(this,e.propertiesToUpdate),ne(this,it,ms).call(this,{hasSelectedEditor:!0})}isSelected(e){return p(this,kn).has(e)}get firstSelectedEditor(){return p(this,kn).values().next().value}unselect(e){e.unselect(),p(this,kn).delete(e),ne(this,it,ms).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return p(this,kn).size!==0}get isEnterHandled(){return p(this,kn).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;p(this,Xa).undo(),ne(this,it,ms).call(this,{hasSomethingToUndo:p(this,Xa).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:ne(this,it,Gm).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){p(this,Xa).redo(),ne(this,it,ms).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:p(this,Xa).hasSomethingToRedo(),isEmpty:ne(this,it,Gm).call(this)})}addCommands(e){p(this,Xa).add(e),ne(this,it,ms).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:ne(this,it,Gm).call(this)})}cleanUndoStack(e){p(this,Xa).cleanType(e)}delete(){var s;this.commitOrRemove();const e=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...p(this,kn)],n=()=>{var o;(o=this._editorUndoBar)==null||o.show(r,t.length===1?t[0].editorType:t.length);for(const l of t)l.remove()},r=()=>{for(const o of t)ne(this,it,Gw).call(this,o)};this.addCommands({cmd:n,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=p(this,da))==null||e.commitOrRemove()}hasSomethingToControl(){return p(this,da)||this.hasSelection}selectAll(){for(const e of p(this,kn))e.commit();ne(this,it,Xw).call(this,p(this,Vr).values())}unselectAll(){var e;if(!(p(this,da)&&(p(this,da).commitOrRemove(),p(this,ii)!==Gt.NONE))&&!((e=p(this,Vd))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of p(this,kn))t.unselect();p(this,kn).clear(),ne(this,it,ms).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;p(this,yh)[0]+=e,p(this,yh)[1]+=t;const[r,s]=p(this,yh),o=[...p(this,kn)],l=1e3;p(this,kl)&&clearTimeout(p(this,kl)),z(this,kl,setTimeout(()=>{z(this,kl,null),p(this,yh)[0]=p(this,yh)[1]=0,this.addCommands({cmd:()=>{for(const c of o)p(this,Vr).has(c.id)&&c.translateInPage(r,s)},undo:()=>{for(const c of o)p(this,Vr).has(c.id)&&c.translateInPage(-r,-s)},mustExec:!1})},l));for(const c of o)c.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),z(this,Cl,new Map);for(const e of p(this,kn))p(this,Cl).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!p(this,Cl))return!1;this.disableUserSelect(!1);const e=p(this,Cl);z(this,Cl,null);let t=!1;for(const[{x:r,y:s,pageIndex:o},l]of e)l.newX=r,l.newY=s,l.newPageIndex=o,t||(t=r!==l.savedX||s!==l.savedY||o!==l.savedPageIndex);if(!t)return!1;const n=(r,s,o,l)=>{if(p(this,Vr).has(r.id)){const c=p(this,wi).get(l);c?r._setParentAndPosition(c,s,o):(r.pageIndex=l,r.x=s,r.y=o)}};return this.addCommands({cmd:()=>{for(const[r,{newX:s,newY:o,newPageIndex:l}]of e)n(r,s,o,l)},undo:()=>{for(const[r,{savedX:s,savedY:o,savedPageIndex:l}]of e)n(r,s,o,l)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(p(this,Cl))for(const n of p(this,Cl).keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||p(this,kn).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return p(this,da)===e}getActive(){return p(this,da)}getMode(){return p(this,ii)}get imageManager(){return en(this,"imageManager",new Uw)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let d=0,h=t.rangeCount;d<h;d++)if(!e.contains(t.getRangeAt(d).commonAncestorContainer))return null;const{x:n,y:r,width:s,height:o}=e.getBoundingClientRect();let l;switch(e.getAttribute("data-main-rotation")){case"90":l=(d,h,f,v)=>({x:(h-r)/o,y:1-(d+f-n)/s,width:v/o,height:f/s});break;case"180":l=(d,h,f,v)=>({x:1-(d+f-n)/s,y:1-(h+v-r)/o,width:f/s,height:v/o});break;case"270":l=(d,h,f,v)=>({x:1-(h+v-r)/o,y:(d-n)/s,width:v/o,height:f/s});break;default:l=(d,h,f,v)=>({x:(d-n)/s,y:(h-r)/o,width:f/s,height:v/o});break}const c=[];for(let d=0,h=t.rangeCount;d<h;d++){const f=t.getRangeAt(d);if(!f.collapsed)for(const{x:v,y:g,width:b,height:x}of f.getClientRects())b===0||x===0||c.push(l(v,g,b,x))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:e,id:t}){(p(this,hg)||z(this,hg,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=p(this,hg))==null||t.delete(e)}renderAnnotationElement(e){var r;const t=(r=p(this,hg))==null?void 0:r.get(e.data.id);if(!t)return;const n=p(this,Bu).getRawValue(t);n&&(p(this,ii)===Gt.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}};ug=new WeakMap,da=new WeakMap,Vr=new WeakMap,wi=new WeakMap,cg=new WeakMap,Bu=new WeakMap,hg=new WeakMap,Xa=new WeakMap,fh=new WeakMap,Vd=new WeakMap,dg=new WeakMap,Gd=new WeakMap,Cl=new WeakMap,Do=new WeakMap,Xd=new WeakMap,P1=new WeakMap,N1=new WeakMap,fg=new WeakMap,k1=new WeakMap,Pl=new WeakMap,ph=new WeakMap,pg=new WeakMap,gh=new WeakMap,Nl=new WeakMap,iv=new WeakMap,mh=new WeakMap,T1=new WeakMap,vh=new WeakMap,Yd=new WeakMap,I1=new WeakMap,R1=new WeakMap,ii=new WeakMap,kn=new WeakMap,zu=new WeakMap,Kd=new WeakMap,F1=new WeakMap,M1=new WeakMap,yh=new WeakMap,kl=new WeakMap,Uu=new WeakMap,O1=new WeakMap,Ya=new WeakMap,it=new WeakSet,r5=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},$w=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of p(this,wi).values())if(n.hasTextLayer(e))return n;return null},S_=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=ne(this,it,r5).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(n);r&&(p(this,Nl)||z(this,Nl,new jT(this)),p(this,Nl).show(n,r,this.direction==="ltr"))},__=function(){var s,o,l;const e=document.getSelection();if(!e||e.isCollapsed){p(this,zu)&&((s=p(this,Nl))==null||s.hide(),z(this,zu,null),ne(this,it,ms).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===p(this,zu))return;const r=ne(this,it,r5).call(this,e).closest(".textLayer");if(!r){p(this,zu)&&((o=p(this,Nl))==null||o.hide(),z(this,zu,null),ne(this,it,ms).call(this,{hasSelectedText:!1}));return}if((l=p(this,Nl))==null||l.hide(),z(this,zu,t),ne(this,it,ms).call(this,{hasSelectedText:!0}),!(p(this,ii)!==Gt.HIGHLIGHT&&p(this,ii)!==Gt.NONE)&&(p(this,ii)===Gt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),z(this,gh,this.isShiftKeyDown),!this.isShiftKeyDown)){const c=p(this,ii)===Gt.HIGHLIGHT?ne(this,it,$w).call(this,r):null;c==null||c.toggleDrawing();const d=new AbortController,h=this.combinedSignal(d),f=v=>{v.type==="pointerup"&&v.button!==0||(d.abort(),c==null||c.toggleDrawing(!0),v.type==="pointerup"&&ne(this,it,i5).call(this,"main_toolbar"))};window.addEventListener("pointerup",f,{signal:h}),window.addEventListener("blur",f,{signal:h})}},i5=function(e=""){p(this,ii)===Gt.HIGHLIGHT?this.highlightSelection(e):p(this,P1)&&ne(this,it,S_).call(this)},E_=function(){document.addEventListener("selectionchange",ne(this,it,__).bind(this),{signal:this._signal})},L_=function(){if(p(this,ph))return;z(this,ph,new AbortController);const e=this.combinedSignal(p(this,ph));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},C_=function(){var e;(e=p(this,ph))==null||e.abort(),z(this,ph,null)},qw=function(){if(p(this,vh))return;z(this,vh,new AbortController);const e=this.combinedSignal(p(this,vh));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},P_=function(){var e;(e=p(this,vh))==null||e.abort(),z(this,vh,null)},Ww=function(){if(p(this,fh))return;z(this,fh,new AbortController);const e=this.combinedSignal(p(this,fh));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},Vw=function(){var e;(e=p(this,fh))==null||e.abort(),z(this,fh,null)},N_=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},ms=function(e){Object.entries(e).some(([n,r])=>p(this,M1)[n]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(p(this,M1),e)}),p(this,ii)===Gt.HIGHLIGHT&&e.hasSelectedEditor===!1&&ne(this,it,Mu).call(this,[[sn.HIGHLIGHT_FREE,!0]]))},Mu=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},k_=async function(){if(!p(this,mh)){z(this,mh,!0);const e=[];for(const t of p(this,wi).values())e.push(t.enable());await Promise.all(e);for(const t of p(this,Vr).values())t.enable()}},T_=function(){if(this.unselectAll(),p(this,mh)){z(this,mh,!1);for(const e of p(this,wi).values())e.disable();for(const e of p(this,Vr).values())e.disable()}},Gw=function(e){const t=p(this,wi).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},I_=function(){let e=null;for(e of p(this,kn));return e},Gm=function(){if(p(this,Vr).size===0)return!0;if(p(this,Vr).size===1)for(const e of p(this,Vr).values())return e.isEmpty();return!1},Xw=function(e){for(const t of p(this,kn))t.unselect();p(this,kn).clear();for(const t of e)t.isEmpty()||(p(this,kn).add(t),t.select());ne(this,it,ms).call(this,{hasSelectedEditor:this.hasSelection})},Tt(Jp,"TRANSLATE_SMALL",1),Tt(Jp,"TRANSLATE_BIG",10);let ep=Jp;var si,Tl,jo,gg,Il,fa,mg,Rl,Ws,Hu,Qd,Fl,wh,Xo,Xm,s5;const vs=class vs{constructor(e){Z(this,Xo);Z(this,si,null);Z(this,Tl,!1);Z(this,jo,null);Z(this,gg,null);Z(this,Il,null);Z(this,fa,null);Z(this,mg,!1);Z(this,Rl,null);Z(this,Ws,null);Z(this,Hu,null);Z(this,Qd,null);Z(this,Fl,!1);z(this,Ws,e),z(this,Fl,e._uiManager.useNewAltTextFlow),p(vs,wh)||z(vs,wh,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){vs._l10n??(vs._l10n=e)}async render(){const e=z(this,jo,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=z(this,gg,document.createElement("span"));e.append(t),p(this,Fl)?(e.classList.add("new"),e.setAttribute("data-l10n-id",p(vs,wh).missing),t.setAttribute("data-l10n-id",p(vs,wh)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=p(this,Ws)._uiManager._signal;e.addEventListener("contextmenu",Ko,{signal:n}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:n});const r=s=>{s.preventDefault(),p(this,Ws)._uiManager.editAltText(p(this,Ws)),p(this,Fl)&&p(this,Ws)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:p(this,Xo,Xm)}})};return e.addEventListener("click",r,{capture:!0,signal:n}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(z(this,mg,!0),r(s))},{signal:n}),await ne(this,Xo,s5).call(this),e}finish(){p(this,jo)&&(p(this,jo).focus({focusVisible:p(this,mg)}),z(this,mg,!1))}isEmpty(){return p(this,Fl)?p(this,si)===null:!p(this,si)&&!p(this,Tl)}hasData(){return p(this,Fl)?p(this,si)!==null||!!p(this,Hu):this.isEmpty()}get guessedText(){return p(this,Hu)}async setGuessedText(e){p(this,si)===null&&(z(this,Hu,e),z(this,Qd,await vs._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),ne(this,Xo,s5).call(this))}toggleAltTextBadge(e=!1){var t;if(!p(this,Fl)||p(this,si)){(t=p(this,Rl))==null||t.remove(),z(this,Rl,null);return}if(!p(this,Rl)){const n=z(this,Rl,document.createElement("div"));n.className="noAltTextBadge",p(this,Ws).div.append(n)}p(this,Rl).classList.toggle("hidden",!e)}serialize(e){let t=p(this,si);return!e&&p(this,Hu)===t&&(t=p(this,Qd)),{altText:t,decorative:p(this,Tl),guessedText:p(this,Hu),textWithDisclaimer:p(this,Qd)}}get data(){return{altText:p(this,si),decorative:p(this,Tl)}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:r,cancel:s=!1}){n&&(z(this,Hu,n),z(this,Qd,r)),!(p(this,si)===e&&p(this,Tl)===t)&&(s||(z(this,si,e),z(this,Tl,t)),ne(this,Xo,s5).call(this))}toggle(e=!1){p(this,jo)&&(!e&&p(this,fa)&&(clearTimeout(p(this,fa)),z(this,fa,null)),p(this,jo).disabled=!e)}shown(){p(this,Ws)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:p(this,Xo,Xm)}})}destroy(){var e,t;(e=p(this,jo))==null||e.remove(),z(this,jo,null),z(this,gg,null),z(this,Il,null),(t=p(this,Rl))==null||t.remove(),z(this,Rl,null)}};si=new WeakMap,Tl=new WeakMap,jo=new WeakMap,gg=new WeakMap,Il=new WeakMap,fa=new WeakMap,mg=new WeakMap,Rl=new WeakMap,Ws=new WeakMap,Hu=new WeakMap,Qd=new WeakMap,Fl=new WeakMap,wh=new WeakMap,Xo=new WeakSet,Xm=function(){return p(this,si)&&"added"||p(this,si)===null&&this.guessedText&&"review"||"missing"},s5=async function(){var r,s,o;const e=p(this,jo);if(!e)return;if(p(this,Fl)){if(e.classList.toggle("done",!!p(this,si)),e.setAttribute("data-l10n-id",p(vs,wh)[p(this,Xo,Xm)]),(r=p(this,gg))==null||r.setAttribute("data-l10n-id",p(vs,wh)[`${p(this,Xo,Xm)}-label`]),!p(this,si)){(s=p(this,Il))==null||s.remove();return}}else{if(!p(this,si)&&!p(this,Tl)){e.classList.remove("done"),(o=p(this,Il))==null||o.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=p(this,Il);if(!t){z(this,Il,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${p(this,Ws).id}`;const l=100,c=p(this,Ws)._uiManager._signal;c.addEventListener("abort",()=>{clearTimeout(p(this,fa)),z(this,fa,null)},{once:!0}),e.addEventListener("mouseenter",()=>{z(this,fa,setTimeout(()=>{z(this,fa,null),p(this,Il).classList.add("show"),p(this,Ws)._reportTelemetry({action:"alt_text_tooltip"})},l))},{signal:c}),e.addEventListener("mouseleave",()=>{var d;p(this,fa)&&(clearTimeout(p(this,fa)),z(this,fa,null)),(d=p(this,Il))==null||d.classList.remove("show")},{signal:c})}p(this,Tl)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=p(this,si)),t.parentNode||e.append(t);const n=p(this,Ws).getImageForAltText();n==null||n.setAttribute("aria-describedby",t.id)},Z(vs,wh,null),Tt(vs,"_l10n",null);let X5=vs;var D1,Jd,j1,B1,z1,U1,H1,vg,$u,Zd,bh,pc,R_,F_,Yw;const IA=class IA{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:n=null,onPinchStart:r=null,onPinching:s=null,onPinchEnd:o=null,signal:l}){Z(this,pc);Z(this,D1);Z(this,Jd,!1);Z(this,j1,null);Z(this,B1);Z(this,z1);Z(this,U1);Z(this,H1);Z(this,vg);Z(this,$u,null);Z(this,Zd);Z(this,bh,null);z(this,D1,e),z(this,j1,n),z(this,B1,t),z(this,z1,r),z(this,U1,s),z(this,H1,o),z(this,Zd,new AbortController),z(this,vg,AbortSignal.any([l,p(this,Zd).signal])),e.addEventListener("touchstart",ne(this,pc,R_).bind(this),{passive:!1,signal:p(this,vg)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return en(this,"MIN_TOUCH_DISTANCE_TO_PINCH",35/(window.devicePixelRatio||1))}destroy(){var e;(e=p(this,Zd))==null||e.abort(),z(this,Zd,null)}};D1=new WeakMap,Jd=new WeakMap,j1=new WeakMap,B1=new WeakMap,z1=new WeakMap,U1=new WeakMap,H1=new WeakMap,vg=new WeakMap,$u=new WeakMap,Zd=new WeakMap,bh=new WeakMap,pc=new WeakSet,R_=function(e){var r,s,o;if((r=p(this,B1))!=null&&r.call(this)||e.touches.length<2)return;if(!p(this,bh)){z(this,bh,new AbortController);const l=AbortSignal.any([p(this,vg),p(this,bh).signal]),c=p(this,D1),d={signal:l,passive:!1};c.addEventListener("touchmove",ne(this,pc,F_).bind(this),d),c.addEventListener("touchend",ne(this,pc,Yw).bind(this),d),c.addEventListener("touchcancel",ne(this,pc,Yw).bind(this),d),(s=p(this,z1))==null||s.call(this)}if(La(e),e.touches.length!==2||(o=p(this,j1))!=null&&o.call(this)){z(this,$u,null);return}let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]),z(this,$u,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:n.screenX,touch1Y:n.screenY})},F_=function(e){var M;if(!p(this,$u)||e.touches.length!==2)return;let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]);const{screenX:r,screenY:s}=t,{screenX:o,screenY:l}=n,c=p(this,$u),{touch0X:d,touch0Y:h,touch1X:f,touch1Y:v}=c,g=f-d,b=v-h,x=o-r,E=l-s,S=Math.hypot(x,E)||1,P=Math.hypot(g,b)||1;if(!p(this,Jd)&&Math.abs(P-S)<=IA.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(c.touch0X=r,c.touch0Y=s,c.touch1X=o,c.touch1Y=l,e.preventDefault(),!p(this,Jd)){z(this,Jd,!0);return}const F=[(r+o)/2,(s+l)/2];(M=p(this,U1))==null||M.call(this,F,P,S)},Yw=function(e){var t;p(this,bh).abort(),z(this,bh,null),(t=p(this,H1))==null||t.call(this),p(this,$u)&&(e.preventDefault(),z(this,$u,null),z(this,Jd,!1))};let Y5=IA;var ef,Bo,Qn,yg,Ah,$1,tf,bi,nf,qu,xh,q1,rf,pa,W1,sf,Wu,Ml,wg,bg,Ka,af,V1,sv,It,Kw,G1,Qw,a5,M_,O_,Jw,o5,Zw,D_,j_,B_,eb,z_,tb,U_,H_,$_,nb,Ym;const Yt=class Yt{constructor(e){Z(this,It);Z(this,ef,null);Z(this,Bo,null);Z(this,Qn,null);Z(this,yg,!1);Z(this,Ah,null);Z(this,$1,"");Z(this,tf,!1);Z(this,bi,null);Z(this,nf,null);Z(this,qu,null);Z(this,xh,null);Z(this,q1,"");Z(this,rf,!1);Z(this,pa,null);Z(this,W1,!1);Z(this,sf,!1);Z(this,Wu,!1);Z(this,Ml,null);Z(this,wg,0);Z(this,bg,0);Z(this,Ka,null);Z(this,af,null);Tt(this,"_editToolbar",null);Tt(this,"_initialOptions",Object.create(null));Tt(this,"_initialData",null);Tt(this,"_isVisible",!0);Tt(this,"_uiManager",null);Tt(this,"_focusEventsAllowed",!0);Z(this,V1,!1);Z(this,sv,Yt._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:r,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[s,o];const[l,c]=this.parentDimensions;this.x=e.x/l,this.y=e.y/c,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Yt.prototype._resizeWithKeyboard,t=ep.TRANSLATE_SMALL,n=ep.TRANSLATE_BIG;return en(this,"_resizerKeyboardManager",new e2([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],Yt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return en(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new UT({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(Yt._l10n??(Yt._l10n=e),Yt._l10nResizer||(Yt._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Yt._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);Yt._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){jn("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return p(this,V1)}set _isDraggable(e){var t;z(this,V1,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=p(this,sv)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):ne(this,It,Ym).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(p(this,rf)?z(this,rf,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,r){const[s,o]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(e+n)/s,this.y=(t+r)/o,this.fixAndSetPosition()}translate(e,t){ne(this,It,Kw).call(this,this.parentDimensions,e,t)}translateInPage(e,t){p(this,pa)||z(this,pa,[this.x,this.y,this.width,this.height]),ne(this,It,Kw).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){p(this,pa)||z(this,pa,[this.x,this.y,this.width,this.height]);const{div:n,parentDimensions:[r,s]}=this;if(this.x+=e/r,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:f,y:v}=this.div.getBoundingClientRect();this.parent.findNewParent(this,f,v)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:l}=this;const[c,d]=this.getBaseTranslation();o+=c,l+=d;const{style:h}=n;h.left=`${(100*o).toFixed(2)}%`,h.top=`${(100*l).toFixed(2)}%`,this._onTranslating(o,l),n.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!p(this,pa)&&(p(this,pa)[0]!==this.x||p(this,pa)[1]!==this.y)}get _hasBeenResized(){return!!p(this,pa)&&(p(this,pa)[2]!==this.width||p(this,pa)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=Yt,r=n/e,s=n/t;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[n,r]}=this;let{x:s,y:o,width:l,height:c}=this;if(l*=n,c*=r,s*=n,o*=r,this._mustFixPosition)switch(e){case 0:s=Math.max(0,Math.min(n-l,s)),o=Math.max(0,Math.min(r-c,o));break;case 90:s=Math.max(0,Math.min(n-c,s)),o=Math.min(r,Math.max(l,o));break;case 180:s=Math.min(n,Math.max(l,s)),o=Math.min(r,Math.max(c,o));break;case 270:s=Math.min(n,Math.max(c,s)),o=Math.max(0,Math.min(r-l,o));break}this.x=s/=n,this.y=o/=r;const[d,h]=this.getBaseTranslation();s+=d,o+=h,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var n;return ne(n=Yt,G1,Qw).call(n,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var n;return ne(n=Yt,G1,Qw).call(n,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(e,t){const[n,r]=this.parentDimensions,{style:s}=this.div;s.width=`${(100*e/n).toFixed(2)}%`,p(this,tf)||(s.height=`${(100*t/r).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,r=n.endsWith("%"),s=!p(this,tf)&&t.endsWith("%");if(r&&s)return;const[o,l]=this.parentDimensions;r||(e.width=`${(100*parseFloat(n)/o).toFixed(2)}%`),!p(this,tf)&&!s&&(e.height=`${(100*parseFloat(t)/l).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=p(this,Qn))==null||e.finish()}async addEditToolbar(){return this._editToolbar||p(this,sf)?this._editToolbar:(this._editToolbar=new Bw(this),this.div.append(this._editToolbar.render()),p(this,Qn)&&await this._editToolbar.addAltText(p(this,Qn)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=p(this,Qn))==null||e.destroy())}addContainer(e){var n;const t=(n=this._editToolbar)==null?void 0:n.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){p(this,Qn)||(X5.initialize(Yt._l10n),z(this,Qn,new X5(this)),p(this,ef)&&(p(this,Qn).data=p(this,ef),z(this,ef,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=p(this,Qn))==null?void 0:e.data}set altTextData(e){p(this,Qn)&&(p(this,Qn).data=e)}get guessedAltText(){var e;return(e=p(this,Qn))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=p(this,Qn))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=p(this,Qn))==null?void 0:t.serialize(e)}hasAltText(){return!!p(this,Qn)&&!p(this,Qn).isEmpty()}hasAltTextData(){var e;return((e=p(this,Qn))==null?void 0:e.hasData())??!1}render(){var s;this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=p(this,yg)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),ne(this,It,tb).call(this);const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[n,r]=this.getInitialTranslation();return this.translate(n,r),G5(this,this.div,["pointerdown"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(p(this,af)||z(this,af,new Y5({container:this.div,isPinchingDisabled:()=>!this.isSelected,onPinchStart:ne(this,It,D_).bind(this),onPinching:ne(this,It,j_).bind(this),onPinchEnd:ne(this,It,B_).bind(this),signal:this._uiManager._signal}))),(s=this._uiManager._editorUndoBar)==null||s.hide(),this.div}pointerdown(e){const{isMac:t}=xs.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(z(this,rf,!0),this._isDraggable){ne(this,It,z_).call(this,e);return}ne(this,It,eb).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){p(this,Ml)&&clearTimeout(p(this,Ml)),z(this,Ml,setTimeout(()=>{var e;z(this,Ml,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,n=this.rotation){const r=this.parentScale,[s,o]=this.pageDimensions,[l,c]=this.pageTranslation,d=e/r,h=t/r,f=this.x*s,v=this.y*o,g=this.width*s,b=this.height*o;switch(n){case 0:return[f+d+l,o-v-h-b+c,f+d+g+l,o-v-h+c];case 90:return[f+h+l,o-v+d+c,f+h+b+l,o-v+d+g+c];case 180:return[f-d-g+l,o-v+h+c,f-d+l,o-v+h+b+c];case 270:return[f-h-b+l,o-v-d-g+c,f-h+l,o-v-d+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,r,s,o]=e,l=s-n,c=o-r;switch(this.rotation){case 0:return[n,t-o,l,c];case 90:return[n,t-r,c,l];case 180:return[s,t-r,l,c];case 270:return[s,t-o,c,l];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){z(this,sf,!0)}disableEditMode(){z(this,sf,!1)}isInEditMode(){return p(this,sf)}shouldGetKeyboardEvents(){return p(this,Wu)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:n,right:r}=this.getClientDimensions(),{innerHeight:s,innerWidth:o}=window;return t<o&&r>0&&e<s&&n>0}rebuild(){ne(this,It,tb).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){jn("An editor must be serializable")}static async deserialize(e,t,n){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n});r.rotation=e.rotation,z(r,ef,e.accessibilityData);const[s,o]=r.pageDimensions,[l,c,d,h]=r.getRectInCurrentCoords(e.rect,o);return r.x=l/s,r.y=c/o,r.width=d/s,r.height=h/o,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t;if((e=p(this,xh))==null||e.abort(),z(this,xh,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),p(this,Ml)&&(clearTimeout(p(this,Ml)),z(this,Ml,null)),ne(this,It,Ym).call(this),this.removeEditToolbar(),p(this,Ka)){for(const n of p(this,Ka).values())clearTimeout(n);z(this,Ka,null)}this.parent=null,(t=p(this,af))==null||t.destroy(),z(this,af,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(ne(this,It,M_).call(this),p(this,bi).classList.remove("hidden"),G5(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),z(this,qu,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=p(this,bi).children;if(!p(this,Bo)){z(this,Bo,Array.from(t));const o=ne(this,It,U_).bind(this),l=ne(this,It,H_).bind(this),c=this._uiManager._signal;for(const d of p(this,Bo)){const h=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",o,{signal:c}),d.addEventListener("blur",l,{signal:c}),d.addEventListener("focus",ne(this,It,$_).bind(this,h),{signal:c}),d.setAttribute("data-l10n-id",Yt._l10nResizer[h])}}const n=p(this,Bo)[0];let r=0;for(const o of t){if(o===n)break;r++}const s=(360-this.rotation+this.parentRotation)%360/90*(p(this,Bo).length/4);if(s!==r){if(s<r)for(let l=0;l<r-s;l++)p(this,bi).append(p(this,bi).firstChild);else if(s>r)for(let l=0;l<s-r;l++)p(this,bi).firstChild.before(p(this,bi).lastChild);let o=0;for(const l of t){const d=p(this,Bo)[o++].getAttribute("data-resizer-name");l.setAttribute("data-l10n-id",Yt._l10nResizer[d])}}ne(this,It,nb).call(this,0),z(this,Wu,!0),p(this,bi).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){p(this,Wu)&&ne(this,It,Zw).call(this,p(this,q1),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){ne(this,It,Ym).call(this),this.div.focus()}select(){var e,t,n;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,s;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(t=this._editToolbar)==null||t.show(),(n=p(this,Qn))==null||n.toggleAltTextBadge(!1)}unselect(){var e,t,n,r,s;(e=p(this,bi))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(s=p(this,Qn))==null||s.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return p(this,W1)}set isEditing(e){z(this,W1,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){z(this,tf,!0);const n=e/t,{style:r}=this.div;r.aspectRatio=n,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){p(this,Ka)||z(this,Ka,new Map);const{action:n}=e;let r=p(this,Ka).get(n);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),p(this,Ka).delete(n),p(this,Ka).size===0&&z(this,Ka,null)},Yt._telemetryTimeout),p(this,Ka).set(n,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),z(this,yg,!1)}disable(){this.div&&(this.div.tabIndex=-1),z(this,yg,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};ef=new WeakMap,Bo=new WeakMap,Qn=new WeakMap,yg=new WeakMap,Ah=new WeakMap,$1=new WeakMap,tf=new WeakMap,bi=new WeakMap,nf=new WeakMap,qu=new WeakMap,xh=new WeakMap,q1=new WeakMap,rf=new WeakMap,pa=new WeakMap,W1=new WeakMap,sf=new WeakMap,Wu=new WeakMap,Ml=new WeakMap,wg=new WeakMap,bg=new WeakMap,Ka=new WeakMap,af=new WeakMap,V1=new WeakMap,sv=new WeakMap,It=new WeakSet,Kw=function([e,t],n,r){[n,r]=this.screenToPageTranslation(n,r),this.x+=n/e,this.y+=r/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},G1=new WeakSet,Qw=function(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},a5=function(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}},M_=function(){if(p(this,bi))return;z(this,bi,document.createElement("div")),p(this,bi).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const r=document.createElement("div");p(this,bi).append(r),r.classList.add("resizer",n),r.setAttribute("data-resizer-name",n),r.addEventListener("pointerdown",ne(this,It,O_).bind(this,n),{signal:t}),r.addEventListener("contextmenu",Ko,{signal:t}),r.tabIndex=-1}this.div.prepend(p(this,bi))},O_=function(e,t){var h;t.preventDefault();const{isMac:n}=xs.platform;if(t.button!==0||t.ctrlKey&&n)return;(h=p(this,Qn))==null||h.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,z(this,nf,[t.screenX,t.screenY]);const s=new AbortController,o=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",ne(this,It,Zw).bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",La,{passive:!1,signal:o}),window.addEventListener("contextmenu",Ko,{signal:o}),z(this,qu,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const l=this.parent.div.style.cursor,c=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const d=()=>{var f;s.abort(),this.parent.togglePointerEvents(!0),(f=p(this,Qn))==null||f.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=l,this.div.style.cursor=c,ne(this,It,o5).call(this)};window.addEventListener("pointerup",d,{signal:o}),window.addEventListener("blur",d,{signal:o})},Jw=function(e,t,n,r){this.width=n,this.height=r,this.x=e,this.y=t;const[s,o]=this.parentDimensions;this.setDims(s*n,o*r),this.fixAndSetPosition(),this._onResized()},o5=function(){if(!p(this,qu))return;const{savedX:e,savedY:t,savedWidth:n,savedHeight:r}=p(this,qu);z(this,qu,null);const s=this.x,o=this.y,l=this.width,c=this.height;s===e&&o===t&&l===n&&c===r||this.addCommands({cmd:ne(this,It,Jw).bind(this,s,o,l,c),undo:ne(this,It,Jw).bind(this,e,t,n,r),mustExec:!0})},Zw=function(e,t){const[n,r]=this.parentDimensions,s=this.x,o=this.y,l=this.width,c=this.height,d=Yt.MIN_SIZE/n,h=Yt.MIN_SIZE/r,f=ne(this,It,a5).call(this,this.rotation),v=(B,j)=>[f[0]*B+f[2]*j,f[1]*B+f[3]*j],g=ne(this,It,a5).call(this,360-this.rotation),b=(B,j)=>[g[0]*B+g[2]*j,g[1]*B+g[3]*j];let x,E,S=!1,P=!1;switch(e){case"topLeft":S=!0,x=(B,j)=>[0,0],E=(B,j)=>[B,j];break;case"topMiddle":x=(B,j)=>[B/2,0],E=(B,j)=>[B/2,j];break;case"topRight":S=!0,x=(B,j)=>[B,0],E=(B,j)=>[0,j];break;case"middleRight":P=!0,x=(B,j)=>[B,j/2],E=(B,j)=>[0,j/2];break;case"bottomRight":S=!0,x=(B,j)=>[B,j],E=(B,j)=>[0,0];break;case"bottomMiddle":x=(B,j)=>[B/2,j],E=(B,j)=>[B/2,0];break;case"bottomLeft":S=!0,x=(B,j)=>[0,j],E=(B,j)=>[B,0];break;case"middleLeft":P=!0,x=(B,j)=>[0,j/2],E=(B,j)=>[B,j/2];break}const F=x(l,c),M=E(l,c);let $=v(...M);const H=Yt._round(s+$[0]),q=Yt._round(o+$[1]);let T=1,D=1,J,I;if(t.fromKeyboard)({deltaX:J,deltaY:I}=t);else{const{screenX:B,screenY:j}=t,[G,ie]=p(this,nf);[J,I]=this.screenToPageTranslation(B-G,j-ie),p(this,nf)[0]=B,p(this,nf)[1]=j}if([J,I]=b(J/n,I/r),S){const B=Math.hypot(l,c);T=D=Math.max(Math.min(Math.hypot(M[0]-F[0]-J,M[1]-F[1]-I)/B,1/l,1/c),d/l,h/c)}else P?T=Math.max(d,Math.min(1,Math.abs(M[0]-F[0]-J)))/l:D=Math.max(h,Math.min(1,Math.abs(M[1]-F[1]-I)))/c;const O=Yt._round(l*T),X=Yt._round(c*D);$=v(...E(O,X));const U=H-$[0],ce=q-$[1];p(this,pa)||z(this,pa,[this.x,this.y,this.width,this.height]),this.width=O,this.height=X,this.x=U,this.y=ce,this.setDims(n*O,r*X),this.fixAndSetPosition(),this._onResizing()},D_=function(){var e;z(this,qu,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=p(this,Qn))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},j_=function(e,t,n){let s=.7*(n/t)+1-.7;if(s===1)return;const o=ne(this,It,a5).call(this,this.rotation),l=(H,q)=>[o[0]*H+o[2]*q,o[1]*H+o[3]*q],[c,d]=this.parentDimensions,h=this.x,f=this.y,v=this.width,g=this.height,b=Yt.MIN_SIZE/c,x=Yt.MIN_SIZE/d;s=Math.max(Math.min(s,1/v,1/g),b/v,x/g);const E=Yt._round(v*s),S=Yt._round(g*s);if(E===v&&S===g)return;p(this,pa)||z(this,pa,[h,f,v,g]);const P=l(v/2,g/2),F=Yt._round(h+P[0]),M=Yt._round(f+P[1]),$=l(E/2,S/2);this.x=F-$[0],this.y=M-$[1],this.width=E,this.height=S,this.setDims(c*E,d*S),this.fixAndSetPosition(),this._onResizing()},B_=function(){var e;(e=p(this,Qn))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),ne(this,It,o5).call(this)},eb=function(e){const{isMac:t}=xs.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},z_=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let n=!1;const r=new AbortController,s=this._uiManager.combinedSignal(r),o={capture:!0,passive:!1,signal:s},l=d=>{r.abort(),z(this,Ah,null),z(this,rf,!1),this._uiManager.endDragSession()||ne(this,It,eb).call(this,d),n&&this._onStopDragging()};t&&(z(this,wg,e.clientX),z(this,bg,e.clientY),z(this,Ah,e.pointerId),z(this,$1,e.pointerType),window.addEventListener("pointermove",d=>{n||(n=!0,this._onStartDragging());const{clientX:h,clientY:f,pointerId:v}=d;if(v!==p(this,Ah)){La(d);return}const[g,b]=this.screenToPageTranslation(h-p(this,wg),f-p(this,bg));z(this,wg,h),z(this,bg,f),this._uiManager.dragSelectedEditors(g,b)},o),window.addEventListener("touchmove",La,o),window.addEventListener("pointerdown",d=>{d.pointerType===p(this,$1)&&(p(this,af)||d.isPrimary)&&l(d),La(d)},o));const c=d=>{if(!p(this,Ah)||p(this,Ah)===d.pointerId){l(d);return}La(d)};window.addEventListener("pointerup",c,{signal:s}),window.addEventListener("blur",c,{signal:s})},tb=function(){if(p(this,xh)||!this.div)return;z(this,xh,new AbortController);const e=this._uiManager.combinedSignal(p(this,xh));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},U_=function(e){Yt._resizerKeyboardManager.exec(this,e)},H_=function(e){var t;p(this,Wu)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==p(this,bi)&&ne(this,It,Ym).call(this)},$_=function(e){z(this,q1,p(this,Wu)?e:"")},nb=function(e){if(p(this,Bo))for(const t of p(this,Bo))t.tabIndex=e},Ym=function(){z(this,Wu,!1),ne(this,It,nb).call(this,-1),ne(this,It,o5).call(this)},Z(Yt,G1),Tt(Yt,"_l10n",null),Tt(Yt,"_l10nResizer",null),Tt(Yt,"_borderLineWidth",-1),Tt(Yt,"_colorManager",new Hw),Tt(Yt,"_zIndex",1),Tt(Yt,"_telemetryTimeout",1e3);let cr=Yt;class UT extends cr{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const iS=3285377520,Ga=4294901760,_l=65535;class q_{constructor(e){this.h1=e?e&4294967295:iS,this.h2=e?e&4294967295:iS}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let x=0,E=e.length;x<E;x++){const S=e.charCodeAt(x);S<=255?t[n++]=S:(t[n++]=S>>>8,t[n++]=S&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=n>>2,s=n-r*4,o=new Uint32Array(t.buffer,0,r);let l=0,c=0,d=this.h1,h=this.h2;const f=3432918353,v=461845907,g=f&_l,b=v&_l;for(let x=0;x<r;x++)x&1?(l=o[x],l=l*f&Ga|l*g&_l,l=l<<15|l>>>17,l=l*v&Ga|l*b&_l,d^=l,d=d<<13|d>>>19,d=d*5+3864292196):(c=o[x],c=c*f&Ga|c*g&_l,c=c<<15|c>>>17,c=c*v&Ga|c*b&_l,h^=c,h=h<<13|h>>>19,h=h*5+3864292196);switch(l=0,s){case 3:l^=t[r*4+2]<<16;case 2:l^=t[r*4+1]<<8;case 1:l^=t[r*4],l=l*f&Ga|l*g&_l,l=l<<15|l>>>17,l=l*v&Ga|l*b&_l,r&1?d^=l:h^=l}this.h1=d,this.h2=h}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Ga|e*36045&_l,t=t*4283543511&Ga|((t<<16|e>>>16)*2950163797&Ga)>>>16,e^=t>>>1,e=e*444984403&Ga|e*60499&_l,t=t*3301882366&Ga|((t<<16|e>>>16)*3120437893&Ga)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const rb=Object.freeze({map:null,hash:"",transfer:void 0});var of,lf,ai,av,W_;class CA{constructor(){Z(this,av);Z(this,of,!1);Z(this,lf,null);Z(this,ai,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=p(this,ai).get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return p(this,ai).get(e)}remove(e){if(p(this,ai).delete(e),p(this,ai).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of p(this,ai).values())if(t instanceof cr)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=p(this,ai).get(e);let r=!1;if(n!==void 0)for(const[s,o]of Object.entries(t))n[s]!==o&&(r=!0,n[s]=o);else r=!0,p(this,ai).set(e,t);r&&ne(this,av,W_).call(this),t instanceof cr&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return p(this,ai).has(e)}getAll(){return p(this,ai).size>0?AA(p(this,ai)):null}setAll(e){for(const[t,n]of Object.entries(e))this.setValue(t,n)}get size(){return p(this,ai).size}resetModified(){p(this,of)&&(z(this,of,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new V_(this)}get serializable(){if(p(this,ai).size===0)return rb;const e=new Map,t=new q_,n=[],r=Object.create(null);let s=!1;for(const[o,l]of p(this,ai)){const c=l instanceof cr?l.serialize(!1,r):l;c&&(e.set(o,c),t.update(`${o}:${JSON.stringify(c)}`),s||(s=!!c.bitmap))}if(s)for(const o of e.values())o.bitmap&&n.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:rb}get editorStats(){let e=null;const t=new Map;for(const n of p(this,ai).values()){if(!(n instanceof cr))continue;const r=n.telemetryFinalData;if(!r)continue;const{type:s}=r;t.has(s)||t.set(s,Object.getPrototypeOf(n).constructor),e||(e=Object.create(null));const o=e[s]||(e[s]=new Map);for(const[l,c]of Object.entries(r)){if(l==="type")continue;let d=o.get(l);d||(d=new Map,o.set(l,d));const h=d.get(c)??0;d.set(c,h+1)}}for(const[n,r]of t)e[n]=r.computeTelemetryFinalData(e[n]);return e}resetModifiedIds(){z(this,lf,null)}get modifiedIds(){if(p(this,lf))return p(this,lf);const e=[];for(const t of p(this,ai).values())!(t instanceof cr)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return z(this,lf,{ids:new Set(e),hash:e.join(",")})}}of=new WeakMap,lf=new WeakMap,ai=new WeakMap,av=new WeakSet,W_=function(){p(this,of)||(z(this,of,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var X1;class V_ extends CA{constructor(t){super();Z(this,X1);const{map:n,hash:r,transfer:s}=t.serializable,o=structuredClone(n,s?{transfer:s}:null);z(this,X1,{map:o,hash:r,transfer:s})}get print(){jn("Should not call PrintAnnotationStorage.print")}get serializable(){return p(this,X1)}get modifiedIds(){return en(this,"modifiedIds",{ids:new Set,hash:""})}}X1=new WeakMap;var Ag;class HT{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){Z(this,Ag,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),p(this,Ag).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||p(this,Ag).has(e.loadedName))){if(Mr(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:r,style:s}=e,o=new FontFace(n,r,s);this.addNativeFontFace(o);try{await o.load(),p(this,Ag).add(n),t==null||t(e)}catch{Xt(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}jn("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(r){throw Xt(`Failed to load font '${n.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const r=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return en(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(ts||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),en(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(Mr(!r.done,"completeRequest() cannot be called twice."),r.done=!0;n.length>0&&n[0].done;){const s=n.shift();setTimeout(s.callback,0)}}const{loadingRequests:n}=this,r={done:!1,complete:t,callback:e};return n.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return en(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(M,$){return M.charCodeAt($)<<24|M.charCodeAt($+1)<<16|M.charCodeAt($+2)<<8|M.charCodeAt($+3)&255}function r(M,$,H,q){const T=M.substring(0,$),D=M.substring($+H);return T+q+D}let s,o;const l=this._document.createElement("canvas");l.width=1,l.height=1;const c=l.getContext("2d");let d=0;function h(M,$){if(++d>30){Xt("Load test font never loaded."),$();return}if(c.font="30px "+M,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){$();return}setTimeout(h.bind(null,M,$))}const f=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=r(v,976,f.length,f);const b=16,x=1482184792;let E=n(v,b);for(s=0,o=f.length-3;s<o;s+=4)E=E-x+n(f,s)|0;s<f.length&&(E=E-x+n(f+"XXX",s)|0),v=r(v,b,4,CT(E));const S=`url(data:font/opentype;base64,${btoa(v)});`,P=`@font-face {font-family:"${f}";src:${S}}`;this.insertRule(P);const F=this._document.createElement("div");F.style.visibility="hidden",F.style.width=F.style.height="10px",F.style.position="absolute",F.style.top=F.style.left="0px";for(const M of[e.loadedName,f]){const $=this._document.createElement("span");$.textContent="Hi",$.style.fontFamily=M,F.append($)}this._document.body.append(F),h(f,()=>{F.remove(),t.complete()})}}Ag=new WeakMap;class $T{constructor(e,{disableFontFace:t=!1,fontExtraProperties:n=!1,inspectFont:r=null}){this.compiledGlyphs=Object.create(null);for(const s in e)this[s]=e[s];this.disableFontFace=t===!0,this.fontExtraProperties=n===!0,this._inspectFont=r}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${RT(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return(n=this._inspectFont)==null||n.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const n=this.loadedName+"_path_"+t;let r;try{r=e.get(n)}catch(o){Xt(`getPathGenerator - ignoring character: "${o}".`)}const s=new Path2D(r||"");return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[t]=s}}const $2={DATA:1,ERROR:2},Fr={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function sS(){}function $s(i){if(i instanceof Yh||i instanceof Ow||i instanceof w1||i instanceof tS||i instanceof V5||i instanceof nw)return i;switch(i instanceof Error||typeof i=="object"&&i!==null||jn('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),i.name){case"AbortException":return new Yh(i.message);case"InvalidPDFException":return new Ow(i.message);case"MissingPDFException":return new w1(i.message);case"PasswordException":return new tS(i.message,i.code);case"UnexpectedResponseException":return new V5(i.message,i.status);case"UnknownErrorException":return new nw(i.message,i.details)}return new nw(i.message,i.toString())}var xg,io,G_,X_,Y_,l5;class Km{constructor(e,t,n){Z(this,io);Z(this,xg,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",ne(this,io,G_).bind(this),{signal:p(this,xg).signal})}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},n)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,t,n,r){const s=this.streamId++,o=this.sourceName,l=this.targetName,c=this.comObj;return new ReadableStream({start:d=>{const h=Promise.withResolvers();return this.streamControllers[s]={controller:d,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:o,targetName:l,action:e,streamId:s,data:t,desiredSize:d.desiredSize},r),h.promise},pull:d=>{const h=Promise.withResolvers();return this.streamControllers[s].pullCall=h,c.postMessage({sourceName:o,targetName:l,stream:Fr.PULL,streamId:s,desiredSize:d.desiredSize}),h.promise},cancel:d=>{Mr(d instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[s].cancelCall=h,this.streamControllers[s].isClosed=!0,c.postMessage({sourceName:o,targetName:l,stream:Fr.CANCEL,streamId:s,reason:$s(d)}),h.promise}},n)}destroy(){var e;(e=p(this,xg))==null||e.abort(),z(this,xg,null)}}xg=new WeakMap,io=new WeakSet,G_=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){ne(this,io,Y_).call(this,e);return}if(e.callback){const n=e.callbackId,r=this.callbackCapabilities[n];if(!r)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===$2.DATA)r.resolve(e.data);else if(e.callback===$2.ERROR)r.reject($s(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,r=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(o){s.postMessage({sourceName:n,targetName:r,callback:$2.DATA,callbackId:e.callbackId,data:o})},function(o){s.postMessage({sourceName:n,targetName:r,callback:$2.ERROR,callbackId:e.callbackId,reason:$s(o)})});return}if(e.streamId){ne(this,io,X_).call(this,e);return}t(e.data)},X_=function(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,s=this.comObj,o=this,l=this.actionHandler[e.action],c={enqueue(d,h=1,f){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=h,v>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:r,stream:Fr.ENQUEUE,streamId:t,chunk:d},f)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:r,stream:Fr.CLOSE,streamId:t}),delete o.streamSinks[t])},error(d){Mr(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:r,stream:Fr.ERROR,streamId:t,reason:$s(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[t]=c,Promise.try(l,e.data,c).then(function(){s.postMessage({sourceName:n,targetName:r,stream:Fr.START_COMPLETE,streamId:t,success:!0})},function(d){s.postMessage({sourceName:n,targetName:r,stream:Fr.START_COMPLETE,streamId:t,reason:$s(d)})})},Y_=function(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,s=this.comObj,o=this.streamControllers[t],l=this.streamSinks[t];switch(e.stream){case Fr.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject($s(e.reason));break;case Fr.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject($s(e.reason));break;case Fr.PULL:if(!l){s.postMessage({sourceName:n,targetName:r,stream:Fr.PULL_COMPLETE,streamId:t,success:!0});break}l.desiredSize<=0&&e.desiredSize>0&&l.sinkCapability.resolve(),l.desiredSize=e.desiredSize,Promise.try(l.onPull||sS).then(function(){s.postMessage({sourceName:n,targetName:r,stream:Fr.PULL_COMPLETE,streamId:t,success:!0})},function(d){s.postMessage({sourceName:n,targetName:r,stream:Fr.PULL_COMPLETE,streamId:t,reason:$s(d)})});break;case Fr.ENQUEUE:if(Mr(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case Fr.CLOSE:if(Mr(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),ne(this,io,l5).call(this,o,t);break;case Fr.ERROR:Mr(o,"error should have stream controller"),o.controller.error($s(e.reason)),ne(this,io,l5).call(this,o,t);break;case Fr.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject($s(e.reason)),ne(this,io,l5).call(this,o,t);break;case Fr.CANCEL:if(!l)break;const c=$s(e.reason);Promise.try(l.onCancel||sS,c).then(function(){s.postMessage({sourceName:n,targetName:r,stream:Fr.CANCEL_COMPLETE,streamId:t,success:!0})},function(d){s.postMessage({sourceName:n,targetName:r,stream:Fr.CANCEL_COMPLETE,streamId:t,reason:$s(d)})}),l.sinkCapability.reject(c),l.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},l5=async function(e,t){var n,r,s;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(r=e.pullCall)==null?void 0:r.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var Y1;class K_{constructor({enableHWA:e=!1}){Z(this,Y1,!1);z(this,Y1,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!p(this,Y1)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){jn("Abstract method `_createCanvas` called.")}}Y1=new WeakMap;class qT extends K_{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class Q_{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){jn("Abstract method `_fetch` called.")}}class J_ extends Q_{async _fetch(e){const t=await jv(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):Dv(t)}}class Z_{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,r,s){return"none"}destroy(e=!1){}}var uf,Sg,Vu,Gu,Xi,cf,hf,ct,Wi,Qm,$p,u5,qp,eE,ib,Wp,Jm,Zm,sb,e1;class WT extends Z_{constructor({docId:t,ownerDocument:n=globalThis.document}){super();Z(this,ct);Z(this,uf);Z(this,Sg);Z(this,Vu);Z(this,Gu);Z(this,Xi);Z(this,cf);Z(this,hf,0);z(this,Gu,t),z(this,Xi,n)}addFilter(t){if(!t)return"none";let n=p(this,ct,Wi).get(t);if(n)return n;const[r,s,o]=ne(this,ct,u5).call(this,t),l=t.length===1?r:`${r}${s}${o}`;if(n=p(this,ct,Wi).get(l),n)return p(this,ct,Wi).set(t,n),n;const c=`g_${p(this,Gu)}_transfer_map_${gs(this,hf)._++}`,d=ne(this,ct,qp).call(this,c);p(this,ct,Wi).set(t,d),p(this,ct,Wi).set(l,d);const h=ne(this,ct,Wp).call(this,c);return ne(this,ct,Zm).call(this,r,s,o,h),d}addHCMFilter(t,n){var b;const r=`${t}-${n}`,s="base";let o=p(this,ct,Qm).get(s);if((o==null?void 0:o.key)===r||(o?((b=o.filter)==null||b.remove(),o.key=r,o.url="none",o.filter=null):(o={key:r,url:"none",filter:null},p(this,ct,Qm).set(s,o)),!t||!n))return o.url;const l=ne(this,ct,e1).call(this,t);t=St.makeHexColor(...l);const c=ne(this,ct,e1).call(this,n);if(n=St.makeHexColor(...c),p(this,ct,$p).style.color="",t==="#000000"&&n==="#ffffff"||t===n)return o.url;const d=new Array(256);for(let x=0;x<=255;x++){const E=x/255;d[x]=E<=.03928?E/12.92:((E+.055)/1.055)**2.4}const h=d.join(","),f=`g_${p(this,Gu)}_hcm_filter`,v=o.filter=ne(this,ct,Wp).call(this,f);ne(this,ct,Zm).call(this,h,h,h,v),ne(this,ct,ib).call(this,v);const g=(x,E)=>{const S=l[x]/255,P=c[x]/255,F=new Array(E+1);for(let M=0;M<=E;M++)F[M]=S+M/E*(P-S);return F.join(",")};return ne(this,ct,Zm).call(this,g(0,5),g(1,5),g(2,5),v),o.url=ne(this,ct,qp).call(this,f),o.url}addAlphaFilter(t){let n=p(this,ct,Wi).get(t);if(n)return n;const[r]=ne(this,ct,u5).call(this,[t]),s=`alpha_${r}`;if(n=p(this,ct,Wi).get(s),n)return p(this,ct,Wi).set(t,n),n;const o=`g_${p(this,Gu)}_alpha_map_${gs(this,hf)._++}`,l=ne(this,ct,qp).call(this,o);p(this,ct,Wi).set(t,l),p(this,ct,Wi).set(s,l);const c=ne(this,ct,Wp).call(this,o);return ne(this,ct,sb).call(this,r,c),l}addLuminosityFilter(t){let n=p(this,ct,Wi).get(t||"luminosity");if(n)return n;let r,s;if(t?([r]=ne(this,ct,u5).call(this,[t]),s=`luminosity_${r}`):s="luminosity",n=p(this,ct,Wi).get(s),n)return p(this,ct,Wi).set(t,n),n;const o=`g_${p(this,Gu)}_luminosity_map_${gs(this,hf)._++}`,l=ne(this,ct,qp).call(this,o);p(this,ct,Wi).set(t,l),p(this,ct,Wi).set(s,l);const c=ne(this,ct,Wp).call(this,o);return ne(this,ct,eE).call(this,c),t&&ne(this,ct,sb).call(this,r,c),l}addHighlightHCMFilter(t,n,r,s,o){var P;const l=`${n}-${r}-${s}-${o}`;let c=p(this,ct,Qm).get(t);if((c==null?void 0:c.key)===l||(c?((P=c.filter)==null||P.remove(),c.key=l,c.url="none",c.filter=null):(c={key:l,url:"none",filter:null},p(this,ct,Qm).set(t,c)),!n||!r))return c.url;const[d,h]=[n,r].map(ne(this,ct,e1).bind(this));let f=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),v=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[g,b]=[s,o].map(ne(this,ct,e1).bind(this));v<f&&([f,v,g,b]=[v,f,b,g]),p(this,ct,$p).style.color="";const x=(F,M,$)=>{const H=new Array(256),q=(v-f)/$,T=F/255,D=(M-F)/(255*$);let J=0;for(let I=0;I<=$;I++){const O=Math.round(f+I*q),X=T+I*D;for(let U=J;U<=O;U++)H[U]=X;J=O+1}for(let I=J;I<256;I++)H[I]=H[J-1];return H.join(",")},E=`g_${p(this,Gu)}_hcm_${t}_filter`,S=c.filter=ne(this,ct,Wp).call(this,E);return ne(this,ct,ib).call(this,S),ne(this,ct,Zm).call(this,x(g[0],b[0],5),x(g[1],b[1],5),x(g[2],b[2],5),S),c.url=ne(this,ct,qp).call(this,E),c.url}destroy(t=!1){var n,r,s,o;t&&((n=p(this,cf))!=null&&n.size)||((r=p(this,Vu))==null||r.parentNode.parentNode.remove(),z(this,Vu,null),(s=p(this,Sg))==null||s.clear(),z(this,Sg,null),(o=p(this,cf))==null||o.clear(),z(this,cf,null),z(this,hf,0))}}uf=new WeakMap,Sg=new WeakMap,Vu=new WeakMap,Gu=new WeakMap,Xi=new WeakMap,cf=new WeakMap,hf=new WeakMap,ct=new WeakSet,Wi=function(){return p(this,Sg)||z(this,Sg,new Map)},Qm=function(){return p(this,cf)||z(this,cf,new Map)},$p=function(){if(!p(this,Vu)){const t=p(this,Xi).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const r=p(this,Xi).createElementNS(Fu,"svg");r.setAttribute("width",0),r.setAttribute("height",0),z(this,Vu,p(this,Xi).createElementNS(Fu,"defs")),t.append(r),r.append(p(this,Vu)),p(this,Xi).body.append(t)}return p(this,Vu)},u5=function(t){if(t.length===1){const d=t[0],h=new Array(256);for(let v=0;v<256;v++)h[v]=d[v]/255;const f=h.join(",");return[f,f,f]}const[n,r,s]=t,o=new Array(256),l=new Array(256),c=new Array(256);for(let d=0;d<256;d++)o[d]=n[d]/255,l[d]=r[d]/255,c[d]=s[d]/255;return[o.join(","),l.join(","),c.join(",")]},qp=function(t){if(p(this,uf)===void 0){z(this,uf,"");const n=p(this,Xi).URL;n!==p(this,Xi).baseURI&&(Bv(n)?Xt('#createUrl: ignore "data:"-URL for performance reasons.'):z(this,uf,n.split("#",1)[0]))}return`url(${p(this,uf)}#${t})`},eE=function(t){const n=p(this,Xi).createElementNS(Fu,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(n)},ib=function(t){const n=p(this,Xi).createElementNS(Fu,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(n)},Wp=function(t){const n=p(this,Xi).createElementNS(Fu,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",t),p(this,ct,$p).append(n),n},Jm=function(t,n,r){const s=p(this,Xi).createElementNS(Fu,n);s.setAttribute("type","discrete"),s.setAttribute("tableValues",r),t.append(s)},Zm=function(t,n,r,s){const o=p(this,Xi).createElementNS(Fu,"feComponentTransfer");s.append(o),ne(this,ct,Jm).call(this,o,"feFuncR",t),ne(this,ct,Jm).call(this,o,"feFuncG",n),ne(this,ct,Jm).call(this,o,"feFuncB",r)},sb=function(t,n){const r=p(this,Xi).createElementNS(Fu,"feComponentTransfer");n.append(r),ne(this,ct,Jm).call(this,r,"feFuncA",t)},e1=function(t){return p(this,ct,$p).style.color=t,LA(getComputedStyle(p(this,ct,$p)).getPropertyValue("color"))};class tE{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){jn("Abstract method `_fetch` called.")}}class nE extends tE{async _fetch(e){const t=await jv(e,"arraybuffer");return new Uint8Array(t)}}ts&&Xt("Please use the `legacy` build in Node.js environments.");async function rE(i){const t=await process.getBuiltinModule("fs").promises.readFile(i);return new Uint8Array(t)}class VT extends Z_{}class GT extends K_{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class XT extends Q_{async _fetch(e){return rE(e)}}class YT extends tE{async _fetch(e){return rE(e)}}const Qi={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function ab(i,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,n),i.clip(r)}class PA{getPattern(){jn("Abstract method `getPattern` called.")}}class KT extends PA{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,r){let s;if(r===Qi.STROKE||r===Qi.FILL){const o=t.current.getClippedPathBoundingBox(r,rr(e))||[0,0,0,0],l=Math.ceil(o[2]-o[0])||1,c=Math.ceil(o[3]-o[1])||1,d=t.cachedCanvases.getCanvas("pattern",l,c),h=d.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-o[0],-o[1]),n=St.transform(n,[1,0,0,1,o[0],o[1]]),h.transform(...t.baseTransform),this.matrix&&h.transform(...this.matrix),ab(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),s=e.createPattern(d.canvas,"no-repeat");const f=new DOMMatrix(n);s.setTransform(f)}else ab(e,this._bbox),s=this._createGradient(e);return s}}function sw(i,e,t,n,r,s,o,l){const c=e.coords,d=e.colors,h=i.data,f=i.width*4;let v;c[t+1]>c[n+1]&&(v=t,t=n,n=v,v=s,s=o,o=v),c[n+1]>c[r+1]&&(v=n,n=r,r=v,v=o,o=l,l=v),c[t+1]>c[n+1]&&(v=t,t=n,n=v,v=s,s=o,o=v);const g=(c[t]+e.offsetX)*e.scaleX,b=(c[t+1]+e.offsetY)*e.scaleY,x=(c[n]+e.offsetX)*e.scaleX,E=(c[n+1]+e.offsetY)*e.scaleY,S=(c[r]+e.offsetX)*e.scaleX,P=(c[r+1]+e.offsetY)*e.scaleY;if(b>=P)return;const F=d[s],M=d[s+1],$=d[s+2],H=d[o],q=d[o+1],T=d[o+2],D=d[l],J=d[l+1],I=d[l+2],O=Math.round(b),X=Math.round(P);let U,ce,B,j,G,ie,le,ue;for(let k=O;k<=X;k++){if(k<E){const me=k<b?0:(b-k)/(b-E);U=g-(g-x)*me,ce=F-(F-H)*me,B=M-(M-q)*me,j=$-($-T)*me}else{let me;k>P?me=1:E===P?me=0:me=(E-k)/(E-P),U=x-(x-S)*me,ce=H-(H-D)*me,B=q-(q-J)*me,j=T-(T-I)*me}let Y;k<b?Y=0:k>P?Y=1:Y=(b-k)/(b-P),G=g-(g-S)*Y,ie=F-(F-D)*Y,le=M-(M-J)*Y,ue=$-($-I)*Y;const te=Math.round(Math.min(U,G)),re=Math.round(Math.max(U,G));let de=f*k+te*4;for(let me=te;me<=re;me++)Y=(U-me)/(U-G),Y<0?Y=0:Y>1&&(Y=1),h[de++]=ce-(ce-ie)*Y|0,h[de++]=B-(B-le)*Y|0,h[de++]=j-(j-ue)*Y|0,h[de++]=255}}function QT(i,e,t){const n=e.coords,r=e.colors;let s,o;switch(e.type){case"lattice":const l=e.verticesPerRow,c=Math.floor(n.length/l)-1,d=l-1;for(s=0;s<c;s++){let h=s*l;for(let f=0;f<d;f++,h++)sw(i,t,n[h],n[h+1],n[h+l],r[h],r[h+1],r[h+l]),sw(i,t,n[h+l+1],n[h+1],n[h+l],r[h+l+1],r[h+1],r[h+l])}break;case"triangles":for(s=0,o=n.length;s<o;s+=3)sw(i,t,n[s],n[s+1],n[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}class JT extends PA{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,n){const l=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-l,h=Math.ceil(this._bounds[3])-c,f=Math.min(Math.ceil(Math.abs(d*e[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(h*e[1]*1.1)),3e3),g=d/f,b=h/v,x={coords:this._coords,colors:this._colors,offsetX:-l,offsetY:-c,scaleX:1/g,scaleY:1/b},E=f+2*2,S=v+2*2,P=n.getCanvas("mesh",E,S),F=P.context,M=F.createImageData(f,v);if(t){const H=M.data;for(let q=0,T=H.length;q<T;q+=4)H[q]=t[0],H[q+1]=t[1],H[q+2]=t[2],H[q+3]=255}for(const H of this._figures)QT(M,H,x);return F.putImageData(M,2,2),{canvas:P.canvas,offsetX:l-2*g,offsetY:c-2*b,scaleX:g,scaleY:b}}getPattern(e,t,n,r){ab(e,this._bbox);let s;if(r===Qi.SHADING)s=St.singularValueDecompose2dScale(rr(e));else if(s=St.singularValueDecompose2dScale(t.baseTransform),this.matrix){const l=St.singularValueDecompose2dScale(this.matrix);s=[s[0]*l[0],s[1]*l[1]]}const o=this._createMeshCanvas(s,r===Qi.SHADING?null:this._background,t.cachedCanvases);return r!==Qi.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class ZT extends PA{getPattern(){return"hotpink"}}function eI(i){switch(i[0]){case"RadialAxial":return new KT(i);case"Mesh":return new JT(i);case"Dummy":return new ZT}throw new Error(`Unknown IR type: ${i[0]}`)}const aS={COLORED:1,UNCOLORED:2},ov=class ov{constructor(e,t,n,r,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=s}createPatternCanvas(e){const{bbox:t,operatorList:n,paintType:r,tilingType:s,color:o,canvasGraphicsFactory:l}=this;let{xstep:c,ystep:d}=this;c=Math.abs(c),d=Math.abs(d),Ov("TilingType: "+s);const h=t[0],f=t[1],v=t[2],g=t[3],b=v-h,x=g-f,E=St.singularValueDecompose2dScale(this.matrix),S=St.singularValueDecompose2dScale(this.baseTransform),P=E[0]*S[0],F=E[1]*S[1];let M=b,$=x,H=!1,q=!1;const T=Math.ceil(c*P),D=Math.ceil(d*F),J=Math.ceil(b*P),I=Math.ceil(x*F);T>=J?M=c:H=!0,D>=I?$=d:q=!0;const O=this.getSizeAndScale(M,this.ctx.canvas.width,P),X=this.getSizeAndScale($,this.ctx.canvas.height,F),U=e.cachedCanvases.getCanvas("pattern",O.size,X.size),ce=U.context,B=l.createCanvasGraphics(ce);if(B.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(B,r,o),ce.translate(-O.scale*h,-X.scale*f),B.transform(O.scale,0,0,X.scale,0,0),ce.save(),this.clipBbox(B,h,f,v,g),B.baseTransform=rr(B.ctx),B.executeOperatorList(n),B.endDrawing(),ce.restore(),H||q){const j=U.canvas;H&&(M=c),q&&($=d);const G=this.getSizeAndScale(M,this.ctx.canvas.width,P),ie=this.getSizeAndScale($,this.ctx.canvas.height,F),le=G.size,ue=ie.size,k=e.cachedCanvases.getCanvas("pattern-workaround",le,ue),Y=k.context,te=H?Math.floor(b/c):0,re=q?Math.floor(x/d):0;for(let de=0;de<=te;de++)for(let me=0;me<=re;me++)Y.drawImage(j,le*de,ue*me,le,ue,0,0,le,ue);return{canvas:k.canvas,scaleX:G.scale,scaleY:ie.scale,offsetX:h,offsetY:f}}return{canvas:U.canvas,scaleX:O.scale,scaleY:X.scale,offsetX:h,offsetY:f}}getSizeAndScale(e,t,n){const r=Math.max(ov.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*n);return s>=r?s=r:n=s/e,{scale:n,size:s}}clipBbox(e,t,n,r,s){const o=r-t,l=s-n;e.ctx.rect(t,n,o,l),e.current.updateRectMinMax(rr(e.ctx),[t,n,r,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const r=e.ctx,s=e.current;switch(t){case aS.COLORED:const o=this.ctx;r.fillStyle=o.fillStyle,r.strokeStyle=o.strokeStyle,s.fillColor=o.fillStyle,s.strokeColor=o.strokeStyle;break;case aS.UNCOLORED:const l=St.makeHexColor(n[0],n[1],n[2]);r.fillStyle=l,r.strokeStyle=l,s.fillColor=l,s.strokeColor=l;break;default:throw new LT(`Unsupported paint type: ${t}`)}}getPattern(e,t,n,r){let s=n;r!==Qi.SHADING&&(s=St.transform(s,t.baseTransform),this.matrix&&(s=St.transform(s,this.matrix)));const o=this.createPatternCanvas(t);let l=new DOMMatrix(s);l=l.translate(o.offsetX,o.offsetY),l=l.scale(1/o.scaleX,1/o.scaleY);const c=e.createPattern(o.canvas,"repeat");return c.setTransform(l),c}};Tt(ov,"MAX_PATTERN_SIZE",3e3);let ob=ov;function tI({src:i,srcPos:e=0,dest:t,width:n,height:r,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const l=xs.isLittleEndian?4278190080:255,[c,d]=o?[s,l]:[l,s],h=n>>3,f=n&7,v=i.length;t=new Uint32Array(t.buffer);let g=0;for(let b=0;b<r;b++){for(const E=e+h;e<E;e++){const S=e<v?i[e]:255;t[g++]=S&128?d:c,t[g++]=S&64?d:c,t[g++]=S&32?d:c,t[g++]=S&16?d:c,t[g++]=S&8?d:c,t[g++]=S&4?d:c,t[g++]=S&2?d:c,t[g++]=S&1?d:c}if(f===0)continue;const x=e<v?i[e++]:255;for(let E=0;E<f;E++)t[g++]=x&1<<7-E?d:c}return{srcPos:e,destPos:g}}const oS=16,lS=100,nI=15,uS=10,cS=1e3,Xs=16;function rI(i,e){if(i._removeMirroring)throw new Error("Context is already forwarding operations.");i.__originalSave=i.save,i.__originalRestore=i.restore,i.__originalRotate=i.rotate,i.__originalScale=i.scale,i.__originalTranslate=i.translate,i.__originalTransform=i.transform,i.__originalSetTransform=i.setTransform,i.__originalResetTransform=i.resetTransform,i.__originalClip=i.clip,i.__originalMoveTo=i.moveTo,i.__originalLineTo=i.lineTo,i.__originalBezierCurveTo=i.bezierCurveTo,i.__originalRect=i.rect,i.__originalClosePath=i.closePath,i.__originalBeginPath=i.beginPath,i._removeMirroring=()=>{i.save=i.__originalSave,i.restore=i.__originalRestore,i.rotate=i.__originalRotate,i.scale=i.__originalScale,i.translate=i.__originalTranslate,i.transform=i.__originalTransform,i.setTransform=i.__originalSetTransform,i.resetTransform=i.__originalResetTransform,i.clip=i.__originalClip,i.moveTo=i.__originalMoveTo,i.lineTo=i.__originalLineTo,i.bezierCurveTo=i.__originalBezierCurveTo,i.rect=i.__originalRect,i.closePath=i.__originalClosePath,i.beginPath=i.__originalBeginPath,delete i._removeMirroring},i.save=function(){e.save(),this.__originalSave()},i.restore=function(){e.restore(),this.__originalRestore()},i.translate=function(n,r){e.translate(n,r),this.__originalTranslate(n,r)},i.scale=function(n,r){e.scale(n,r),this.__originalScale(n,r)},i.transform=function(n,r,s,o,l,c){e.transform(n,r,s,o,l,c),this.__originalTransform(n,r,s,o,l,c)},i.setTransform=function(n,r,s,o,l,c){e.setTransform(n,r,s,o,l,c),this.__originalSetTransform(n,r,s,o,l,c)},i.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},i.rotate=function(n){e.rotate(n),this.__originalRotate(n)},i.clip=function(n){e.clip(n),this.__originalClip(n)},i.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},i.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},i.bezierCurveTo=function(t,n,r,s,o,l){e.bezierCurveTo(t,n,r,s,o,l),this.__originalBezierCurveTo(t,n,r,s,o,l)},i.rect=function(t,n,r,s){e.rect(t,n,r,s),this.__originalRect(t,n,r,s)},i.closePath=function(){e.closePath(),this.__originalClosePath()},i.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class iI{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,n)):(r=this.canvasFactory.create(t,n),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function q2(i,e,t,n,r,s,o,l,c,d){const[h,f,v,g,b,x]=rr(i);if(f===0&&v===0){const P=o*h+b,F=Math.round(P),M=l*g+x,$=Math.round(M),H=(o+c)*h+b,q=Math.abs(Math.round(H)-F)||1,T=(l+d)*g+x,D=Math.abs(Math.round(T)-$)||1;return i.setTransform(Math.sign(h),0,0,Math.sign(g),F,$),i.drawImage(e,t,n,r,s,0,0,q,D),i.setTransform(h,f,v,g,b,x),[q,D]}if(h===0&&g===0){const P=l*v+b,F=Math.round(P),M=o*f+x,$=Math.round(M),H=(l+d)*v+b,q=Math.abs(Math.round(H)-F)||1,T=(o+c)*f+x,D=Math.abs(Math.round(T)-$)||1;return i.setTransform(0,Math.sign(f),Math.sign(v),0,F,$),i.drawImage(e,t,n,r,s,0,0,D,q),i.setTransform(h,f,v,g,b,x),[D,q]}i.drawImage(e,t,n,r,s,o,l,c,d);const E=Math.hypot(h,f),S=Math.hypot(v,g);return[E*c,S*d]}function sI(i){const{width:e,height:t}=i;if(e>cS||t>cS)return null;const n=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1;let o=new Uint8Array(s*(t+1)),l,c,d;const h=e+7&-8;let f=new Uint8Array(h*t),v=0;for(const S of i.data){let P=128;for(;P>0;)f[v++]=S&P?0:255,P>>=1}let g=0;for(v=0,f[v]!==0&&(o[0]=1,++g),c=1;c<e;c++)f[v]!==f[v+1]&&(o[c]=f[v]?2:1,++g),v++;for(f[v]!==0&&(o[c]=2,++g),l=1;l<t;l++){v=l*h,d=l*s,f[v-h]!==f[v]&&(o[d]=f[v]?1:8,++g);let S=(f[v]?4:0)+(f[v-h]?8:0);for(c=1;c<e;c++)S=(S>>2)+(f[v+1]?4:0)+(f[v-h+1]?8:0),r[S]&&(o[d+c]=r[S],++g),v++;if(f[v-h]!==f[v]&&(o[d+c]=f[v]?2:4,++g),g>n)return null}for(v=h*(t-1),d=l*s,f[v]!==0&&(o[d]=8,++g),c=1;c<e;c++)f[v]!==f[v+1]&&(o[d+c]=f[v]?4:8,++g),v++;if(f[v]!==0&&(o[d+c]=4,++g),g>n)return null;const b=new Int32Array([0,s,-1,0,-s,0,0,0,1]),x=new Path2D;for(l=0;g&&l<=t;l++){let S=l*s;const P=S+e;for(;S<P&&!o[S];)S++;if(S===P)continue;x.moveTo(S%s,l);const F=S;let M=o[S];do{const $=b[M];do S+=$;while(!o[S]);const H=o[S];H!==5&&H!==10?(M=H,o[S]=0):(M=H&51*M>>4,o[S]&=M>>2|M<<2),x.lineTo(S%s,S/s|0),o[S]||--g}while(F!==S);--l}return f=null,o=null,function(S){S.save(),S.scale(1/e,-1/t),S.translate(0,-t),S.fill(x),S.beginPath(),S.restore()}}class hS{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=f_,this.textMatrixScale=1,this.fontMatrix=Mw,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=qi.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.patternStroke=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,n){[t,n]=St.applyTransform([t,n],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,t){const n=St.applyTransform(t,e),r=St.applyTransform(t.slice(2),e),s=St.applyTransform([t[0],t[3]],e),o=St.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,n[0],r[0],s[0],o[0]),this.minY=Math.min(this.minY,n[1],r[1],s[1],o[1]),this.maxX=Math.max(this.maxX,n[0],r[0],s[0],o[0]),this.maxY=Math.max(this.maxY,n[1],r[1],s[1],o[1])}updateScalingPathMinMax(e,t){St.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,n,r,s,o,l,c,d,h){const f=St.bezierBoundingBox(t,n,r,s,o,l,c,d,h);h||this.updateRectMinMax(e,f)}getPathBoundingBox(e=Qi.FILL,t=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===Qi.STROKE){t||jn("Stroke bounding box must include transform.");const r=St.singularValueDecompose2dScale(t),s=r[0]*this.lineWidth/2,o=r[1]*this.lineWidth/2;n[0]-=s,n[1]-=o,n[2]+=s,n[3]+=o}return n}updateClipFromPath(){const e=St.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=Qi.FILL,t=null){return St.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function dS(i,e){if(e instanceof ImageData){i.putImageData(e,0,0);return}const t=e.height,n=e.width,r=t%Xs,s=(t-r)/Xs,o=r===0?s:s+1,l=i.createImageData(n,Xs);let c=0,d;const h=e.data,f=l.data;let v,g,b,x;if(e.kind===Z2.GRAYSCALE_1BPP){const E=h.byteLength,S=new Uint32Array(f.buffer,0,f.byteLength>>2),P=S.length,F=n+7>>3,M=4294967295,$=xs.isLittleEndian?4278190080:255;for(v=0;v<o;v++){for(b=v<s?Xs:r,d=0,g=0;g<b;g++){const H=E-c;let q=0;const T=H>F?n:H*8-7,D=T&-8;let J=0,I=0;for(;q<D;q+=8)I=h[c++],S[d++]=I&128?M:$,S[d++]=I&64?M:$,S[d++]=I&32?M:$,S[d++]=I&16?M:$,S[d++]=I&8?M:$,S[d++]=I&4?M:$,S[d++]=I&2?M:$,S[d++]=I&1?M:$;for(;q<T;q++)J===0&&(I=h[c++],J=128),S[d++]=I&J?M:$,J>>=1}for(;d<P;)S[d++]=0;i.putImageData(l,0,v*Xs)}}else if(e.kind===Z2.RGBA_32BPP){for(g=0,x=n*Xs*4,v=0;v<s;v++)f.set(h.subarray(c,c+x)),c+=x,i.putImageData(l,0,g),g+=Xs;v<o&&(x=n*r*4,f.set(h.subarray(c,c+x)),i.putImageData(l,0,g))}else if(e.kind===Z2.RGB_24BPP)for(b=Xs,x=n*b,v=0;v<o;v++){for(v>=s&&(b=r,x=n*b),d=0,g=x;g--;)f[d++]=h[c++],f[d++]=h[c++],f[d++]=h[c++],f[d++]=255;i.putImageData(l,0,v*Xs)}else throw new Error(`bad image kind: ${e.kind}`)}function fS(i,e){if(e.bitmap){i.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,r=t%Xs,s=(t-r)/Xs,o=r===0?s:s+1,l=i.createImageData(n,Xs);let c=0;const d=e.data,h=l.data;for(let f=0;f<o;f++){const v=f<s?Xs:r;({srcPos:c}=tI({src:d,srcPos:c,dest:h,width:n,height:v,nonBlackColor:0})),i.putImageData(l,0,f*Xs)}}function $m(i,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)i[n]!==void 0&&(e[n]=i[n]);i.setLineDash!==void 0&&(e.setLineDash(i.getLineDash()),e.lineDashOffset=i.lineDashOffset)}function W2(i){if(i.strokeStyle=i.fillStyle="#000000",i.fillRule="nonzero",i.globalAlpha=1,i.lineWidth=1,i.lineCap="butt",i.lineJoin="miter",i.miterLimit=10,i.globalCompositeOperation="source-over",i.font="10px sans-serif",i.setLineDash!==void 0&&(i.setLineDash([]),i.lineDashOffset=0),!ts){const{filter:e}=i;e!=="none"&&e!==""&&(i.filter="none")}}function pS(i,e){if(e)return!0;const t=St.singularValueDecompose2dScale(i);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*Kh.PDF_TO_CSS_UNITS);return t[0]<=n&&t[1]<=n}const aI=["butt","round","square"],oI=["miter","round","bevel"],lI={},gS={};var Qo,lb,ub,cb;const RA=class RA{constructor(e,t,n,r,s,{optionalContentConfig:o,markedContentStack:l=null},c,d){Z(this,Qo);this.ctx=e,this.current=new hS(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=l||[],this.optionalContentConfig=o,this.cachedCanvases=new iI(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:r=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,l=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=l,n){const c=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...rr(this.compositeCtx))}this.ctx.save(),W2(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=rr(this.ctx)}executeOperatorList(e,t,n,r){const s=e.argsArray,o=e.fnArray;let l=t||0;const c=s.length;if(c===l)return l;const d=c-l>uS&&typeof n=="function",h=d?Date.now()+nI:0;let f=0;const v=this.commonObjs,g=this.objs;let b;for(;;){if(r!==void 0&&l===r.nextBreakPoint)return r.breakIt(l,n),l;if(b=o[l],b!==Mo.dependency)this[b].apply(this,s[l]);else for(const x of s[l]){const E=x.startsWith("g_")?v:g;if(!E.has(x))return E.get(x,n),l}if(l++,l===c)return l;if(d&&++f>uS){if(Date.now()>h)return n(),l;f=0}}}endDrawing(){ne(this,Qo,lb).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),ne(this,Qo,ub).call(this)}_scaleImage(e,t){const n=e.width??e.displayWidth,r=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),l=n,c=r,d="prescale1",h,f;for(;s>2&&l>1||o>2&&c>1;){let v=l,g=c;s>2&&l>1&&(v=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),s/=l/v),o>2&&c>1&&(g=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,o/=c/g),h=this.cachedCanvases.getCanvas(d,v,g),f=h.context,f.clearRect(0,0,v,g),f.drawImage(e,0,0,l,c,0,0,v,g),e=h.canvas,l=v,c=g,d=d==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:c}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:r}=e,s=this.current.fillColor,o=this.current.patternFill,l=rr(t);let c,d,h,f;if((e.bitmap||e.data)&&e.count>1){const T=e.bitmap||e.data.buffer;d=JSON.stringify(o?l:[l.slice(0,4),s]),c=this._cachedBitmapsMap.get(T),c||(c=new Map,this._cachedBitmapsMap.set(T,c));const D=c.get(d);if(D&&!o){const J=Math.round(Math.min(l[0],l[2])+l[4]),I=Math.round(Math.min(l[1],l[3])+l[5]);return{canvas:D,offsetX:J,offsetY:I}}h=D}h||(f=this.cachedCanvases.getCanvas("maskCanvas",n,r),fS(f.context,e));let v=St.transform(l,[1/n,0,0,-1/r,0,0]);v=St.transform(v,[1,0,0,1,0,-r]);const[g,b,x,E]=St.getAxialAlignedBoundingBox([0,0,n,r],v),S=Math.round(x-g)||1,P=Math.round(E-b)||1,F=this.cachedCanvases.getCanvas("fillCanvas",S,P),M=F.context,$=g,H=b;M.translate(-$,-H),M.transform(...v),h||(h=this._scaleImage(f.canvas,Sl(M)),h=h.img,c&&o&&c.set(d,h)),M.imageSmoothingEnabled=pS(rr(M),e.interpolate),q2(M,h,0,0,h.width,h.height,0,0,n,r),M.globalCompositeOperation="source-in";const q=St.transform(Sl(M),[1,0,0,1,-$,-H]);return M.fillStyle=o?s.getPattern(t,this,q,Qi.FILL):s,M.fillRect(0,0,n,r),c&&!o&&(this.cachedCanvases.delete("fillCanvas"),c.set(d,F.canvas)),{canvas:F.canvas,offsetX:Math.round($),offsetY:Math.round(H)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=aI[e]}setLineJoin(e){this.ctx.lineJoin=oI[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx,this.ctx=r.context;const s=this.ctx;s.setTransform(...rr(this.suspendedCtx)),$m(this.suspendedCtx,s),rI(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),$m(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,r){const s=r[0],o=r[1],l=r[2]-s,c=r[3]-o;l===0||c===0||(this.genericComposeSMask(t.context,n,l,c,t.subtype,t.backdrop,t.transferMap,s,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,r,s,o,l,c,d,h,f){let v=e.canvas,g=c-h,b=d-f;if(o){const E=St.makeHexColor(...o);if(g<0||b<0||g+n>v.width||b+r>v.height){const S=this.cachedCanvases.getCanvas("maskExtension",n,r),P=S.context;P.drawImage(v,-g,-b),P.globalCompositeOperation="destination-atop",P.fillStyle=E,P.fillRect(0,0,n,r),P.globalCompositeOperation="source-over",v=S.canvas,g=b=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const S=new Path2D;S.rect(g,b,n,r),e.clip(S),e.globalCompositeOperation="destination-atop",e.fillStyle=E,e.fillRect(g,b,n,r),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&l?t.filter=this.filterFactory.addAlphaFilter(l):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(l));const x=new Path2D;x.rect(c,d,n,r),t.clip(x),t.globalCompositeOperation="destination-in",t.drawImage(v,g,b,n,r,c,d,n,r),t.restore()}save(){this.inSMaskMode?($m(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),$m(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,n,r,s,o){this.ctx.transform(e,t,n,r,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){const r=this.ctx,s=this.current;let o=s.x,l=s.y,c,d;const h=rr(r),f=h[0]===0&&h[3]===0||h[1]===0&&h[2]===0,v=f?n.slice(0):null;for(let g=0,b=0,x=e.length;g<x;g++)switch(e[g]|0){case Mo.rectangle:o=t[b++],l=t[b++];const E=t[b++],S=t[b++],P=o+E,F=l+S;r.moveTo(o,l),E===0||S===0?r.lineTo(P,F):(r.lineTo(P,l),r.lineTo(P,F),r.lineTo(o,F)),f||s.updateRectMinMax(h,[o,l,P,F]),r.closePath();break;case Mo.moveTo:o=t[b++],l=t[b++],r.moveTo(o,l),f||s.updatePathMinMax(h,o,l);break;case Mo.lineTo:o=t[b++],l=t[b++],r.lineTo(o,l),f||s.updatePathMinMax(h,o,l);break;case Mo.curveTo:c=o,d=l,o=t[b+4],l=t[b+5],r.bezierCurveTo(t[b],t[b+1],t[b+2],t[b+3],o,l),s.updateCurvePathMinMax(h,c,d,t[b],t[b+1],t[b+2],t[b+3],o,l,v),b+=6;break;case Mo.curveTo2:c=o,d=l,r.bezierCurveTo(o,l,t[b],t[b+1],t[b+2],t[b+3]),s.updateCurvePathMinMax(h,c,d,o,l,t[b],t[b+1],t[b+2],t[b+3],v),o=t[b+2],l=t[b+3],b+=4;break;case Mo.curveTo3:c=o,d=l,o=t[b+2],l=t[b+3],r.bezierCurveTo(t[b],t[b+1],o,l,o,l),s.updateCurvePathMinMax(h,c,d,t[b],t[b+1],o,l,o,l,v),b+=4;break;case Mo.closePath:r.closePath();break}f&&s.updateScalingPathMinMax(h,v),s.setCurrentPoint(o,l)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&(n!=null&&n.getPattern)?(t.save(),t.strokeStyle=n.getPattern(t,this,Sl(t),Qi.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,n=this.current.fillColor,r=this.current.patternFill;let s=!1;r&&(t.save(),t.fillStyle=n.getPattern(t,this,Sl(t),Qi.FILL),s=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),s&&t.restore(),e&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=lI}eoClip(){this.pendingClip=gS}beginText(){this.current.textMatrix=f_,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}const n=new Path2D,r=t.getTransform().invertSelf();for(const{transform:s,x:o,y:l,fontSize:c,path:d}of e)n.addPath(d,new DOMMatrix(s).preMultiplySelf(r).translate(o,l).scale(c,-c));t.clip(n),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var h;const n=this.commonObjs.get(e),r=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=n.fontMatrix||Mw,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Xt("Invalid font matrix for font "+e),t<0?(t=-t,r.fontDirection=-1):r.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const s=n.loadedName||"sans-serif",o=((h=n.systemFontInfo)==null?void 0:h.css)||`"${s}", ${n.fallbackName}`;let l="normal";n.black?l="900":n.bold&&(l="bold");const c=n.italic?"italic":"normal";let d=t;t<oS?d=oS:t>lS&&(d=lS),this.current.fontSizeScale=t/d,this.ctx.font=`${c} ${l} ${d}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,n,r,s,o){this.current.textMatrix=[e,t,n,r,s,o],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,r,s){const o=this.ctx,l=this.current,c=l.font,d=l.textRenderingMode,h=l.fontSize/l.fontSizeScale,f=d&qi.FILL_STROKE_MASK,v=!!(d&qi.ADD_TO_PATH_FLAG),g=l.patternFill&&!c.missingFile,b=l.patternStroke&&!c.missingFile;let x;if((c.disableFontFace||v||g||b)&&(x=c.getPathGenerator(this.commonObjs,e)),c.disableFontFace||g||b){if(o.save(),o.translate(t,n),o.scale(h,-h),f===qi.FILL||f===qi.FILL_STROKE)if(r){const E=o.getTransform();o.setTransform(...r),o.fill(ne(this,Qo,cb).call(this,x,E,r))}else o.fill(x);if(f===qi.STROKE||f===qi.FILL_STROKE)if(s){const E=o.getTransform();o.setTransform(...s),o.stroke(ne(this,Qo,cb).call(this,x,E,s))}else o.lineWidth/=h,o.stroke(x);o.restore()}else(f===qi.FILL||f===qi.FILL_STROKE)&&o.fillText(e,t,n),(f===qi.STROKE||f===qi.FILL_STROKE)&&o.strokeText(e,t,n);v&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:rr(o),x:t,y:n,fontSize:h,path:x})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){n=!0;break}return en(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const r=t.fontSize;if(r===0)return;const s=this.ctx,o=t.fontSizeScale,l=t.charSpacing,c=t.wordSpacing,d=t.fontDirection,h=t.textHScale*d,f=e.length,v=n.vertical,g=v?1:-1,b=n.defaultVMetrics,x=r*t.fontMatrix[0],E=t.textRenderingMode===qi.FILL&&!n.disableFontFace&&!t.patternFill;s.save(),s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),d>0?s.scale(h,-1):s.scale(h,1);let S,P;if(t.patternFill){s.save();const q=t.fillColor.getPattern(s,this,Sl(s),Qi.FILL);S=rr(s),s.restore(),s.fillStyle=q}if(t.patternStroke){s.save();const q=t.strokeColor.getPattern(s,this,Sl(s),Qi.STROKE);P=rr(s),s.restore(),s.strokeStyle=q}let F=t.lineWidth;const M=t.textMatrixScale;if(M===0||F===0){const q=t.textRenderingMode&qi.FILL_STROKE_MASK;(q===qi.STROKE||q===qi.FILL_STROKE)&&(F=this.getSinglePixelWidth())}else F/=M;if(o!==1&&(s.scale(o,o),F/=o),s.lineWidth=F,n.isInvalidPDFjsFont){const q=[];let T=0;for(const D of e)q.push(D.unicode),T+=D.width;s.fillText(q.join(""),0,0),t.x+=T*x*h,s.restore(),this.compose();return}let $=0,H;for(H=0;H<f;++H){const q=e[H];if(typeof q=="number"){$+=g*q*r/1e3;continue}let T=!1;const D=(q.isSpace?c:0)+l,J=q.fontChar,I=q.accent;let O,X,U=q.width;if(v){const B=q.vmetric||b,j=-(q.vmetric?B[1]:U*.5)*x,G=B[2]*x;U=B?-B[0]:U,O=j/o,X=($+G)/o}else O=$/o,X=0;if(n.remeasure&&U>0){const B=s.measureText(J).width*1e3/r*o;if(U<B&&this.isFontSubpixelAAEnabled){const j=U/B;T=!0,s.save(),s.scale(j,1),O/=j}else U!==B&&(O+=(U-B)/2e3*r/o)}if(this.contentVisible&&(q.isInFont||n.missingFile)){if(E&&!I)s.fillText(J,O,X);else if(this.paintChar(J,O,X,S,P),I){const B=O+r*I.offset.x/o,j=X-r*I.offset.y/o;this.paintChar(I.fontChar,B,j,S,P)}}const ce=v?U*x-D*d:U*x+D*d;$+=ce,T&&s.restore()}v?t.y-=$:t.x+=$*h,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,r=n.font,s=n.fontSize,o=n.fontDirection,l=r.vertical?1:-1,c=n.charSpacing,d=n.wordSpacing,h=n.textHScale*o,f=n.fontMatrix||Mw,v=e.length,g=n.textRenderingMode===qi.INVISIBLE;let b,x,E,S;if(!(g||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...n.textMatrix),t.translate(n.x,n.y),t.scale(h,o),b=0;b<v;++b){if(x=e[b],typeof x=="number"){S=l*x*s/1e3,this.ctx.translate(S,0),n.x+=S*h;continue}const P=(x.isSpace?d:0)+c,F=r.charProcOperatorList[x.operatorListId];if(!F){Xt(`Type3 character "${x.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=x,this.save(),t.scale(s,s),t.transform(...f),this.executeOperatorList(F),this.restore()),E=St.applyTransform([x.width,0],f)[0]*s+P,t.translate(E,0),n.x+=E*h}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,r,s,o){this.ctx.rect(n,r,s-n,o-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const n=e[1],r=this.baseTransform||rr(this.ctx),s={createCanvasGraphics:o=>new RA(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new ob(e,n,this.ctx,s,r)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,n){this.ctx.strokeStyle=this.current.strokeColor=St.makeHexColor(e,t,n),this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t,n){this.ctx.fillStyle=this.current.fillColor=St.makeHexColor(e,t,n),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let n;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=eI(this.getObject(e)),this.cachedPatterns.set(e,n)),t&&(n.matrix=t),n}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,Sl(t),Qi.SHADING);const r=Sl(t);if(r){const{width:s,height:o}=t.canvas,[l,c,d,h]=St.getAxialAlignedBoundingBox([0,0,s,o],r);this.ctx.fillRect(l,c,d-l,h-c)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){jn("Should not call beginInlineImage")}beginImageData(){jn("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=rr(this.ctx),t)){const n=t[2]-t[0],r=t[3]-t[1];this.ctx.rect(t[0],t[1],n,r),this.current.updateRectMinMax(rr(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||Ov("TODO: Support non-isolated groups."),e.knockout&&Xt("Knockout groups not supported.");const n=rr(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=St.getAxialAlignedBoundingBox(e.bbox,rr(t));const s=[0,0,t.canvas.width,t.canvas.height];r=St.intersect(r,s)||[0,0,0,0];const o=Math.floor(r[0]),l=Math.floor(r[1]),c=Math.max(Math.ceil(r[2])-o,1),d=Math.max(Math.ceil(r[3])-l,1);this.current.startNewPathAndClipBox([0,0,c,d]);let h="groupAt"+this.groupLevel;e.smask&&(h+="_smask_"+this.smaskCounter++%2);const f=this.cachedCanvases.getCanvas(h,c,d),v=f.context;v.translate(-o,-l),v.transform(...n),e.smask?this.smaskStack.push({canvas:f.canvas,context:v,offsetX:o,offsetY:l,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,l),t.save()),$m(t,v),this.ctx=v,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=rr(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const s=St.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],r);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,n,r,s){if(ne(this,Qo,lb).call(this),W2(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const o=t[2]-t[0],l=t[3]-t[1];if(s&&this.annotationCanvasMap){n=n.slice(),n[4]-=t[0],n[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=o,t[3]=l;const[c,d]=St.singularValueDecompose2dScale(rr(this.ctx)),{viewportScale:h}=this,f=Math.ceil(o*this.outputScaleX*h),v=Math.ceil(l*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(f,v);const{canvas:g,context:b}=this.annotationCanvas;this.annotationCanvasMap.set(e,g),this.annotationCanvas.savedCtx=this.ctx,this.ctx=b,this.ctx.save(),this.ctx.setTransform(c,0,0,-d,0,l*d),W2(this.ctx)}else W2(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],o,l),this.ctx.clip(),this.ctx.beginPath()}this.current=new hS(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),ne(this,Qo,ub).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const n=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=sI(e)),r.compiled)){r.compiled(n);return}const s=this._createMaskCanvas(e),o=s.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(o,s.offsetX,s.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n=0,r=0,s,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const l=this.ctx;l.save();const c=rr(l);l.transform(t,n,r,s,0,0);const d=this._createMaskCanvas(e);l.setTransform(1,0,0,1,d.offsetX-c[4],d.offsetY-c[5]);for(let h=0,f=o.length;h<f;h+=2){const v=St.transform(c,[t,n,r,s,o[h],o[h+1]]),[g,b]=St.applyTransform([0,0],v);l.drawImage(d.canvas,g,b)}l.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,r=this.current.patternFill;for(const s of e){const{data:o,width:l,height:c,transform:d}=s,h=this.cachedCanvases.getCanvas("maskCanvas",l,c),f=h.context;f.save();const v=this.getObject(o,s);fS(f,v),f.globalCompositeOperation="source-in",f.fillStyle=r?n.getPattern(f,this,Sl(t),Qi.FILL):n,f.fillRect(0,0,l,c),f.restore(),t.save(),t.transform(...d),t.scale(1,-1),q2(t,h.canvas,0,0,l,c,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){Xt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,n,r){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){Xt("Dependent image isn't ready yet");return}const o=s.width,l=s.height,c=[];for(let d=0,h=r.length;d<h;d+=2)c.push({transform:[t,0,0,n,r[d],r[d+1]],x:0,y:0,w:o,h:l});this.paintInlineImageXObjectGroup(s,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:r}=e,s=this.cachedCanvases.getCanvas("inlineImage",n,r),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,r=this.ctx;if(this.save(),!ts){const{filter:l}=r;l!=="none"&&l!==""&&(r.filter="none")}r.scale(1/t,-1/n);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const c=this.cachedCanvases.getCanvas("inlineImage",t,n).context;dS(c,e),s=this.applyTransferMapsToCanvas(c)}const o=this._scaleImage(s,Sl(r));r.imageSmoothingEnabled=pS(rr(r),e.interpolate),q2(r,o.img,0,0,o.paintWidth,o.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const s=e.width,o=e.height,c=this.cachedCanvases.getCanvas("inlineImage",s,o).context;dS(c,e),r=this.applyTransferMapsToCanvas(c)}for(const s of t)n.save(),n.transform(...s.transform),n.scale(1,-1),q2(n,r,s.x,s.y,s.w,s.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(t||(this.pendingClip===gS?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=rr(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:r,d:s}=this.ctx.getTransform();let o,l;if(n===0&&r===0){const c=Math.abs(t),d=Math.abs(s);if(c===d)if(e===0)o=l=1/c;else{const h=c*e;o=l=h<1?1/h:1}else if(e===0)o=1/c,l=1/d;else{const h=c*e,f=d*e;o=h<1?1/h:1,l=f<1?1/f:1}}else{const c=Math.abs(t*s-n*r),d=Math.hypot(t,n),h=Math.hypot(r,s);if(e===0)o=h/c,l=d/c;else{const f=e*c;o=h>f?h/f:1,l=d>f?d/f:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=l}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:n}=this.current,[r,s]=this.getScaleForStroking();if(t.lineWidth=n||1,r===1&&s===1){t.stroke();return}const o=t.getLineDash();if(e&&t.save(),t.scale(r,s),o.length>0){const l=Math.max(r,s);t.setLineDash(o.map(c=>c/l)),t.lineDashOffset/=l}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Qo=new WeakSet,lb=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},ub=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},cb=function(e,t,n){const r=new Path2D;return r.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(t)),r};let sg=RA;for(const i in Mo)sg.prototype[i]!==void 0&&(sg.prototype[Mo[i]]=sg.prototype[i]);var K1,Q1;class cc{static get workerPort(){return p(this,K1)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");z(this,K1,e)}static get workerSrc(){return p(this,Q1)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");z(this,Q1,e)}}K1=new WeakMap,Q1=new WeakMap,Z(cc,K1,null),Z(cc,Q1,"");var df,J1;class uI{constructor({parsedData:e,rawData:t}){Z(this,df);Z(this,J1);z(this,df,e),z(this,J1,t)}getRaw(){return p(this,J1)}get(e){return p(this,df).get(e)??null}getAll(){return AA(p(this,df))}has(e){return p(this,df).has(e)}}df=new WeakMap,J1=new WeakMap;const Vp=Symbol("INTERNAL");var Z1,e0,t0,_g;class cI{constructor(e,{name:t,intent:n,usage:r,rbGroups:s}){Z(this,Z1,!1);Z(this,e0,!1);Z(this,t0,!1);Z(this,_g,!0);z(this,Z1,!!(e&_a.DISPLAY)),z(this,e0,!!(e&_a.PRINT)),this.name=t,this.intent=n,this.usage=r,this.rbGroups=s}get visible(){if(p(this,t0))return p(this,_g);if(!p(this,_g))return!1;const{print:e,view:t}=this.usage;return p(this,Z1)?(t==null?void 0:t.viewState)!=="OFF":p(this,e0)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,n=!1){e!==Vp&&jn("Internal method `_setVisible` called."),z(this,t0,n),z(this,_g,t)}}Z1=new WeakMap,e0=new WeakMap,t0=new WeakMap,_g=new WeakMap;var Sh,Tn,Eg,Lg,n0,hb;class hI{constructor(e,t=_a.DISPLAY){Z(this,n0);Z(this,Sh,null);Z(this,Tn,new Map);Z(this,Eg,null);Z(this,Lg,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,z(this,Lg,e.order);for(const n of e.groups)p(this,Tn).set(n.id,new cI(t,n));if(e.baseState==="OFF")for(const n of p(this,Tn).values())n._setVisible(Vp,!1);for(const n of e.on)p(this,Tn).get(n)._setVisible(Vp,!0);for(const n of e.off)p(this,Tn).get(n)._setVisible(Vp,!1);z(this,Eg,this.getHash())}}isVisible(e){if(p(this,Tn).size===0)return!0;if(!e)return Ov("Optional content group not defined."),!0;if(e.type==="OCG")return p(this,Tn).has(e.id)?p(this,Tn).get(e.id).visible:(Xt(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return ne(this,n0,hb).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!p(this,Tn).has(t))return Xt(`Optional content group not found: ${t}`),!0;if(p(this,Tn).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!p(this,Tn).has(t))return Xt(`Optional content group not found: ${t}`),!0;if(!p(this,Tn).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!p(this,Tn).has(t))return Xt(`Optional content group not found: ${t}`),!0;if(!p(this,Tn).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!p(this,Tn).has(t))return Xt(`Optional content group not found: ${t}`),!0;if(p(this,Tn).get(t).visible)return!1}return!0}return Xt(`Unknown optional content policy ${e.policy}.`),!0}return Xt(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){var s;const r=p(this,Tn).get(e);if(!r){Xt(`Optional content group not found: ${e}`);return}if(n&&t&&r.rbGroups.length)for(const o of r.rbGroups)for(const l of o)l!==e&&((s=p(this,Tn).get(l))==null||s._setVisible(Vp,!1,!0));r._setVisible(Vp,!!t,!0),z(this,Sh,null)}setOCGState({state:e,preserveRB:t}){let n;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":n=r;continue}const s=p(this,Tn).get(r);if(s)switch(n){case"ON":this.setVisibility(r,!0,t);break;case"OFF":this.setVisibility(r,!1,t);break;case"Toggle":this.setVisibility(r,!s.visible,t);break}}z(this,Sh,null)}get hasInitialVisibility(){return p(this,Eg)===null||this.getHash()===p(this,Eg)}getOrder(){return p(this,Tn).size?p(this,Lg)?p(this,Lg).slice():[...p(this,Tn).keys()]:null}getGroups(){return p(this,Tn).size>0?AA(p(this,Tn)):null}getGroup(e){return p(this,Tn).get(e)||null}getHash(){if(p(this,Sh)!==null)return p(this,Sh);const e=new q_;for(const[t,n]of p(this,Tn))e.update(`${t}:${n.visible}`);return z(this,Sh,e.hexdigest())}}Sh=new WeakMap,Tn=new WeakMap,Eg=new WeakMap,Lg=new WeakMap,n0=new WeakSet,hb=function(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let r=1;r<t;r++){const s=e[r];let o;if(Array.isArray(s))o=ne(this,n0,hb).call(this,s);else if(p(this,Tn).has(s))o=p(this,Tn).get(s).visible;else return Xt(`Optional content group not found: ${s}`),!0;switch(n){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return n==="And"};class dI{constructor(e,{disableRange:t=!1,disableStream:n=!1}){Mr(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:s,progressiveDone:o,contentDispositionFilename:l}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=l,(s==null?void 0:s.length)>0){const c=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((c,d)=>{this._onReceiveData({begin:c,chunk:d})}),e.addProgressListener((c,d)=>{this._onProgress({loaded:c,total:d})}),e.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const r=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(n),!0)});Mr(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,n,r,s;e.total===void 0?(n=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||n.call(t,{loaded:e.loaded}):(s=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||s.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Mr(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new fI(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new pI(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class fI{constructor(e,t,n=!1,r=null){this._stream=e,this._done=n||!1,this._filename=_A(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class pI{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function gI(i){let e=!0,t=n("filename\\*","i").exec(i);if(t){t=t[1];let h=l(t);return h=unescape(h),h=c(h),h=d(h),s(h)}if(t=o(i),t){const h=d(t);return s(h)}if(t=n("filename","i").exec(i),t){t=t[1];let h=l(t);return h=d(h),s(h)}function n(h,f){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',f)}function r(h,f){if(h){if(!/^[\x00-\xFF]+$/.test(f))return f;try{const v=new TextDecoder(h,{fatal:!0}),g=Dv(f);f=v.decode(g),e=!1}catch{}}return f}function s(h){return e&&/[\x80-\xff]/.test(h)&&(h=r("utf-8",h),e&&(h=r("iso-8859-1",h))),h}function o(h){const f=[];let v;const g=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=g.exec(h))!==null;){let[,x,E,S]=v;if(x=parseInt(x,10),x in f){if(x===0)break;continue}f[x]=[E,S]}const b=[];for(let x=0;x<f.length&&x in f;++x){let[E,S]=f[x];S=l(S),E&&(S=unescape(S),x===0&&(S=c(S))),b.push(S)}return b.join("")}function l(h){if(h.startsWith('"')){const f=h.slice(1).split('\\"');for(let v=0;v<f.length;++v){const g=f[v].indexOf('"');g!==-1&&(f[v]=f[v].slice(0,g),f.length=v+1),f[v]=f[v].replaceAll(/\\(.)/g,"$1")}h=f.join('"')}return h}function c(h){const f=h.indexOf("'");if(f===-1)return h;const v=h.slice(0,f),b=h.slice(f+1).replace(/^[^']*'/,"");return r(v,b)}function d(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(f,v,g,b){if(g==="q"||g==="Q")return b=b.replaceAll("_"," "),b=b.replaceAll(/=([0-9a-fA-F]{2})/g,function(x,E){return String.fromCharCode(parseInt(E,16))}),r(v,b);try{b=atob(b)}catch{}return r(v,b)})}return""}function iE(i,e){const t=new Headers;if(!i||!e||typeof e!="object")return t;for(const n in e){const r=e[n];r!==void 0&&t.append(n,r)}return t}function zv(i){try{return new URL(i).origin}catch{}return null}function sE({responseHeaders:i,isHttp:e,rangeChunkSize:t,disableRange:n}){const r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(i.get("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*t)||n||!e||i.get("Accept-Ranges")!=="bytes"||(i.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function aE(i){const e=i.get("Content-Disposition");if(e){let t=gI(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(_A(t))return t}return null}function Uv(i,e){return i===404||i===0&&e.startsWith("file:")?new w1('Missing PDF "'+e+'".'):new V5(`Unexpected server response (${i}) while retrieving PDF "${e}".`,i)}function oE(i){return i===200||i===206}function lE(i,e,t){return{method:"GET",headers:i,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function uE(i){return i instanceof Uint8Array?i.buffer:i instanceof ArrayBuffer?i:(Xt(`getArrayBuffer - unexpected data format: ${i}`),new Uint8Array(i).buffer)}class mS{constructor(e){Tt(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=iE(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Mr(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new mI(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new vI(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class mI{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),r=t.url;fetch(r,lE(n,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=zv(s.url),!oE(s.status))throw Uv(s.status,r);this._reader=s.body.getReader(),this._headersCapability.resolve();const o=s.headers,{allowRangeRequests:l,suggestedLength:c}=sE({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=l,this._contentLength=c||this._contentLength,this._filename=aE(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Yh("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:uE(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class vI{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${n-1}`);const o=r.url;fetch(o,lE(s,this._withCredentials,this._abortController)).then(l=>{const c=zv(l.url);if(c!==e._responseOrigin)throw new Error(`Expected range response-origin "${c}" to match "${e._responseOrigin}".`);if(!oE(l.status))throw Uv(l.status,o);this._readCapability.resolve(),this._reader=l.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:uE(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const aw=200,ow=206;function yI(i){const e=i.response;return typeof e!="string"?e:Dv(e).buffer}class wI{constructor({url:e,httpHeaders:t,withCredentials:n}){Tt(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=iE(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,o]of this.headers)t.setRequestHeader(s,o);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=ow):r.expectedStatus=aw,t.responseType="arraybuffer",Mr(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var r;const n=this.pendingRequests[e];n&&((r=n.onProgress)==null||r.call(n,t))}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){n.onError(r.status);return}const s=r.status||aw;if(!(s===aw&&n.expectedStatus===ow)&&s!==n.expectedStatus){n.onError(r.status);return}const l=yI(r);if(s===ow){const c=r.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(c);d?n.onDone({begin:parseInt(d[1],10),chunk:l}):(Xt('Missing or invalid "Content-Range" header.'),n.onError(0))}else l?n.onDone({begin:0,chunk:l}):n.onError(r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class bI{constructor(e){this._source=e,this._manager=new wI(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Mr(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new AI(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new xI(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class AI{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=zv(t.responseURL);const n=t.getAllResponseHeaders(),r=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(l=>{const[c,...d]=l.split(": ");return[c,d.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:o}=sE({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=aE(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Uv(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class xI{constructor(e,t,n){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=zv((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=Uv(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const SI=/^[a-z][a-z0-9\-+.]+:/i;function _I(i){if(SI.test(i))return new URL(i);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(i))}class EI{constructor(e){this.source=e,this.url=_I(e.url),Mr(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Mr(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new LI(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new CI(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class LI{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=new w1(`Missing PDF "${this._url}".`)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Yh("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class CI{constructor(e,t,n){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=e.source;this._isStreamingSupported=!r.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const PI=1e5,Hs=30,NI=.8;var bS,_h,Vs,r0,i0,ff,Xu,s0,a0,pf,Cg,Pg,Eh,Ng,o0,kg,gf,l0,u0,mf,vf,c0,Lh,Tg,gc,cE,hE,db,Na,c5,fb,dE,fE;const Wr=class Wr{constructor({textContentSource:e,container:t,viewport:n}){Z(this,gc);Z(this,_h,Promise.withResolvers());Z(this,Vs,null);Z(this,r0,!1);Z(this,i0,!!((bS=globalThis.FontInspector)!=null&&bS.enabled));Z(this,ff,null);Z(this,Xu,null);Z(this,s0,0);Z(this,a0,0);Z(this,pf,null);Z(this,Cg,null);Z(this,Pg,0);Z(this,Eh,0);Z(this,Ng,Object.create(null));Z(this,o0,[]);Z(this,kg,null);Z(this,gf,[]);Z(this,l0,new WeakMap);Z(this,u0,null);var c;if(e instanceof ReadableStream)z(this,kg,e);else if(typeof e=="object")z(this,kg,new ReadableStream({start(d){d.enqueue(e),d.close()}}));else throw new Error('No "textContentSource" parameter specified.');z(this,Vs,z(this,Cg,t)),z(this,Eh,n.scale*(globalThis.devicePixelRatio||1)),z(this,Pg,n.rotation),z(this,Xu,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:s,pageX:o,pageY:l}=n.rawDims;z(this,u0,[1,0,0,-1,-o,l+s]),z(this,a0,r),z(this,s0,s),ne(c=Wr,Na,dE).call(c),Zf(t,n),p(this,_h).promise.finally(()=>{p(Wr,Tg).delete(this),z(this,Xu,null),z(this,Ng,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=xs.platform;return en(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{p(this,pf).read().then(({value:t,done:n})=>{if(n){p(this,_h).resolve();return}p(this,ff)??z(this,ff,t.lang),Object.assign(p(this,Ng),t.styles),ne(this,gc,cE).call(this,t.items),e()},p(this,_h).reject)};return z(this,pf,p(this,kg).getReader()),p(Wr,Tg).add(this),e(),p(this,_h).promise}update({viewport:e,onBefore:t=null}){var s;const n=e.scale*(globalThis.devicePixelRatio||1),r=e.rotation;if(r!==p(this,Pg)&&(t==null||t(),z(this,Pg,r),Zf(p(this,Cg),{rotation:r})),n!==p(this,Eh)){t==null||t(),z(this,Eh,n);const o={div:null,properties:null,ctx:ne(s=Wr,Na,c5).call(s,p(this,ff))};for(const l of p(this,gf))o.properties=p(this,l0).get(l),o.div=l,ne(this,gc,db).call(this,o)}}cancel(){var t;const e=new Yh("TextLayer task cancelled.");(t=p(this,pf))==null||t.cancel(e).catch(()=>{}),z(this,pf,null),p(this,_h).reject(e)}get textDivs(){return p(this,gf)}get textContentItemsStr(){return p(this,o0)}static cleanup(){if(!(p(this,Tg).size>0)){p(this,mf).clear();for(const{canvas:e}of p(this,vf).values())e.remove();p(this,vf).clear()}}};_h=new WeakMap,Vs=new WeakMap,r0=new WeakMap,i0=new WeakMap,ff=new WeakMap,Xu=new WeakMap,s0=new WeakMap,a0=new WeakMap,pf=new WeakMap,Cg=new WeakMap,Pg=new WeakMap,Eh=new WeakMap,Ng=new WeakMap,o0=new WeakMap,kg=new WeakMap,gf=new WeakMap,l0=new WeakMap,u0=new WeakMap,mf=new WeakMap,vf=new WeakMap,c0=new WeakMap,Lh=new WeakMap,Tg=new WeakMap,gc=new WeakSet,cE=function(e){var r,s;if(p(this,r0))return;(s=p(this,Xu)).ctx??(s.ctx=ne(r=Wr,Na,c5).call(r,p(this,ff)));const t=p(this,gf),n=p(this,o0);for(const o of e){if(t.length>PI){Xt("Ignoring additional textDivs for performance reasons."),z(this,r0,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const l=p(this,Vs);z(this,Vs,document.createElement("span")),p(this,Vs).classList.add("markedContent"),o.id!==null&&p(this,Vs).setAttribute("id",`${o.id}`),l.append(p(this,Vs))}else o.type==="endMarkedContent"&&z(this,Vs,p(this,Vs).parentNode);continue}n.push(o.str),ne(this,gc,hE).call(this,o)}},hE=function(e){var x;const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};p(this,gf).push(t);const r=St.transform(p(this,u0),e.transform);let s=Math.atan2(r[1],r[0]);const o=p(this,Ng)[e.fontName];o.vertical&&(s+=Math.PI/2);let l=p(this,i0)&&o.fontSubstitution||o.fontFamily;l=Wr.fontFamilyMap.get(l)||l;const c=Math.hypot(r[2],r[3]),d=c*ne(x=Wr,Na,fE).call(x,l,p(this,ff));let h,f;s===0?(h=r[4],f=r[5]-d):(h=r[4]+d*Math.sin(s),f=r[5]-d*Math.cos(s));const v="calc(var(--scale-factor)*",g=t.style;p(this,Vs)===p(this,Cg)?(g.left=`${(100*h/p(this,a0)).toFixed(2)}%`,g.top=`${(100*f/p(this,s0)).toFixed(2)}%`):(g.left=`${v}${h.toFixed(2)}px)`,g.top=`${v}${f.toFixed(2)}px)`),g.fontSize=`${v}${(p(Wr,Lh)*c).toFixed(2)}px)`,g.fontFamily=l,n.fontSize=c,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,p(this,i0)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),s!==0&&(n.angle=s*(180/Math.PI));let b=!1;if(e.str.length>1)b=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const E=Math.abs(e.transform[0]),S=Math.abs(e.transform[3]);E!==S&&Math.max(E,S)/Math.min(E,S)>1.5&&(b=!0)}if(b&&(n.canvasWidth=o.vertical?e.height:e.width),p(this,l0).set(t,n),p(this,Xu).div=t,p(this,Xu).properties=n,ne(this,gc,db).call(this,p(this,Xu)),n.hasText&&p(this,Vs).append(t),n.hasEOL){const E=document.createElement("br");E.setAttribute("role","presentation"),p(this,Vs).append(E)}},db=function(e){var l;const{div:t,properties:n,ctx:r}=e,{style:s}=t;let o="";if(p(Wr,Lh)>1&&(o=`scale(${1/p(Wr,Lh)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:c}=s,{canvasWidth:d,fontSize:h}=n;ne(l=Wr,Na,fb).call(l,r,h*p(this,Eh),c);const{width:f}=r.measureText(t.textContent);f>0&&(o=`scaleX(${d*p(this,Eh)/f}) ${o}`)}n.angle!==0&&(o=`rotate(${n.angle}deg) ${o}`),o.length>0&&(s.transform=o)},Na=new WeakSet,c5=function(e=null){let t=p(this,vf).get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),p(this,vf).set(e,t),p(this,c0).set(t,{size:0,family:""})}return t},fb=function(e,t,n){const r=p(this,c0).get(e);t===r.size&&n===r.family||(e.font=`${t}px ${n}`,r.size=t,r.family=n)},dE=function(){if(p(this,Lh)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),z(this,Lh,e.getBoundingClientRect().height),e.remove()},fE=function(e,t){const n=p(this,mf).get(e);if(n)return n;const r=ne(this,Na,c5).call(this,t);r.canvas.width=r.canvas.height=Hs,ne(this,Na,fb).call(this,r,Hs,e);const s=r.measureText("");let o=s.fontBoundingBoxAscent,l=Math.abs(s.fontBoundingBoxDescent);if(o){const h=o/(o+l);return p(this,mf).set(e,h),r.canvas.width=r.canvas.height=0,h}r.strokeStyle="red",r.clearRect(0,0,Hs,Hs),r.strokeText("g",0,0);let c=r.getImageData(0,0,Hs,Hs).data;l=0;for(let h=c.length-1-3;h>=0;h-=4)if(c[h]>0){l=Math.ceil(h/4/Hs);break}r.clearRect(0,0,Hs,Hs),r.strokeText("A",0,Hs),c=r.getImageData(0,0,Hs,Hs).data,o=0;for(let h=0,f=c.length;h<f;h+=4)if(c[h]>0){o=Hs-Math.floor(h/4/Hs);break}r.canvas.width=r.canvas.height=0;const d=o?o/(o+l):NI;return p(this,mf).set(e,d),d},Z(Wr,Na),Z(Wr,mf,new Map),Z(Wr,vf,new Map),Z(Wr,c0,new WeakMap),Z(Wr,Lh,null),Z(Wr,Tg,new Set);let b1=Wr;class A1{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function r(s){var c;if(!s)return;let o=null;const l=s.name;if(l==="#text")o=s.value;else if(A1.shouldBuildText(l))(c=s==null?void 0:s.attributes)!=null&&c.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&t.push({str:o}),!!s.children)for(const d of s.children)r(d)}return r(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const kI=65536,TI=100,II=5e3,RI=ts?GT:qT,FI=ts?XT:J_,MI=ts?VT:WT,OI=ts?YT:nE;function DI(i={}){typeof i=="string"||i instanceof URL?i={url:i}:(i instanceof ArrayBuffer||ArrayBuffer.isView(i))&&(i={data:i});const e=new pb,{docId:t}=e,n=i.url?jI(i.url):null,r=i.data?BI(i.data):null,s=i.httpHeaders||null,o=i.withCredentials===!0,l=i.password??null,c=i.range instanceof pE?i.range:null,d=Number.isInteger(i.rangeChunkSize)&&i.rangeChunkSize>0?i.rangeChunkSize:kI;let h=i.worker instanceof ag?i.worker:null;const f=i.verbosity,v=typeof i.docBaseUrl=="string"&&!Bv(i.docBaseUrl)?i.docBaseUrl:null,g=typeof i.cMapUrl=="string"?i.cMapUrl:null,b=i.cMapPacked!==!1,x=i.CMapReaderFactory||FI,E=typeof i.standardFontDataUrl=="string"?i.standardFontDataUrl:null,S=i.StandardFontDataFactory||OI,P=i.stopAtErrors!==!0,F=Number.isInteger(i.maxImageSize)&&i.maxImageSize>-1?i.maxImageSize:-1,M=i.isEvalSupported!==!1,$=typeof i.isOffscreenCanvasSupported=="boolean"?i.isOffscreenCanvasSupported:!ts,H=typeof i.isImageDecoderSupported=="boolean"?i.isImageDecoderSupported:!ts&&(xs.platform.isFirefox||!globalThis.chrome),q=Number.isInteger(i.canvasMaxAreaInBytes)?i.canvasMaxAreaInBytes:-1,T=typeof i.disableFontFace=="boolean"?i.disableFontFace:ts,D=i.fontExtraProperties===!0,J=i.enableXfa===!0,I=i.ownerDocument||globalThis.document,O=i.disableRange===!0,X=i.disableStream===!0,U=i.disableAutoFetch===!0,ce=i.pdfBug===!0,B=i.CanvasFactory||RI,j=i.FilterFactory||MI,G=i.enableHWA===!0,ie=c?c.length:i.length??NaN,le=typeof i.useSystemFonts=="boolean"?i.useSystemFonts:!ts&&!T,ue=typeof i.useWorkerFetch=="boolean"?i.useWorkerFetch:x===J_&&S===nE&&g&&E&&Vm(g,document.baseURI)&&Vm(E,document.baseURI),k=null;xT(f);const Y={canvasFactory:new B({ownerDocument:I,enableHWA:G}),filterFactory:new j({docId:t,ownerDocument:I}),cMapReaderFactory:ue?null:new x({baseUrl:g,isCompressed:b}),standardFontDataFactory:ue?null:new S({baseUrl:E})};if(!h){const de={verbosity:f,port:cc.workerPort};h=de.port?ag.fromPort(de):new ag(de),e._worker=h}const te={docId:t,apiVersion:"4.10.38",data:r,password:l,disableAutoFetch:U,rangeChunkSize:d,length:ie,docBaseUrl:v,enableXfa:J,evaluatorOptions:{maxImageSize:F,disableFontFace:T,ignoreErrors:P,isEvalSupported:M,isOffscreenCanvasSupported:$,isImageDecoderSupported:H,canvasMaxAreaInBytes:q,fontExtraProperties:D,useSystemFonts:le,cMapUrl:ue?g:null,standardFontDataUrl:ue?E:null}},re={disableFontFace:T,fontExtraProperties:D,ownerDocument:I,pdfBug:ce,styleElement:k,loadingParams:{disableAutoFetch:U,enableXfa:J}};return h.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const de=h.messageHandler.sendWithPromise("GetDocRequest",te,r?[r.buffer]:null);let me;if(c)me=new dI(c,{disableRange:O,disableStream:X});else if(!r){if(!n)throw new Error("getDocument - no `url` parameter provided.");let we;if(ts)if(Vm(n)){if(typeof fetch>"u"||typeof Response>"u"||!("body"in Response.prototype))throw new Error("getDocument - the Fetch API was disabled in Node.js, see `--no-experimental-fetch`.");we=mS}else we=EI;else we=Vm(n)?mS:bI;me=new we({url:n,length:ie,httpHeaders:s,withCredentials:o,rangeChunkSize:d,disableRange:O,disableStream:X})}return de.then(we=>{if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const _e=new Km(t,we,h.port),je=new $I(_e,e,me,re,Y);e._transport=je,_e.send("Ready",null)})}).catch(e._capability.reject),e}function jI(i){if(i instanceof URL)return i.href;try{return new URL(i,window.location).href}catch{if(ts&&typeof i=="string")return i}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function BI(i){if(ts&&typeof Buffer<"u"&&i instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength)return i;if(typeof i=="string")return Dv(i);if(i instanceof ArrayBuffer||ArrayBuffer.isView(i)||typeof i=="object"&&!isNaN(i==null?void 0:i.length))return new Uint8Array(i);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function vS(i){return typeof i=="object"&&Number.isInteger(i==null?void 0:i.num)&&i.num>=0&&Number.isInteger(i==null?void 0:i.gen)&&i.gen>=0}var lv;const uv=class uv{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${gs(uv,lv)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,n,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(s){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,s}this._transport=null,(r=this._worker)==null||r.destroy(),this._worker=null}};lv=new WeakMap,Z(uv,lv,0);let pb=uv;class pE{constructor(e,t,n=!1,r=null){this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){jn("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class zI{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return en(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Ch,Yu,no,Gp,h5;class UI{constructor(e,t,n,r=!1){Z(this,no);Z(this,Ch,null);Z(this,Yu,!1);this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=r?new rS:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new gE,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:s=!1}={}){return new Z0({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return en(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:n="display",annotationMode:r=ch.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:c=null,pageColors:d=null,printAnnotationStorage:h=null,isEditing:f=!1}){var M,$;(M=this._stats)==null||M.time("Overall");const v=this._transport.getRenderingIntent(n,r,h,f),{renderingIntent:g,cacheKey:b}=v;z(this,Yu,!1),ne(this,no,h5).call(this),l||(l=this._transport.getOptionalContentConfig(g));let x=this._intentStates.get(b);x||(x=Object.create(null),this._intentStates.set(b,x)),x.streamReaderCancelTimeout&&(clearTimeout(x.streamReaderCancelTimeout),x.streamReaderCancelTimeout=null);const E=!!(g&_a.PRINT);x.displayReadyCapability||(x.displayReadyCapability=Promise.withResolvers(),x.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},($=this._stats)==null||$.time("Page Request"),this._pumpOperatorList(v));const S=H=>{var q;x.renderTasks.delete(P),(this._maybeCleanupAfterRender||E)&&z(this,Yu,!0),ne(this,no,Gp).call(this,!E),H?(P.capability.reject(H),this._abortOperatorList({intentState:x,reason:H instanceof Error?H:new Error(H)})):P.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(q=globalThis.Stats)!=null&&q.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},P=new mb({callback:S,params:{canvasContext:e,viewport:t,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:x.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!E,pdfBug:this._pdfBug,pageColors:d});(x.renderTasks||(x.renderTasks=new Set)).add(P);const F=P.task;return Promise.all([x.displayReadyCapability.promise,l]).then(([H,q])=>{var T;if(this.destroyed){S();return}if((T=this._stats)==null||T.time("Rendering"),!(q.renderingIntent&g))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");P.initializeGraphics({transparency:H,optionalContentConfig:q}),P.operatorListChanged()}).catch(S),F}getOperatorList({intent:e="display",annotationMode:t=ch.ENABLE,printAnnotationStorage:n=null,isEditing:r=!1}={}){var d;function s(){l.operatorList.lastChunk&&(l.opListReadCapability.resolve(l.operatorList),l.renderTasks.delete(c))}const o=this._transport.getRenderingIntent(e,t,n,r,!0);let l=this._intentStates.get(o.cacheKey);l||(l=Object.create(null),this._intentStates.set(o.cacheKey,l));let c;return l.opListReadCapability||(c=Object.create(null),c.operatorListChanged=s,l.opListReadCapability=Promise.withResolvers(),(l.renderTasks||(l.renderTasks=new Set)).add(c),l.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(d=this._stats)==null||d.time("Page Request"),this._pumpOperatorList(o)),l.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>A1.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,r){function s(){o.read().then(function({value:c,done:d}){if(d){n(l);return}l.lang??(l.lang=c.lang),Object.assign(l.styles,c.styles),l.items.push(...c.items),s()},r)}const o=t.getReader(),l={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),z(this,Yu,!1),ne(this,no,h5).call(this),Promise.all(e)}cleanup(e=!1){z(this,Yu,!0);const t=ne(this,no,Gp).call(this,!1);return e&&t&&this._stats&&(this._stats=new rS),t}_startRenderPage(e,t){var r,s;const n=this._intentStates.get(t);n&&((r=this._stats)==null||r.timeEnd("Page Request"),(s=n.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let n=0,r=e.length;n<r;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&ne(this,no,Gp).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:r}){const{map:s,transfer:o}=n,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:r},o).getReader(),d=this._intentStates.get(t);d.streamReader=c;const h=()=>{c.read().then(({value:f,done:v})=>{if(v){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(f,d),h())},f=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(const v of d.renderTasks)v.operatorListChanged();ne(this,no,Gp).call(this,!0)}if(d.displayReadyCapability)d.displayReadyCapability.reject(f);else if(d.opListReadCapability)d.opListReadCapability.reject(f);else throw f}})};h()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof SA){let r=TI;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new Yh(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,s]of this._intentStates)if(s===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}Ch=new WeakMap,Yu=new WeakMap,no=new WeakSet,Gp=function(e=!1){if(ne(this,no,h5).call(this),!p(this,Yu)||this.destroyed)return!1;if(e)return z(this,Ch,setTimeout(()=>{z(this,Ch,null),ne(this,no,Gp).call(this,!1)},II)),!1;for(const{renderTasks:t,operatorList:n}of this._intentStates.values())if(t.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),z(this,Yu,!1),!0},h5=function(){p(this,Ch)&&(clearTimeout(p(this,Ch)),z(this,Ch,null))};var Ku,cv;class HI{constructor(){Z(this,Ku,new Map);Z(this,cv,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};p(this,cv).then(()=>{for(const[r]of p(this,Ku))r.call(this,n)})}addEventListener(e,t,n=null){let r=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:s}=n;if(s.aborted){Xt("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(e,t);r=()=>s.removeEventListener("abort",o),s.addEventListener("abort",o)}p(this,Ku).set(t,r)}removeEventListener(e,t){const n=p(this,Ku).get(t);n==null||n(),p(this,Ku).delete(t)}terminate(){for(const[,e]of p(this,Ku))e==null||e();p(this,Ku).clear()}}Ku=new WeakMap,cv=new WeakMap;var hv,yf,wf,Ig,d5,Rg,f5;const nr=class nr{constructor({name:e=null,port:t=null,verbosity:n=ST()}={}){Z(this,Ig);var r;if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((r=p(nr,wf))!=null&&r.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(p(nr,wf)||z(nr,wf,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Km("main","worker",e),this._messageHandler.on("ready",function(){}),ne(this,Ig,d5).call(this)}_initialize(){if(p(nr,yf)||p(nr,Rg,f5)){this._setupFakeWorker();return}let{workerSrc:e}=nr;try{nr._isSameOrigin(window.location.href,e)||(e=nr._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new Km("main","worker",t),r=()=>{s.abort(),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;t.addEventListener("error",()=>{this._webWorker||r()},{signal:s.signal}),n.on("test",l=>{if(s.abort(),this.destroyed||!l){r();return}this._messageHandler=n,this._port=t,this._webWorker=t,ne(this,Ig,d5).call(this)}),n.on("ready",l=>{if(s.abort(),this.destroyed){r();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const l=new Uint8Array;n.send("test",l,[l.buffer])};o();return}catch{Ov("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){p(nr,yf)||(Xt("Setting up fake worker."),z(nr,yf,!0)),nr._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new HI;this._port=t;const n=`fake${gs(nr,hv)._++}`,r=new Km(n+"_worker",n,t);e.setup(r,t),this._messageHandler=new Km(n,n+"_worker",t),ne(this,Ig,d5).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e,t,n;this.destroyed=!0,(e=this._webWorker)==null||e.terminate(),this._webWorker=null,(t=p(nr,wf))==null||t.delete(this._port),this._port=null,(n=this._messageHandler)==null||n.destroy(),this._messageHandler=null}static fromPort(e){var n;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(n=p(this,wf))==null?void 0:n.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new nr(e)}static get workerSrc(){if(cc.workerSrc)return cc.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return en(this,"_setupFakeWorkerGlobal",(async()=>p(this,Rg,f5)?p(this,Rg,f5):(await import(this.workerSrc)).WorkerMessageHandler)())}};hv=new WeakMap,yf=new WeakMap,wf=new WeakMap,Ig=new WeakSet,d5=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Rg=new WeakSet,f5=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},Z(nr,Rg),Z(nr,hv,0),Z(nr,yf,!1),Z(nr,wf),ts&&(z(nr,yf,!0),cc.workerSrc||(cc.workerSrc="./pdf.worker.mjs")),nr._isSameOrigin=(e,t)=>{let n;try{if(n=new URL(e),!n.origin||n.origin==="null")return!1}catch{return!1}const r=new URL(t,n);return n.origin===r.origin},nr._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};let ag=nr;var Qu,Ol,Fg,Mg,Ju,bf,t1;class $I{constructor(e,t,n,r,s){Z(this,bf);Z(this,Qu,new Map);Z(this,Ol,new Map);Z(this,Fg,new Map);Z(this,Mg,new Map);Z(this,Ju,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new gE,this.fontLoader=new HT({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return en(this,"annotationStorage",new CA)}getRenderingIntent(e,t=ch.ENABLE,n=null,r=!1,s=!1){let o=_a.DISPLAY,l=rb;switch(e){case"any":o=_a.ANY;break;case"display":break;case"print":o=_a.PRINT;break;default:Xt(`getRenderingIntent - invalid intent: ${e}`)}const c=o&_a.PRINT&&n instanceof V_?n:this.annotationStorage;switch(t){case ch.DISABLE:o+=_a.ANNOTATIONS_DISABLE;break;case ch.ENABLE:break;case ch.ENABLE_FORMS:o+=_a.ANNOTATIONS_FORMS;break;case ch.ENABLE_STORAGE:o+=_a.ANNOTATIONS_STORAGE,l=c.serializable;break;default:Xt(`getRenderingIntent - invalid annotationMode: ${t}`)}r&&(o+=_a.IS_EDITING),s&&(o+=_a.OPLIST);const{ids:d,hash:h}=c.modifiedIds,f=[o,l.hash,h];return{renderingIntent:o,cacheKey:f.join("_"),annotationStorageSerializable:l,modifiedIds:d}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=p(this,Ju))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of p(this,Ol).values())e.push(r._destroy());p(this,Ol).clear(),p(this,Fg).clear(),p(this,Mg).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var r,s;this.commonObjs.clear(),this.fontLoader.clear(),p(this,Qu).clear(),this.filterFactory.destroy(),b1.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new Yh("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,r)=>{Mr(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},r.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){r.close();return}Mr(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this._fullReader.cancel(s),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",async n=>{var l;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:s,contentLength:o}=this._fullReader;return(!r||!s)&&(this._lastProgress&&((l=t.onProgress)==null||l.call(t,this._lastProgress)),this._fullReader.onProgress=c=>{var d;(d=t.onProgress)==null||d.call(t,{loaded:c.loaded,total:c.total})}),{isStreamingSupported:r,isRangeSupported:s,contentLength:o}}),e.on("GetRangeReader",(n,r)=>{Mr(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(n.begin,n.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:o,done:l}){if(l){r.close();return}Mr(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{s.cancel(o),r.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new zI(n,this))}),e.on("DocException",n=>{t._capability.reject($s(n))}),e.on("PasswordRequest",n=>{z(this,Ju,Promise.withResolvers());try{if(!t.onPassword)throw $s(n);const r=s=>{s instanceof Error?p(this,Ju).reject(s):p(this,Ju).resolve({password:s})};t.onPassword(r,n.code)}catch(r){p(this,Ju).reject(r)}return p(this,Ju).promise}),e.on("DataLoaded",n=>{var r;(r=t.onProgress)==null||r.call(t,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;p(this,Ol).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,r,s])=>{var o;if(this.destroyed||this.commonObjs.has(n))return null;switch(r){case"Font":const{disableFontFace:l,fontExtraProperties:c,pdfBug:d}=this._params;if("error"in s){const g=s.error;Xt(`Error during font loading: ${g}`),this.commonObjs.resolve(n,g);break}const h=d&&((o=globalThis.FontInspector)!=null&&o.enabled)?(g,b)=>globalThis.FontInspector.fontAdded(g,b):null,f=new $T(s,{disableFontFace:l,fontExtraProperties:c,inspectFont:h});this.fontLoader.bind(f).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!c&&f.data&&(f.data=null),this.commonObjs.resolve(n,f)});break;case"CopyLocalImage":const{imageRef:v}=s;Mr(v,"The imageRef must be defined.");for(const g of p(this,Ol).values())for(const[,b]of g.objs)if((b==null?void 0:b.ref)===v)return b.dataLen?(this.commonObjs.resolve(n,structuredClone(b)),b.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,s);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([n,r,s,o])=>{var c;if(this.destroyed)return;const l=p(this,Ol).get(r);if(!l.objs.has(n)){if(l._intentStates.size===0){(c=o==null?void 0:o.bitmap)==null||c.close();return}switch(s){case"Image":l.objs.resolve(n,o),(o==null?void 0:o.dataLen)>yT&&(l._maybeCleanupAfterRender=!0);break;case"Pattern":l.objs.resolve(n,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",n=>{var r;this.destroyed||(r=t.onProgress)==null||r.call(t,{loaded:n.loaded,total:n.total})}),e.on("FetchBuiltInCMap",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(n)}),e.on("FetchStandardFontData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&Xt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=p(this,Fg).get(t);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&p(this,Mg).set(s.refStr,e);const o=new UI(t,s,this,this._params.pdfBug);return p(this,Ol).set(t,o),o});return p(this,Fg).set(t,r),r}getPageIndex(e){return vS(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return ne(this,bf,t1).call(this,"GetFieldObjects")}hasJSActions(){return ne(this,bf,t1).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return ne(this,bf,t1).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return ne(this,bf,t1).call(this,"GetOptionalContentConfig").then(t=>new hI(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=p(this,Qu).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(r=>{var s,o;return{info:r[0],metadata:r[1]?new uI(r[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return p(this,Qu).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of p(this,Ol).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),p(this,Qu).clear(),this.filterFactory.destroy(!0),b1.cleanup()}}cachedPageNumber(e){if(!vS(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return p(this,Mg).get(t)??null}}Qu=new WeakMap,Ol=new WeakMap,Fg=new WeakMap,Mg=new WeakMap,Ju=new WeakMap,bf=new WeakSet,t1=function(e,t=null){const n=p(this,Qu).get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,t);return p(this,Qu).set(e,r),r};const qm=Symbol("INITIAL_DATA");var ga,h0,gb;class gE{constructor(){Z(this,h0);Z(this,ga,Object.create(null))}get(e,t=null){if(t){const r=ne(this,h0,gb).call(this,e);return r.promise.then(()=>t(r.data)),null}const n=p(this,ga)[e];if(!n||n.data===qm)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=p(this,ga)[e];return!!t&&t.data!==qm}delete(e){const t=p(this,ga)[e];return!t||t.data===qm?!1:(delete p(this,ga)[e],!0)}resolve(e,t=null){const n=ne(this,h0,gb).call(this,e);n.data=t,n.resolve()}clear(){var e;for(const t in p(this,ga)){const{data:n}=p(this,ga)[t];(e=n==null?void 0:n.bitmap)==null||e.close()}z(this,ga,Object.create(null))}*[Symbol.iterator](){for(const e in p(this,ga)){const{data:t}=p(this,ga)[e];t!==qm&&(yield[e,t])}}}ga=new WeakMap,h0=new WeakSet,gb=function(e){var t;return(t=p(this,ga))[e]||(t[e]={...Promise.withResolvers(),data:qm})};var Ph;class qI{constructor(e){Z(this,Ph,null);z(this,Ph,e),this.onContinue=null}get promise(){return p(this,Ph).capability.promise}cancel(e=0){p(this,Ph).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=p(this,Ph).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=p(this,Ph);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Ph=new WeakMap;var Nh,Af;const jd=class jd{constructor({callback:e,params:t,objs:n,commonObjs:r,annotationCanvasMap:s,operatorList:o,pageIndex:l,canvasFactory:c,filterFactory:d,useRequestAnimationFrame:h=!1,pdfBug:f=!1,pageColors:v=null}){Z(this,Nh,null);this.callback=e,this.params=t,this.objs=n,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=l,this.canvasFactory=c,this.filterFactory=d,this._pdfBug=f,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new qI(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var l,c;if(this.cancelled)return;if(this._canvas){if(p(jd,Af).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");p(jd,Af).add(this._canvas)}this._pdfBug&&((l=globalThis.StepperManager)!=null&&l.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:r,transform:s,background:o}=this.params;this.gfx=new sg(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:r,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(c=this.graphicsReadyCallback)==null||c.call(this)}cancel(e=null,t=0){var n;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),p(this,Nh)&&(window.cancelAnimationFrame(p(this,Nh)),z(this,Nh,null)),p(jd,Af).delete(this._canvas),this.callback(e||new SA(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?z(this,Nh,window.requestAnimationFrame(()=>{z(this,Nh,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),p(jd,Af).delete(this._canvas),this.callback())))}};Nh=new WeakMap,Af=new WeakMap,Z(jd,Af,new WeakSet);let mb=jd;const WI="4.10.38",VI="f9bea397f";function yS(i){return Math.floor(Math.max(0,Math.min(1,i))*255).toString(16).padStart(2,"0")}function Wm(i){return Math.max(0,Math.min(255,255*i))}class wS{static CMYK_G([e,t,n,r]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Wm(e),[e,e,e]}static G_HTML([e]){const t=yS(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(Wm)}static RGB_HTML(e){return`#${e.map(yS).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,n+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,n,r]){return[Wm(1-Math.min(1,e+r)),Wm(1-Math.min(1,n+r)),Wm(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const r=1-e,s=1-t,o=1-n,l=Math.min(r,s,o);return["CMYK",r,s,o,l]}}class GI{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){jn("Abstract method `_createSVG` called.")}}class NA extends GI{_createSVG(e){return document.createElementNS(Fu,e)}}class mE{static setupStorage(e,t,n,r,s){const o=r.getValue(t,{value:null});switch(n.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),s==="print")break;e.addEventListener("input",l=>{r.setValue(t,{value:l.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(o.value===n.attributes.xfaOn?e.setAttribute("checked",!0):o.value===n.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",l=>{r.setValue(t,{value:l.target.checked?l.target.getAttribute("xfaOn"):l.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),s==="print")break;e.addEventListener("input",l=>{r.setValue(t,{value:l.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const l of n.children)l.attributes.value===o.value?l.attributes.selected=!0:l.attributes.hasOwnProperty("selected")&&delete l.attributes.selected}e.addEventListener("input",l=>{const c=l.target.options,d=c.selectedIndex===-1?"":c[c.selectedIndex].value;r.setValue(t,{value:d})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:r,linkService:s}){const{attributes:o}=t,l=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${r}`);for(const[c,d]of Object.entries(o))if(d!=null)switch(c){case"class":d.length&&e.setAttribute(c,d.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",d);break;case"style":Object.assign(e.style,d);break;case"textContent":e.textContent=d;break;default:(!l||c!=="href"&&c!=="newWindow")&&e.setAttribute(c,d)}l&&s.addLinkAttributes(e,o.href,o.newWindow),n&&o.dataId&&this.setupStorage(e,o.dataId,t,n)}static render(e){var f,v;const t=e.annotationStorage,n=e.linkService,r=e.xfaHtml,s=e.intent||"display",o=document.createElement(r.name);r.attributes&&this.setAttributes({html:o,element:r,intent:s,linkService:n});const l=s!=="richText",c=e.div;if(c.append(o),e.viewport){const g=`matrix(${e.viewport.transform.join(",")})`;c.style.transform=g}l&&c.setAttribute("class","xfaLayer xfaFont");const d=[];if(r.children.length===0){if(r.value){const g=document.createTextNode(r.value);o.append(g),l&&A1.shouldBuildText(r.name)&&d.push(g)}return{textDivs:d}}const h=[[r,-1,o]];for(;h.length>0;){const[g,b,x]=h.at(-1);if(b+1===g.children.length){h.pop();continue}const E=g.children[++h.at(-1)[1]];if(E===null)continue;const{name:S}=E;if(S==="#text"){const F=document.createTextNode(E.value);d.push(F),x.append(F);continue}const P=(f=E==null?void 0:E.attributes)!=null&&f.xmlns?document.createElementNS(E.attributes.xmlns,S):document.createElement(S);if(x.append(P),E.attributes&&this.setAttributes({html:P,element:E,storage:t,intent:s,linkService:n}),((v=E.children)==null?void 0:v.length)>0)h.push([E,-1,P]);else if(E.value){const F=document.createTextNode(E.value);l&&A1.shouldBuildText(S)&&d.push(F),P.append(F)}}for(const g of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))g.setAttribute("readOnly",!0);return{textDivs:d}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const t2=1e3,XI=9,tp=new WeakSet;function qh(i){return{width:i[2]-i[0],height:i[3]-i[1]}}class YI{static create(e){switch(e.data.annotationType){case qr.LINK:return new vE(e);case qr.TEXT:return new KI(e);case qr.WIDGET:switch(e.data.fieldType){case"Tx":return new QI(e);case"Btn":return e.data.radioButton?new bE(e):e.data.checkBox?new ZI(e):new e7(e);case"Ch":return new t7(e);case"Sig":return new JI(e)}return new op(e);case qr.POPUP:return new yb(e);case qr.FREETEXT:return new EE(e);case qr.LINE:return new r7(e);case qr.SQUARE:return new i7(e);case qr.CIRCLE:return new s7(e);case qr.POLYLINE:return new LE(e);case qr.CARET:return new o7(e);case qr.INK:return new kA(e);case qr.POLYGON:return new a7(e);case qr.HIGHLIGHT:return new CE(e);case qr.UNDERLINE:return new l7(e);case qr.SQUIGGLY:return new u7(e);case qr.STRIKEOUT:return new c7(e);case qr.STAMP:return new PE(e);case qr.FILEATTACHMENT:return new h7(e);default:return new kr(e)}}}var xf,Og,Dg,d0,vb;const FA=class FA{constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}={}){Z(this,d0);Z(this,xf,null);Z(this,Og,!1);Z(this,Dg,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:n}){return!!(e!=null&&e.str||t!=null&&t.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return FA._hasPopupData(this.data)}updateEdited(e){var n;if(!this.container)return;p(this,xf)||z(this,xf,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&ne(this,d0,vb).call(this,t),(n=p(this,Dg))==null||n.popup.updateEdited(e)}resetEdited(){var e;p(this,xf)&&(ne(this,d0,vb).call(this,p(this,xf).rect),(e=p(this,Dg))==null||e.popup.resetEdited(),z(this,xf,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof op||(s.tabIndex=t2);const{style:o}=s;if(o.zIndex=this.parent.zIndex++,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof yb){const{rotation:x}=t;return!t.hasOwnCanvas&&x!==0&&this.setRotation(x,s),s}const{width:l,height:c}=qh(t.rect);if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const x=t.borderStyle.horizontalCornerRadius,E=t.borderStyle.verticalCornerRadius;if(x>0||E>0){const P=`calc(${x}px * var(--scale-factor)) / calc(${E}px * var(--scale-factor))`;o.borderRadius=P}else if(this instanceof bE){const P=`calc(${l}px * var(--scale-factor)) / calc(${c}px * var(--scale-factor))`;o.borderRadius=P}switch(t.borderStyle.style){case Hm.SOLID:o.borderStyle="solid";break;case Hm.DASHED:o.borderStyle="dashed";break;case Hm.BEVELED:Xt("Unimplemented border style: beveled");break;case Hm.INSET:Xt("Unimplemented border style: inset");break;case Hm.UNDERLINE:o.borderBottomStyle="solid";break}const S=t.borderColor||null;S?(z(this,Og,!0),o.borderColor=St.makeHexColor(S[0]|0,S[1]|0,S[2]|0)):o.borderWidth=0}const d=St.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:h,pageHeight:f,pageX:v,pageY:g}=r.rawDims;o.left=`${100*(d[0]-v)/h}%`,o.top=`${100*(d[1]-g)/f}%`;const{rotation:b}=t;return t.hasOwnCanvas||b===0?(o.width=`${100*l/h}%`,o.height=`${100*c/f}%`):this.setRotation(b,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims,{width:s,height:o}=qh(this.data.rect);let l,c;e%180===0?(l=100*s/n,c=100*o/r):(l=100*o/n,c=100*s/r),t.style.width=`${l}%`,t.style.height=`${c}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,r)=>{const s=r.detail[t],o=s[0],l=s.slice(1);r.target.style[n]=wS[`${o}_HTML`](l),this.annotationStorage.setValue(this.data.id,{[n]:wS[`${o}_rgb`](l)})};return en(this,"_commonActions",{display:t=>{const{display:n}=t.detail,r=n%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const r of Object.keys(t.detail)){const s=e[r]||n[r];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[r,s]of Object.entries(t)){const o=n[r];if(o){const l={detail:{[r]:s},target:e};o(l),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,r,s]=this.data.rect.map(x=>Math.fround(x));if(e.length===8){const[x,E,S,P]=e.subarray(2,6);if(r===x&&s===E&&t===S&&n===P)return}const{style:o}=this.container;let l;if(p(this,Og)){const{borderColor:x,borderWidth:E}=o;o.borderWidth=0,l=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${x}" stroke-width="${E}">`],this.container.classList.add("hasBorder")}const c=r-t,d=s-n,{svgFactory:h}=this,f=h.createElement("svg");f.classList.add("quadrilateralsContainer"),f.setAttribute("width",0),f.setAttribute("height",0);const v=h.createElement("defs");f.append(v);const g=h.createElement("clipPath"),b=`clippath_${this.data.id}`;g.setAttribute("id",b),g.setAttribute("clipPathUnits","objectBoundingBox"),v.append(g);for(let x=2,E=e.length;x<E;x+=8){const S=e[x],P=e[x+1],F=e[x+2],M=e[x+3],$=h.createElement("rect"),H=(F-t)/c,q=(s-P)/d,T=(S-F)/c,D=(P-M)/d;$.setAttribute("x",H),$.setAttribute("y",q),$.setAttribute("width",T),$.setAttribute("height",D),g.append($),l==null||l.push(`<rect vector-effect="non-scaling-stroke" x="${H}" y="${q}" width="${T}" height="${D}"/>`)}p(this,Og)&&(l.push("</g></svg>')"),o.backgroundImage=l.join("")),this.container.append(f),this.container.style.clipPath=`url(#${b})`}_createPopup(){const{data:e}=this,t=z(this,Dg,new yb({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){jn("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:s,id:o,exportValues:l}of r){if(s===-1||o===t)continue;const c=typeof l=="string"?l:null,d=document.querySelector(`[data-element-id="${o}"]`);if(d&&!tp.has(d)){Xt(`_getElementsByName - element not allowed: ${o}`);continue}n.push({id:o,exportValue:c,domElement:d})}return n}for(const r of document.getElementsByName(e)){const{exportValue:s}=r,o=r.getAttribute("data-element-id");o!==t&&tp.has(r)&&n.push({id:o,exportValue:s,domElement:r})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};xf=new WeakMap,Og=new WeakMap,Dg=new WeakMap,d0=new WeakSet,vb=function(e){const{container:{style:t},data:{rect:n,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:l,pageY:c}}}}=this;n==null||n.splice(0,4,...e);const{width:d,height:h}=qh(e);t.left=`${100*(e[0]-l)/s}%`,t.top=`${100*(o-e[3]+c)/o}%`,r===0?(t.width=`${100*d/s}%`,t.height=`${100*h/o}%`):this.setRotation(r)};let kr=FA;var Ea,Rd,yE,wE;class vE extends kr{constructor(t,n=null){super(t,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});Z(this,Ea);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:n}=this,r=document.createElement("a");r.setAttribute("data-element-id",t.id);let s=!1;return t.url?(n.addLinkAttributes(r,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(r,t.action),s=!0):t.attachment?(ne(this,Ea,yE).call(this,r,t.attachment,t.attachmentDest),s=!0):t.setOCGState?(ne(this,Ea,wE).call(this,r,t.setOCGState),s=!0):t.dest?(this._bindLink(r,t.dest),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,t),s=!0),t.resetForm?(this._bindResetFormAction(r,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(r,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(r),this.container}_bindLink(t,n){t.href=this.linkService.getDestinationHash(n),t.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&ne(this,Ea,Rd).call(this)}_bindNamedAction(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(n),!1),ne(this,Ea,Rd).call(this)}_bindJSAction(t,n){t.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(n.actions)){const o=r.get(s);o&&(t[o]=()=>{var l;return(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:s}}),!1})}t.onclick||(t.onclick=()=>!1),ne(this,Ea,Rd).call(this)}_bindResetFormAction(t,n){const r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),ne(this,Ea,Rd).call(this),!this._fieldObjects){Xt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(t.onclick=()=>!1);return}t.onclick=()=>{var f;r==null||r();const{fields:s,refs:o,include:l}=n,c=[];if(s.length!==0||o.length!==0){const v=new Set(o);for(const g of s){const b=this._fieldObjects[g]||[];for(const{id:x}of b)v.add(x)}for(const g of Object.values(this._fieldObjects))for(const b of g)v.has(b.id)===l&&c.push(b)}else for(const v of Object.values(this._fieldObjects))c.push(...v);const d=this.annotationStorage,h=[];for(const v of c){const{id:g}=v;switch(h.push(g),v.type){case"text":{const x=v.defaultValue||"";d.setValue(g,{value:x});break}case"checkbox":case"radiobutton":{const x=v.defaultValue===v.exportValues;d.setValue(g,{value:x});break}case"combobox":case"listbox":{const x=v.defaultValue||"";d.setValue(g,{value:x});break}default:continue}const b=document.querySelector(`[data-element-id="${g}"]`);if(b){if(!tp.has(b)){Xt(`_bindResetFormAction - element not allowed: ${g}`);continue}}else continue;b.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((f=this.linkService.eventBus)==null||f.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}})),!1}}}Ea=new WeakSet,Rd=function(){this.container.setAttribute("data-internal-link","")},yE=function(t,n,r=null){t.href=this.linkService.getAnchorUrl(""),n.description&&(t.title=n.description),t.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(n.content,n.filename,r),!1},ne(this,Ea,Rd).call(this)},wE=function(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(n),!1),ne(this,Ea,Rd).call(this)};class KI extends kr{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class op extends kr{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return xs.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,r,s){n.includes("mouse")?e.addEventListener(n,o=>{var l;(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(n,o=>{var l;if(n==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}s&&((l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o)}}))})}_setEventListeners(e,t,n,r){var s,o,l;for(const[c,d]of n)(d==="Action"||(s=this.data.actions)!=null&&s[d])&&((d==="Focus"||d==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,c,d,r),d==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):d==="Blur"&&!((l=this.data.actions)!=null&&l.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":St.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||XI,s=e.style;let o;const l=2,c=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-l),h=Math.round(d/(tw*r))||1,f=d/h;o=Math.min(r,c(f/tw))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-l);o=Math.min(r,c(d/tw))}s.fontSize=`calc(${o}px * var(--scale-factor))`,s.color=St.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class QI extends op{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,r){const s=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=n),s.setValue(o.id,{[r]:n})}render(){var r,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let l=o.value||"";const c=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;c&&l.length>c&&(l=l.slice(0,c));let d=o.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;d&&this.data.comb&&(d=d.replaceAll(/\s+/g,""));const h={userValue:l,formattedValue:d,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=d??l,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",d??l),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),tp.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=t2,this._setRequired(n,this.data.required),c&&(n.maxLength=c),n.addEventListener("input",v=>{e.setValue(t,{value:v.target.value}),this.setPropertyOnSiblings(n,"value",v.target.value,"value"),h.formattedValue=null}),n.addEventListener("resetform",v=>{const g=this.data.defaultFieldValue??"";n.value=h.userValue=g,h.formattedValue=null});let f=v=>{const{formattedValue:g}=h;g!=null&&(v.target.value=g),v.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",g=>{var x;if(h.focused)return;const{target:b}=g;h.userValue&&(b.value=h.userValue),h.lastCommittedValue=b.value,h.commitKey=1,(x=this.data.actions)!=null&&x.Focus||(h.focused=!0)}),n.addEventListener("updatefromsandbox",g=>{this.showElementAndHideCanvas(g.target);const b={value(x){h.userValue=x.detail.value??"",e.setValue(t,{value:h.userValue.toString()}),x.target.value=h.userValue},formattedValue(x){const{formattedValue:E}=x.detail;h.formattedValue=E,E!=null&&x.target!==document.activeElement&&(x.target.value=E),e.setValue(t,{formattedValue:E})},selRange(x){x.target.setSelectionRange(...x.detail.selRange)},charLimit:x=>{var F;const{charLimit:E}=x.detail,{target:S}=x;if(E===0){S.removeAttribute("maxLength");return}S.setAttribute("maxLength",E);let P=h.userValue;!P||P.length<=E||(P=P.slice(0,E),S.value=h.userValue=P,e.setValue(t,{value:P}),(F=this.linkService.eventBus)==null||F.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:P,willCommit:!0,commitKey:1,selStart:S.selectionStart,selEnd:S.selectionEnd}}))}};this._dispatchEventFromSandbox(b,g)}),n.addEventListener("keydown",g=>{var E;h.commitKey=1;let b=-1;if(g.key==="Escape"?b=0:g.key==="Enter"&&!this.data.multiLine?b=2:g.key==="Tab"&&(h.commitKey=3),b===-1)return;const{value:x}=g.target;h.lastCommittedValue!==x&&(h.lastCommittedValue=x,h.userValue=x,(E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,willCommit:!0,commitKey:b,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}}))});const v=f;f=null,n.addEventListener("blur",g=>{var x,E;if(!h.focused||!g.relatedTarget)return;(x=this.data.actions)!=null&&x.Blur||(h.focused=!1);const{value:b}=g.target;h.userValue=b,h.lastCommittedValue!==b&&((E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:b,willCommit:!0,commitKey:h.commitKey,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}})),v(g)}),(s=this.data.actions)!=null&&s.Keystroke&&n.addEventListener("beforeinput",g=>{var $;h.lastCommittedValue=null;const{data:b,target:x}=g,{value:E,selectionStart:S,selectionEnd:P}=x;let F=S,M=P;switch(g.inputType){case"deleteWordBackward":{const H=E.substring(0,S).match(/\w*[^\w]*$/);H&&(F-=H[0].length);break}case"deleteWordForward":{const H=E.substring(S).match(/^[^\w]*\w*/);H&&(M+=H[0].length);break}case"deleteContentBackward":S===P&&(F-=1);break;case"deleteContentForward":S===P&&(M+=1);break}g.preventDefault(),($=this.linkService.eventBus)==null||$.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:E,change:b||"",willCommit:!1,selStart:F,selEnd:M}})}),this._setEventListeners(n,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],g=>g.target.value)}if(f&&n.addEventListener("blur",f),this.data.comb){const g=(this.data.rect[2]-this.data.rect[0])/c;n.classList.add("comb"),n.style.letterSpacing=`calc(${g}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class JI extends op{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class ZI extends op{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return tp.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=t2,s.addEventListener("change",o=>{const{name:l,checked:c}=o.target;for(const d of this._getElementsByName(l,n)){const h=c&&d.exportValue===t.exportValue;d.domElement&&(d.domElement.checked=h),e.setValue(d.id,{value:h})}e.setValue(n,{value:c})}),s.addEventListener("resetform",o=>{const l=t.defaultFieldValue||"Off";o.target.checked=l===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const l={value(c){c.target.checked=c.detail.value!=="Off",e.setValue(n,{value:c.target.checked})}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class bE extends op{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(n,{value:r})),r)for(const o of this._getElementsByName(t.fieldName,n))e.setValue(o.id,{value:!1});const s=document.createElement("input");if(tp.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=t2,s.addEventListener("change",o=>{const{name:l,checked:c}=o.target;for(const d of this._getElementsByName(l,n))e.setValue(d.id,{value:!1});e.setValue(n,{value:c})}),s.addEventListener("resetform",o=>{const l=t.defaultFieldValue;o.target.checked=l!=null&&l===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;s.addEventListener("updatefromsandbox",l=>{const c={value:d=>{const h=o===d.detail.value;for(const f of this._getElementsByName(d.target.name)){const v=h&&f.id===n;f.domElement&&(f.domElement.checked=v),e.setValue(f.id,{value:v})}}};this._dispatchEventFromSandbox(c,l)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class e7 extends vE{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class t7 extends op{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");tp.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=t2;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",h=>{const f=this.data.defaultFieldValue;for(const v of r.options)v.selected=v.value===f});for(const h of this.data.options){const f=document.createElement("option");f.textContent=h.displayValue,f.value=h.exportValue,n.value.includes(h.exportValue)&&(f.setAttribute("selected",!0),s=!1),r.append(f)}let o=null;if(s){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),r.prepend(h),o=()=>{h.remove(),r.removeEventListener("input",o),o=null},r.addEventListener("input",o)}const l=h=>{const f=h?"value":"textContent",{options:v,multiple:g}=r;return g?Array.prototype.filter.call(v,b=>b.selected).map(b=>b[f]):v.selectedIndex===-1?null:v[v.selectedIndex][f]};let c=l(!1);const d=h=>{const f=h.target.options;return Array.prototype.map.call(f,v=>({displayValue:v.textContent,exportValue:v.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",h=>{const f={value(v){o==null||o();const g=v.detail.value,b=new Set(Array.isArray(g)?g:[g]);for(const x of r.options)x.selected=b.has(x.value);e.setValue(t,{value:l(!0)}),c=l(!1)},multipleSelection(v){r.multiple=!0},remove(v){const g=r.options,b=v.detail.remove;g[b].selected=!1,r.remove(b),g.length>0&&Array.prototype.findIndex.call(g,E=>E.selected)===-1&&(g[0].selected=!0),e.setValue(t,{value:l(!0),items:d(v)}),c=l(!1)},clear(v){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),c=l(!1)},insert(v){const{index:g,displayValue:b,exportValue:x}=v.detail.insert,E=r.children[g],S=document.createElement("option");S.textContent=b,S.value=x,E?E.before(S):r.append(S),e.setValue(t,{value:l(!0),items:d(v)}),c=l(!1)},items(v){const{items:g}=v.detail;for(;r.length!==0;)r.remove(0);for(const b of g){const{displayValue:x,exportValue:E}=b,S=document.createElement("option");S.textContent=x,S.value=E,r.append(S)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:l(!0),items:d(v)}),c=l(!1)},indices(v){const g=new Set(v.detail.indices);for(const b of v.target.options)b.selected=g.has(b.index);e.setValue(t,{value:l(!0)}),c=l(!1)},editable(v){v.target.disabled=!v.detail.editable}};this._dispatchEventFromSandbox(f,h)}),r.addEventListener("input",h=>{var g;const f=l(!0),v=l(!1);e.setValue(t,{value:f}),h.preventDefault(),(g=this.linkService.eventBus)==null||g.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:c,change:v,changeEx:f,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):r.addEventListener("input",function(h){e.setValue(t,{value:l(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class yb extends kr{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:kr._hasPopupData(t)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new n7({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const n of this.elements)n.popup=e,n.container.ariaHasPopup="dialog",t.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(n=>`${xA}${n}`).join(",")),this.container}}var jg,dv,fv,Bg,Sf,vr,Zu,zg,f0,p0,Ug,ec,zo,tc,g0,nc,m0,_f,Ef,Mn,p5,wb,AE,xE,SE,_E,g5,m5,bb;class n7{constructor({container:e,color:t,elements:n,titleObj:r,modificationDate:s,contentsObj:o,richText:l,parent:c,rect:d,parentRect:h,open:f}){Z(this,Mn);Z(this,jg,ne(this,Mn,SE).bind(this));Z(this,dv,ne(this,Mn,bb).bind(this));Z(this,fv,ne(this,Mn,m5).bind(this));Z(this,Bg,ne(this,Mn,g5).bind(this));Z(this,Sf,null);Z(this,vr,null);Z(this,Zu,null);Z(this,zg,null);Z(this,f0,null);Z(this,p0,null);Z(this,Ug,null);Z(this,ec,!1);Z(this,zo,null);Z(this,tc,null);Z(this,g0,null);Z(this,nc,null);Z(this,m0,null);Z(this,_f,null);Z(this,Ef,!1);var v;z(this,vr,e),z(this,m0,r),z(this,Zu,o),z(this,nc,l),z(this,p0,c),z(this,Sf,t),z(this,g0,d),z(this,Ug,h),z(this,f0,n),z(this,zg,EA.toDateObject(s)),this.trigger=n.flatMap(g=>g.getElementsToTriggerPopup());for(const g of this.trigger)g.addEventListener("click",p(this,Bg)),g.addEventListener("mouseenter",p(this,fv)),g.addEventListener("mouseleave",p(this,dv)),g.classList.add("popupTriggerArea");for(const g of n)(v=g.container)==null||v.addEventListener("keydown",p(this,jg));p(this,vr).hidden=!0,f&&ne(this,Mn,g5).call(this)}render(){if(p(this,zo))return;const e=z(this,zo,document.createElement("div"));if(e.className="popup",p(this,Sf)){const s=e.style.outlineColor=St.makeHexColor(...p(this,Sf));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:e.style.backgroundColor=St.makeHexColor(...p(this,Sf).map(l=>Math.floor(.7*(255-l)+l)))}const t=document.createElement("span");t.className="header";const n=document.createElement("h1");if(t.append(n),{dir:n.dir,str:n.textContent}=p(this,m0),e.append(t),p(this,zg)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:p(this,zg).valueOf()})),t.append(s)}const r=p(this,Mn,p5);if(r)mE.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(p(this,Zu));e.append(s)}p(this,vr).append(e)}_formatContents({str:e,dir:t}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=t;const r=e.split(/(?:\r\n?|\n)/);for(let s=0,o=r.length;s<o;++s){const l=r[s];n.append(document.createTextNode(l)),s<o-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:e,popupContent:t}){var n;p(this,_f)||z(this,_f,{contentsObj:p(this,Zu),richText:p(this,nc)}),e&&z(this,tc,null),t&&(z(this,nc,ne(this,Mn,xE).call(this,t)),z(this,Zu,null)),(n=p(this,zo))==null||n.remove(),z(this,zo,null)}resetEdited(){var e;p(this,_f)&&({contentsObj:gs(this,Zu)._,richText:gs(this,nc)._}=p(this,_f),z(this,_f,null),(e=p(this,zo))==null||e.remove(),z(this,zo,null),z(this,tc,null))}forceHide(){z(this,Ef,this.isVisible),p(this,Ef)&&(p(this,vr).hidden=!0)}maybeShow(){p(this,Ef)&&(p(this,zo)||ne(this,Mn,m5).call(this),z(this,Ef,!1),p(this,vr).hidden=!1)}get isVisible(){return p(this,vr).hidden===!1}}jg=new WeakMap,dv=new WeakMap,fv=new WeakMap,Bg=new WeakMap,Sf=new WeakMap,vr=new WeakMap,Zu=new WeakMap,zg=new WeakMap,f0=new WeakMap,p0=new WeakMap,Ug=new WeakMap,ec=new WeakMap,zo=new WeakMap,tc=new WeakMap,g0=new WeakMap,nc=new WeakMap,m0=new WeakMap,_f=new WeakMap,Ef=new WeakMap,Mn=new WeakSet,p5=function(){const e=p(this,nc),t=p(this,Zu);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&p(this,nc).html||null},wb=function(){var e,t,n;return((n=(t=(e=p(this,Mn,p5))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.fontSize)||0},AE=function(){var e,t,n;return((n=(t=(e=p(this,Mn,p5))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.color)||null},xE=function(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:p(this,Mn,AE),fontSize:p(this,Mn,wb)?`calc(${p(this,Mn,wb)}px * var(--scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:r});return n},SE=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&p(this,ec))&&ne(this,Mn,g5).call(this)},_E=function(){if(p(this,tc)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:r,pageY:s}}}=p(this,p0);let o=!!p(this,Ug),l=o?p(this,Ug):p(this,g0);for(const b of p(this,f0))if(!l||St.intersect(b.data.rect,l)!==null){l=b.data.rect,o=!0;break}const c=St.normalizeRect([l[0],e[3]-l[1]+e[1],l[2],e[3]-l[3]+e[1]]),h=o?l[2]-l[0]+5:0,f=c[0]+h,v=c[1];z(this,tc,[100*(f-r)/t,100*(v-s)/n]);const{style:g}=p(this,vr);g.left=`${p(this,tc)[0]}%`,g.top=`${p(this,tc)[1]}%`},g5=function(){z(this,ec,!p(this,ec)),p(this,ec)?(ne(this,Mn,m5).call(this),p(this,vr).addEventListener("click",p(this,Bg)),p(this,vr).addEventListener("keydown",p(this,jg))):(ne(this,Mn,bb).call(this),p(this,vr).removeEventListener("click",p(this,Bg)),p(this,vr).removeEventListener("keydown",p(this,jg)))},m5=function(){p(this,zo)||this.render(),this.isVisible?p(this,ec)&&p(this,vr).classList.add("focused"):(ne(this,Mn,_E).call(this),p(this,vr).hidden=!1,p(this,vr).style.zIndex=parseInt(p(this,vr).style.zIndex)+1e3)},bb=function(){p(this,vr).classList.remove("focused"),!(p(this,ec)||!this.isVisible)&&(p(this,vr).hidden=!0,p(this,vr).style.zIndex=parseInt(p(this,vr).style.zIndex)-1e3)};class EE extends kr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Gt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var v0;class r7 extends kr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});Z(this,v0,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:n,height:r}=qh(t.rect),s=this.svgFactory.create(n,r,!0),o=z(this,v0,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return p(this,v0)}addHighlightArea(){this.container.classList.add("highlightArea")}}v0=new WeakMap;var y0;class i7 extends kr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});Z(this,y0,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:n,height:r}=qh(t.rect),s=this.svgFactory.create(n,r,!0),o=t.borderStyle.width,l=z(this,y0,this.svgFactory.createElement("svg:rect"));return l.setAttribute("x",o/2),l.setAttribute("y",o/2),l.setAttribute("width",n-o),l.setAttribute("height",r-o),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),s.append(l),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return p(this,y0)}addHighlightArea(){this.container.classList.add("highlightArea")}}y0=new WeakMap;var w0;class s7 extends kr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});Z(this,w0,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:n,height:r}=qh(t.rect),s=this.svgFactory.create(n,r,!0),o=t.borderStyle.width,l=z(this,w0,this.svgFactory.createElement("svg:ellipse"));return l.setAttribute("cx",n/2),l.setAttribute("cy",r/2),l.setAttribute("rx",n/2-o/2),l.setAttribute("ry",r/2-o/2),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),s.append(l),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return p(this,w0)}addHighlightArea(){this.container.classList.add("highlightArea")}}w0=new WeakMap;var b0;class LE extends kr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});Z(this,b0,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:n,borderStyle:r,popupRef:s}}=this;if(!n)return this.container;const{width:o,height:l}=qh(t),c=this.svgFactory.create(o,l,!0);let d=[];for(let f=0,v=n.length;f<v;f+=2){const g=n[f]-t[0],b=t[3]-n[f+1];d.push(`${g},${b}`)}d=d.join(" ");const h=z(this,b0,this.svgFactory.createElement(this.svgElementName));return h.setAttribute("points",d),h.setAttribute("stroke-width",r.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),c.append(h),this.container.append(c),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return p(this,b0)}addHighlightArea(){this.container.classList.add("highlightArea")}}b0=new WeakMap;class a7 extends LE{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class o7 extends kr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var A0,Lf,x0,Ab;class kA extends kr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});Z(this,x0);Z(this,A0,null);Z(this,Lf,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Gt.HIGHLIGHT:Gt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:n,inkLists:r,borderStyle:s,popupRef:o}}=this,{transform:l,width:c,height:d}=ne(this,x0,Ab).call(this,n,t),h=this.svgFactory.create(c,d,!0),f=z(this,A0,this.svgFactory.createElement("svg:g"));h.append(f),f.setAttribute("stroke-width",s.width||1),f.setAttribute("stroke-linecap","round"),f.setAttribute("stroke-linejoin","round"),f.setAttribute("stroke-miterlimit",10),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),f.setAttribute("transform",l);for(let v=0,g=r.length;v<g;v++){const b=this.svgFactory.createElement(this.svgElementName);p(this,Lf).push(b),b.setAttribute("points",r[v].join(",")),f.append(b)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(h),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:n,points:r,rect:s}=t,o=p(this,A0);if(n>=0&&o.setAttribute("stroke-width",n||1),r)for(let l=0,c=p(this,Lf).length;l<c;l++)p(this,Lf)[l].setAttribute("points",r[l].join(","));if(s){const{transform:l,width:c,height:d}=ne(this,x0,Ab).call(this,this.data.rotation,s);o.parentElement.setAttribute("viewBox",`0 0 ${c} ${d}`),o.setAttribute("transform",l)}}getElementsToTriggerPopup(){return p(this,Lf)}addHighlightArea(){this.container.classList.add("highlightArea")}}A0=new WeakMap,Lf=new WeakMap,x0=new WeakSet,Ab=function(t,n){switch(t){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}};class CE extends kr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Gt.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class l7 extends kr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class u7 extends kr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class c7 extends kr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class PE extends kr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Gt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var S0,_0,xb;class h7 extends kr{constructor(t){var r;super(t,{isRenderable:!0});Z(this,_0);Z(this,S0,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:n}=this;let r;n.hasAppearance||n.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),r.addEventListener("dblclick",ne(this,_0,xb).bind(this)),z(this,S0,r);const{isMac:s}=xs.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(s?o.metaKey:o.ctrlKey)&&ne(this,_0,xb).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),t.append(r),t}getElementsToTriggerPopup(){return p(this,S0)}addHighlightArea(){this.container.classList.add("highlightArea")}}S0=new WeakMap,_0=new WeakSet,xb=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var E0,Cf,Pf,L0,np,NE,Sb;class d7{constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:r,page:s,viewport:o,structTreeLayer:l}){Z(this,np);Z(this,E0,null);Z(this,Cf,null);Z(this,Pf,new Map);Z(this,L0,null);this.div=e,z(this,E0,t),z(this,Cf,n),z(this,L0,l||null),this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return p(this,Pf).size>0}async render(e){var o;const{annotations:t}=e,n=this.div;Zf(n,this.viewport);const r=new Map,s={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new NA,annotationStorage:e.annotationStorage||new CA,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const l of t){if(l.noHTML)continue;const c=l.annotationType===qr.POPUP;if(c){const f=r.get(l.id);if(!f)continue;s.elements=f}else{const{width:f,height:v}=qh(l.rect);if(f<=0||v<=0)continue}s.data=l;const d=YI.create(s);if(!d.isRenderable)continue;if(!c&&l.popupRef){const f=r.get(l.popupRef);f?f.push(d):r.set(l.popupRef,[d])}const h=d.render();l.hidden&&(h.style.visibility="hidden"),await ne(this,np,NE).call(this,h,l.id),d._isEditable&&(p(this,Pf).set(d.data.id,d),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(d))}ne(this,np,Sb).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,Zf(t,{rotation:e.rotation}),ne(this,np,Sb).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(p(this,Pf).values())}getEditableAnnotation(e){return p(this,Pf).get(e)}}E0=new WeakMap,Cf=new WeakMap,Pf=new WeakMap,L0=new WeakMap,np=new WeakSet,NE=async function(e,t){var o,l;const n=e.firstChild||e,r=n.id=`${xA}${t}`,s=await((o=p(this,L0))==null?void 0:o.getAriaAttributes(r));if(s)for(const[c,d]of s)n.setAttribute(c,d);this.div.append(e),(l=p(this,E0))==null||l.moveElementInDOM(this.div,e,n,!1)},Sb=function(){if(!p(this,Cf))return;const e=this.div;for(const[t,n]of p(this,Cf)){const r=e.querySelector(`[data-annotation-id="${t}"]`);if(!r)continue;n.className="annotationContent";const{firstChild:s}=r;s?s.nodeName==="CANVAS"?s.replaceWith(n):s.classList.contains("annotationContent")?s.after(n):s.before(n):r.append(n)}p(this,Cf).clear()};const V2=/\r\n?|\n/g;var Uo,ma,C0,Nf,va,jr,kE,TE,IE,v5,dc,y5,w5,RE,Eb,FE;const zn=class zn extends cr{constructor(t){super({...t,name:"freeTextEditor"});Z(this,jr);Z(this,Uo);Z(this,ma,"");Z(this,C0,`${this.id}-editor`);Z(this,Nf,null);Z(this,va);z(this,Uo,t.color||zn._defaultColor||cr._defaultLineColor),z(this,va,t.fontSize||zn._defaultFontSize)}static get _keyboardManager(){const t=zn.prototype,n=o=>o.isEmpty(),r=ep.TRANSLATE_SMALL,s=ep.TRANSLATE_BIG;return en(this,"_keyboardManager",new e2([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[r,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,r],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:n}]]))}static initialize(t,n){cr.initialize(t,n);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case sn.FREETEXT_SIZE:zn._defaultFontSize=n;break;case sn.FREETEXT_COLOR:zn._defaultColor=n;break}}updateParams(t,n){switch(t){case sn.FREETEXT_SIZE:ne(this,jr,kE).call(this,n);break;case sn.FREETEXT_COLOR:ne(this,jr,TE).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[sn.FREETEXT_SIZE,zn._defaultFontSize],[sn.FREETEXT_COLOR,zn._defaultColor||cr._defaultLineColor]]}get propertiesToUpdate(){return[[sn.FREETEXT_SIZE,p(this,va)],[sn.FREETEXT_COLOR,p(this,Uo)]]}_translateEmpty(t,n){this._uiManager.translateSelectedEditors(t,n,!0)}getInitialTranslation(){const t=this.parentScale;return[-zn._internalPadding*t,-(zn._internalPadding+p(this,va))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Gt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),z(this,Nf,new AbortController);const t=this._uiManager.combinedSignal(p(this,Nf));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t})}disableEditMode(){var t;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",p(this,C0)),this._isDraggable=!0,(t=p(this,Nf))==null||t.abort(),z(this,Nf,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var n;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(n=this._initialOptions)!=null&&n.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=p(this,ma),n=z(this,ma,ne(this,jr,IE).call(this).trimEnd());if(t===n)return;const r=s=>{if(z(this,ma,s),!s){this.remove();return}ne(this,jr,w5).call(this),this._uiManager.rebuild(this),ne(this,jr,v5).call(this)};this.addCommands({cmd:()=>{r(n)},undo:()=>{r(t)},mustExec:!1}),ne(this,jr,v5).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){zn._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,n;this.width&&(t=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",p(this,C0)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${p(this,va)}px * var(--scale-factor))`,r.color=p(this,Uo),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),G5(this,this.div,["dblclick","keydown"]),this.width){const[s,o]=this.parentDimensions;if(this.annotationElementId){const{position:l}=this._initialData;let[c,d]=this.getInitialTranslation();[c,d]=this.pageTranslationToScreen(c,d);const[h,f]=this.pageDimensions,[v,g]=this.pageTranslation;let b,x;switch(this.rotation){case 0:b=t+(l[0]-v)/h,x=n+this.height-(l[1]-g)/f;break;case 90:b=t+(l[0]-v)/h,x=n-(l[1]-g)/f,[c,d]=[d,-c];break;case 180:b=t-this.width+(l[0]-v)/h,x=n-(l[1]-g)/f,[c,d]=[-c,-d];break;case 270:b=t+(l[0]-v-this.height*f)/h,x=n+(l[1]-g-this.width*h)/f,[c,d]=[-d,c];break}this.setAt(b*s,x*o,c,d)}else this.setAt(t*s,n*o,this.width*s,this.height*o);ne(this,jr,w5).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var b,x,E;const n=t.clipboardData||window.clipboardData,{types:r}=n;if(r.length===1&&r[0]==="text/plain")return;t.preventDefault();const s=ne(b=zn,dc,Eb).call(b,n.getData("text")||"").replaceAll(V2,`
`);if(!s)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const l=o.getRangeAt(0);if(!s.includes(`
`)){l.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:c,startOffset:d}=l,h=[],f=[];if(c.nodeType===Node.TEXT_NODE){const S=c.parentElement;if(f.push(c.nodeValue.slice(d).replaceAll(V2,"")),S!==this.editorDiv){let P=h;for(const F of this.editorDiv.childNodes){if(F===S){P=f;continue}P.push(ne(x=zn,dc,y5).call(x,F))}}h.push(c.nodeValue.slice(0,d).replaceAll(V2,""))}else if(c===this.editorDiv){let S=h,P=0;for(const F of this.editorDiv.childNodes)P++===d&&(S=f),S.push(ne(E=zn,dc,y5).call(E,F))}z(this,ma,`${h.join(`
`)}${s}${f.join(`
`)}`),ne(this,jr,w5).call(this);const v=new Range;let g=h.reduce((S,P)=>S+P.length,0);for(const{firstChild:S}of this.editorDiv.childNodes)if(S.nodeType===Node.TEXT_NODE){const P=S.nodeValue.length;if(g<=P){v.setStart(S,g),v.setEnd(S,g);break}g-=P}o.removeAllRanges(),o.addRange(v)}get contentDiv(){return this.editorDiv}static async deserialize(t,n,r){var l;let s=null;if(t instanceof EE){const{data:{defaultAppearanceData:{fontSize:c,fontColor:d},rect:h,rotation:f,id:v,popupRef:g},textContent:b,textPosition:x,parent:{page:{pageNumber:E}}}=t;if(!b||b.length===0)return null;s=t={annotationType:Gt.FREETEXT,color:Array.from(d),fontSize:c,value:b.join(`
`),position:x,pageIndex:E-1,rect:h.slice(0),rotation:f,id:v,deleted:!1,popupRef:g}}const o=await super.deserialize(t,n,r);return z(o,va,t.fontSize),z(o,Uo,St.makeHexColor(...t.color)),z(o,ma,ne(l=zn,dc,Eb).call(l,t.value)),o.annotationElementId=t.id||null,o._initialData=s,o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=zn._internalPadding*this.parentScale,r=this.getRect(n,n),s=cr._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:p(this,Uo)),o={annotationType:Gt.FREETEXT,color:s,fontSize:p(this,va),value:ne(this,jr,RE).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?o:this.annotationElementId&&!ne(this,jr,FE).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){const n=super.renderAnnotationElement(t);if(this.deleted)return n;const{style:r}=n;r.fontSize=`calc(${p(this,va)}px * var(--scale-factor))`,r.color=p(this,Uo),n.replaceChildren();for(const o of p(this,ma).split(`
`)){const l=document.createElement("div");l.append(o?document.createTextNode(o):document.createElement("br")),n.append(l)}const s=zn._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(s,s),popupContent:p(this,ma)}),n}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Uo=new WeakMap,ma=new WeakMap,C0=new WeakMap,Nf=new WeakMap,va=new WeakMap,jr=new WeakSet,kE=function(t){const n=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-p(this,va))*this.parentScale),z(this,va,s),ne(this,jr,v5).call(this)},r=p(this,va);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:sn.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},TE=function(t){const n=s=>{z(this,Uo,this.editorDiv.style.color=s)},r=p(this,Uo);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:sn.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},IE=function(){var r;const t=[];this.editorDiv.normalize();let n=null;for(const s of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(ne(r=zn,dc,y5).call(r,s)),n=s);return t.join(`
`)},v5=function(){const[t,n]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:s,div:o}=this,l=o.style.display,c=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",s.div.append(this.div),r=o.getBoundingClientRect(),o.remove(),o.style.display=l,o.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=r.width/t,this.height=r.height/n):(this.width=r.height/t,this.height=r.width/n),this.fixAndSetPosition()},dc=new WeakSet,y5=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(V2,"")},w5=function(){if(this.editorDiv.replaceChildren(),!!p(this,ma))for(const t of p(this,ma).split(`
`)){const n=document.createElement("div");n.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(n)}},RE=function(){return p(this,ma).replaceAll(" "," ")},Eb=function(t){return t.replaceAll(" "," ")},FE=function(t){const{value:n,fontSize:r,color:s,pageIndex:o}=this._initialData;return this._hasBeenMoved||t.value!==n||t.fontSize!==r||t.color.some((l,c)=>l!==s[c])||t.pageIndex!==o},Z(zn,dc),Tt(zn,"_freeTextDefaultContent",""),Tt(zn,"_internalPadding",0),Tt(zn,"_defaultColor",null),Tt(zn,"_defaultFontSize",10),Tt(zn,"_type","freetext"),Tt(zn,"_editorType",Gt.FREETEXT);let _b=zn;class dt{toSVGPath(){jn("Abstract method `toSVGPath` must be implemented.")}get box(){jn("Abstract getter `box` must be implemented.")}serialize(e,t){jn("Abstract method `serialize` must be implemented.")}static _rescale(e,t,n,r,s,o){o||(o=new Float32Array(e.length));for(let l=0,c=e.length;l<c;l+=2)o[l]=t+e[l]*r,o[l+1]=n+e[l+1]*s;return o}static _rescaleAndSwap(e,t,n,r,s,o){o||(o=new Float32Array(e.length));for(let l=0,c=e.length;l<c;l+=2)o[l]=t+e[l+1]*r,o[l+1]=n+e[l]*s;return o}static _translate(e,t,n,r){r||(r=new Float32Array(e.length));for(let s=0,o=e.length;s<o;s+=2)r[s]=t+e[s],r[s+1]=n+e[s+1];return r}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,n,r,s){switch(s){case 90:return[1-t/n,e/r];case 180:return[1-e/n,1-t/r];case 270:return[t/n,1-e/r];default:return[e/n,t/r]}}static _normalizePagePoint(e,t,n){switch(n){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,n,r,s,o){return[(e+5*n)/6,(t+5*r)/6,(5*n+s)/6,(5*r+o)/6,(n+s)/2,(r+o)/2]}}Tt(dt,"PRECISION",1e-4);var ya,Ho,Hg,$g,Dl,Zt,kf,Tf,P0,N0,qg,Wg,kh,k0,pv,gv,Xr,n1,ME,OE,DE,jE,BE,zE;const ju=class ju{constructor({x:e,y:t},n,r,s,o,l=0){Z(this,Xr);Z(this,ya);Z(this,Ho,[]);Z(this,Hg);Z(this,$g);Z(this,Dl,[]);Z(this,Zt,new Float32Array(18));Z(this,kf);Z(this,Tf);Z(this,P0);Z(this,N0);Z(this,qg);Z(this,Wg);Z(this,kh,[]);z(this,ya,n),z(this,Wg,s*r),z(this,$g,o),p(this,Zt).set([NaN,NaN,NaN,NaN,e,t],6),z(this,Hg,l),z(this,N0,p(ju,k0)*r),z(this,P0,p(ju,gv)*r),z(this,qg,r),p(this,kh).push(e,t)}isEmpty(){return isNaN(p(this,Zt)[8])}add({x:e,y:t}){var D;z(this,kf,e),z(this,Tf,t);const[n,r,s,o]=p(this,ya);let[l,c,d,h]=p(this,Zt).subarray(8,12);const f=e-d,v=t-h,g=Math.hypot(f,v);if(g<p(this,P0))return!1;const b=g-p(this,N0),x=b/g,E=x*f,S=x*v;let P=l,F=c;l=d,c=h,d+=E,h+=S,(D=p(this,kh))==null||D.push(e,t);const M=-S/b,$=E/b,H=M*p(this,Wg),q=$*p(this,Wg);return p(this,Zt).set(p(this,Zt).subarray(2,8),0),p(this,Zt).set([d+H,h+q],4),p(this,Zt).set(p(this,Zt).subarray(14,18),12),p(this,Zt).set([d-H,h-q],16),isNaN(p(this,Zt)[6])?(p(this,Dl).length===0&&(p(this,Zt).set([l+H,c+q],2),p(this,Dl).push(NaN,NaN,NaN,NaN,(l+H-n)/s,(c+q-r)/o),p(this,Zt).set([l-H,c-q],14),p(this,Ho).push(NaN,NaN,NaN,NaN,(l-H-n)/s,(c-q-r)/o)),p(this,Zt).set([P,F,l,c,d,h],6),!this.isEmpty()):(p(this,Zt).set([P,F,l,c,d,h],6),Math.abs(Math.atan2(F-c,P-l)-Math.atan2(S,E))<Math.PI/2?([l,c,d,h]=p(this,Zt).subarray(2,6),p(this,Dl).push(NaN,NaN,NaN,NaN,((l+d)/2-n)/s,((c+h)/2-r)/o),[l,c,P,F]=p(this,Zt).subarray(14,18),p(this,Ho).push(NaN,NaN,NaN,NaN,((P+l)/2-n)/s,((F+c)/2-r)/o),!0):([P,F,l,c,d,h]=p(this,Zt).subarray(0,6),p(this,Dl).push(((P+5*l)/6-n)/s,((F+5*c)/6-r)/o,((5*l+d)/6-n)/s,((5*c+h)/6-r)/o,((l+d)/2-n)/s,((c+h)/2-r)/o),[d,h,l,c,P,F]=p(this,Zt).subarray(12,18),p(this,Ho).push(((P+5*l)/6-n)/s,((F+5*c)/6-r)/o,((5*l+d)/6-n)/s,((5*c+h)/6-r)/o,((l+d)/2-n)/s,((c+h)/2-r)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=p(this,Dl),t=p(this,Ho);if(isNaN(p(this,Zt)[6])&&!this.isEmpty())return ne(this,Xr,ME).call(this);const n=[];n.push(`M${e[4]} ${e[5]}`);for(let r=6;r<e.length;r+=6)isNaN(e[r])?n.push(`L${e[r+4]} ${e[r+5]}`):n.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);ne(this,Xr,DE).call(this,n);for(let r=t.length-6;r>=6;r-=6)isNaN(t[r])?n.push(`L${t[r+4]} ${t[r+5]}`):n.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);return ne(this,Xr,OE).call(this,n),n.join(" ")}newFreeDrawOutline(e,t,n,r,s,o){return new UE(e,t,n,r,s,o)}getOutlines(){var f;const e=p(this,Dl),t=p(this,Ho),n=p(this,Zt),[r,s,o,l]=p(this,ya),c=new Float32Array((((f=p(this,kh))==null?void 0:f.length)??0)+2);for(let v=0,g=c.length-2;v<g;v+=2)c[v]=(p(this,kh)[v]-r)/o,c[v+1]=(p(this,kh)[v+1]-s)/l;if(c[c.length-2]=(p(this,kf)-r)/o,c[c.length-1]=(p(this,Tf)-s)/l,isNaN(n[6])&&!this.isEmpty())return ne(this,Xr,jE).call(this,c);const d=new Float32Array(p(this,Dl).length+24+p(this,Ho).length);let h=e.length;for(let v=0;v<h;v+=2){if(isNaN(e[v])){d[v]=d[v+1]=NaN;continue}d[v]=e[v],d[v+1]=e[v+1]}h=ne(this,Xr,zE).call(this,d,h);for(let v=t.length-6;v>=6;v-=6)for(let g=0;g<6;g+=2){if(isNaN(t[v+g])){d[h]=d[h+1]=NaN,h+=2;continue}d[h]=t[v+g],d[h+1]=t[v+g+1],h+=2}return ne(this,Xr,BE).call(this,d,h),this.newFreeDrawOutline(d,c,p(this,ya),p(this,qg),p(this,Hg),p(this,$g))}};ya=new WeakMap,Ho=new WeakMap,Hg=new WeakMap,$g=new WeakMap,Dl=new WeakMap,Zt=new WeakMap,kf=new WeakMap,Tf=new WeakMap,P0=new WeakMap,N0=new WeakMap,qg=new WeakMap,Wg=new WeakMap,kh=new WeakMap,k0=new WeakMap,pv=new WeakMap,gv=new WeakMap,Xr=new WeakSet,n1=function(){const e=p(this,Zt).subarray(4,6),t=p(this,Zt).subarray(16,18),[n,r,s,o]=p(this,ya);return[(p(this,kf)+(e[0]-t[0])/2-n)/s,(p(this,Tf)+(e[1]-t[1])/2-r)/o,(p(this,kf)+(t[0]-e[0])/2-n)/s,(p(this,Tf)+(t[1]-e[1])/2-r)/o]},ME=function(){const[e,t,n,r]=p(this,ya),[s,o,l,c]=ne(this,Xr,n1).call(this);return`M${(p(this,Zt)[2]-e)/n} ${(p(this,Zt)[3]-t)/r} L${(p(this,Zt)[4]-e)/n} ${(p(this,Zt)[5]-t)/r} L${s} ${o} L${l} ${c} L${(p(this,Zt)[16]-e)/n} ${(p(this,Zt)[17]-t)/r} L${(p(this,Zt)[14]-e)/n} ${(p(this,Zt)[15]-t)/r} Z`},OE=function(e){const t=p(this,Ho);e.push(`L${t[4]} ${t[5]} Z`)},DE=function(e){const[t,n,r,s]=p(this,ya),o=p(this,Zt).subarray(4,6),l=p(this,Zt).subarray(16,18),[c,d,h,f]=ne(this,Xr,n1).call(this);e.push(`L${(o[0]-t)/r} ${(o[1]-n)/s} L${c} ${d} L${h} ${f} L${(l[0]-t)/r} ${(l[1]-n)/s}`)},jE=function(e){const t=p(this,Zt),[n,r,s,o]=p(this,ya),[l,c,d,h]=ne(this,Xr,n1).call(this),f=new Float32Array(36);return f.set([NaN,NaN,NaN,NaN,(t[2]-n)/s,(t[3]-r)/o,NaN,NaN,NaN,NaN,(t[4]-n)/s,(t[5]-r)/o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,(t[16]-n)/s,(t[17]-r)/o,NaN,NaN,NaN,NaN,(t[14]-n)/s,(t[15]-r)/o],0),this.newFreeDrawOutline(f,e,p(this,ya),p(this,qg),p(this,Hg),p(this,$g))},BE=function(e,t){const n=p(this,Ho);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6},zE=function(e,t){const n=p(this,Zt).subarray(4,6),r=p(this,Zt).subarray(16,18),[s,o,l,c]=p(this,ya),[d,h,f,v]=ne(this,Xr,n1).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-s)/l,(n[1]-o)/c,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,f,v,NaN,NaN,NaN,NaN,(r[0]-s)/l,(r[1]-o)/c],t),t+=24},Z(ju,k0,8),Z(ju,pv,2),Z(ju,gv,p(ju,k0)+p(ju,pv));let K5=ju;var Vg,If,rc,T0,wa,I0,Lr,mv,HE;class UE extends dt{constructor(t,n,r,s,o,l){super();Z(this,mv);Z(this,Vg);Z(this,If,new Float32Array(4));Z(this,rc);Z(this,T0);Z(this,wa);Z(this,I0);Z(this,Lr);z(this,Lr,t),z(this,wa,n),z(this,Vg,r),z(this,I0,s),z(this,rc,o),z(this,T0,l),this.lastPoint=[NaN,NaN],ne(this,mv,HE).call(this,l);const[c,d,h,f]=p(this,If);for(let v=0,g=t.length;v<g;v+=2)t[v]=(t[v]-c)/h,t[v+1]=(t[v+1]-d)/f;for(let v=0,g=n.length;v<g;v+=2)n[v]=(n[v]-c)/h,n[v+1]=(n[v+1]-d)/f}toSVGPath(){const t=[`M${p(this,Lr)[4]} ${p(this,Lr)[5]}`];for(let n=6,r=p(this,Lr).length;n<r;n+=6){if(isNaN(p(this,Lr)[n])){t.push(`L${p(this,Lr)[n+4]} ${p(this,Lr)[n+5]}`);continue}t.push(`C${p(this,Lr)[n]} ${p(this,Lr)[n+1]} ${p(this,Lr)[n+2]} ${p(this,Lr)[n+3]} ${p(this,Lr)[n+4]} ${p(this,Lr)[n+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,n,r,s],o){const l=r-t,c=s-n;let d,h;switch(o){case 0:d=dt._rescale(p(this,Lr),t,s,l,-c),h=dt._rescale(p(this,wa),t,s,l,-c);break;case 90:d=dt._rescaleAndSwap(p(this,Lr),t,n,l,c),h=dt._rescaleAndSwap(p(this,wa),t,n,l,c);break;case 180:d=dt._rescale(p(this,Lr),r,n,-l,c),h=dt._rescale(p(this,wa),r,n,-l,c);break;case 270:d=dt._rescaleAndSwap(p(this,Lr),r,s,-l,-c),h=dt._rescaleAndSwap(p(this,wa),r,s,-l,-c);break}return{outline:Array.from(d),points:[Array.from(h)]}}get box(){return p(this,If)}newOutliner(t,n,r,s,o,l=0){return new K5(t,n,r,s,o,l)}getNewOutline(t,n){const[r,s,o,l]=p(this,If),[c,d,h,f]=p(this,Vg),v=o*h,g=l*f,b=r*h+c,x=s*f+d,E=this.newOutliner({x:p(this,wa)[0]*v+b,y:p(this,wa)[1]*g+x},p(this,Vg),p(this,I0),t,p(this,T0),n??p(this,rc));for(let S=2;S<p(this,wa).length;S+=2)E.add({x:p(this,wa)[S]*v+b,y:p(this,wa)[S+1]*g+x});return E.getOutlines()}}Vg=new WeakMap,If=new WeakMap,rc=new WeakMap,T0=new WeakMap,wa=new WeakMap,I0=new WeakMap,Lr=new WeakMap,mv=new WeakSet,HE=function(t){const n=p(this,Lr);let r=n[4],s=n[5],o=r,l=s,c=r,d=s,h=r,f=s;const v=t?Math.max:Math.min;for(let b=6,x=n.length;b<x;b+=6){if(isNaN(n[b]))o=Math.min(o,n[b+4]),l=Math.min(l,n[b+5]),c=Math.max(c,n[b+4]),d=Math.max(d,n[b+5]),f<n[b+5]?(h=n[b+4],f=n[b+5]):f===n[b+5]&&(h=v(h,n[b+4]));else{const E=St.bezierBoundingBox(r,s,...n.slice(b,b+6));o=Math.min(o,E[0]),l=Math.min(l,E[1]),c=Math.max(c,E[2]),d=Math.max(d,E[3]),f<E[3]?(h=E[2],f=E[3]):f===E[3]&&(h=v(h,E[2]))}r=n[b+4],s=n[b+5]}const g=p(this,If);g[0]=o-p(this,rc),g[1]=l-p(this,rc),g[2]=c-o+2*p(this,rc),g[3]=d-l+2*p(this,rc),this.lastPoint=[h,f]};var R0,F0,Th,$o,_s,$E,b5,qE,WE,Cb;class Lb{constructor(e,t=0,n=0,r=!0){Z(this,_s);Z(this,R0);Z(this,F0);Z(this,Th,[]);Z(this,$o,[]);let s=1/0,o=-1/0,l=1/0,c=-1/0;const d=10**-4;for(const{x:E,y:S,width:P,height:F}of e){const M=Math.floor((E-t)/d)*d,$=Math.ceil((E+P+t)/d)*d,H=Math.floor((S-t)/d)*d,q=Math.ceil((S+F+t)/d)*d,T=[M,H,q,!0],D=[$,H,q,!1];p(this,Th).push(T,D),s=Math.min(s,M),o=Math.max(o,$),l=Math.min(l,H),c=Math.max(c,q)}const h=o-s+2*n,f=c-l+2*n,v=s-n,g=l-n,b=p(this,Th).at(r?-1:-2),x=[b[0],b[2]];for(const E of p(this,Th)){const[S,P,F]=E;E[0]=(S-v)/h,E[1]=(P-g)/f,E[2]=(F-g)/f}z(this,R0,new Float32Array([v,g,h,f])),z(this,F0,x)}getOutlines(){p(this,Th).sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of p(this,Th))t[3]?(e.push(...ne(this,_s,Cb).call(this,t)),ne(this,_s,qE).call(this,t)):(ne(this,_s,WE).call(this,t),e.push(...ne(this,_s,Cb).call(this,t)));return ne(this,_s,$E).call(this,e)}}R0=new WeakMap,F0=new WeakMap,Th=new WeakMap,$o=new WeakMap,_s=new WeakSet,$E=function(e){const t=[],n=new Set;for(const o of e){const[l,c,d]=o;t.push([l,c,o],[l,d,o])}t.sort((o,l)=>o[1]-l[1]||o[0]-l[0]);for(let o=0,l=t.length;o<l;o+=2){const c=t[o][2],d=t[o+1][2];c.push(d),d.push(c),n.add(c),n.add(d)}const r=[];let s;for(;n.size>0;){const o=n.values().next().value;let[l,c,d,h,f]=o;n.delete(o);let v=l,g=c;for(s=[l,d],r.push(s);;){let b;if(n.has(h))b=h;else if(n.has(f))b=f;else break;n.delete(b),[l,c,d,h,f]=b,v!==l&&(s.push(v,g,l,g===c?c:d),v=l),g=g===c?d:c}s.push(v,g)}return new f7(r,p(this,R0),p(this,F0))},b5=function(e){const t=p(this,$o);let n=0,r=t.length-1;for(;n<=r;){const s=n+r>>1,o=t[s][0];if(o===e)return s;o<e?n=s+1:r=s-1}return r+1},qE=function([,e,t]){const n=ne(this,_s,b5).call(this,e);p(this,$o).splice(n,0,[e,t])},WE=function([,e,t]){const n=ne(this,_s,b5).call(this,e);for(let r=n;r<p(this,$o).length;r++){const[s,o]=p(this,$o)[r];if(s!==e)break;if(s===e&&o===t){p(this,$o).splice(r,1);return}}for(let r=n-1;r>=0;r--){const[s,o]=p(this,$o)[r];if(s!==e)break;if(s===e&&o===t){p(this,$o).splice(r,1);return}}},Cb=function(e){const[t,n,r]=e,s=[[t,n,r]],o=ne(this,_s,b5).call(this,r);for(let l=0;l<o;l++){const[c,d]=p(this,$o)[l];for(let h=0,f=s.length;h<f;h++){const[,v,g]=s[h];if(!(d<=v||g<=c)){if(v>=c){if(g>d)s[h][1]=d;else{if(f===1)return[];s.splice(h,1),h--,f--}continue}s[h][2]=c,g>d&&s.push([t,d,g])}}}return s};var M0,Gg;class f7 extends dt{constructor(t,n,r){super();Z(this,M0);Z(this,Gg);z(this,Gg,t),z(this,M0,n),this.lastPoint=r}toSVGPath(){const t=[];for(const n of p(this,Gg)){let[r,s]=n;t.push(`M${r} ${s}`);for(let o=2;o<n.length;o+=2){const l=n[o],c=n[o+1];l===r?(t.push(`V${c}`),s=c):c===s&&(t.push(`H${l}`),r=l)}t.push("Z")}return t.join(" ")}serialize([t,n,r,s],o){const l=[],c=r-t,d=s-n;for(const h of p(this,Gg)){const f=new Array(h.length);for(let v=0;v<h.length;v+=2)f[v]=t+h[v]*c,f[v+1]=s-h[v+1]*d;l.push(f)}return l}get box(){return p(this,M0)}get classNamesForOutlining(){return["highlightOutline"]}}M0=new WeakMap,Gg=new WeakMap;class Pb extends K5{newFreeDrawOutline(e,t,n,r,s,o){return new p7(e,t,n,r,s,o)}}class p7 extends UE{newOutliner(e,t,n,r,s,o=0){return new Pb(e,t,n,r,s,o)}}var qo,Rf,Xg,Gr,O0,Yg,D0,j0,Ih,Wo,Kg,B0,Fn,Nb,kb,Tb,Fd,VE,uh;const qs=class qs{constructor({editor:e=null,uiManager:t=null}){Z(this,Fn);Z(this,qo,null);Z(this,Rf,null);Z(this,Xg);Z(this,Gr,null);Z(this,O0,!1);Z(this,Yg,!1);Z(this,D0,null);Z(this,j0);Z(this,Ih,null);Z(this,Wo,null);Z(this,Kg);var n;e?(z(this,Yg,!1),z(this,Kg,sn.HIGHLIGHT_COLOR),z(this,D0,e)):(z(this,Yg,!0),z(this,Kg,sn.HIGHLIGHT_DEFAULT_COLOR)),z(this,Wo,(e==null?void 0:e._uiManager)||t),z(this,j0,p(this,Wo)._eventBus),z(this,Xg,(e==null?void 0:e.color)||((n=p(this,Wo))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98"),p(qs,B0)||z(qs,B0,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return en(this,"_keyboardManager",new e2([[["Escape","mac+Escape"],qs.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],qs.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],qs.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],qs.prototype._moveToPrevious],[["Home","mac+Home"],qs.prototype._moveToBeginning],[["End","mac+End"],qs.prototype._moveToEnd]]))}renderButton(){const e=z(this,qo,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=p(this,Wo)._signal;e.addEventListener("click",ne(this,Fn,Fd).bind(this),{signal:t}),e.addEventListener("keydown",ne(this,Fn,Tb).bind(this),{signal:t});const n=z(this,Rf,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=p(this,Xg),e.append(n),e}renderMainDropdown(){const e=z(this,Gr,ne(this,Fn,Nb).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===p(this,qo)){ne(this,Fn,Fd).call(this,e);return}const t=e.target.getAttribute("data-color");t&&ne(this,Fn,kb).call(this,t,e)}_moveToNext(e){var t,n;if(!p(this,Fn,uh)){ne(this,Fn,Fd).call(this,e);return}if(e.target===p(this,qo)){(t=p(this,Gr).firstChild)==null||t.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var t,n;if(e.target===((t=p(this,Gr))==null?void 0:t.firstChild)||e.target===p(this,qo)){p(this,Fn,uh)&&this._hideDropdownFromKeyboard();return}p(this,Fn,uh)||ne(this,Fn,Fd).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var t;if(!p(this,Fn,uh)){ne(this,Fn,Fd).call(this,e);return}(t=p(this,Gr).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!p(this,Fn,uh)){ne(this,Fn,Fd).call(this,e);return}(t=p(this,Gr).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=p(this,Gr))==null||e.classList.add("hidden"),(t=p(this,Ih))==null||t.abort(),z(this,Ih,null)}_hideDropdownFromKeyboard(){var e;if(!p(this,Yg)){if(!p(this,Fn,uh)){(e=p(this,D0))==null||e.unselect();return}this.hideDropdown(),p(this,qo).focus({preventScroll:!0,focusVisible:p(this,O0)})}}updateColor(e){if(p(this,Rf)&&(p(this,Rf).style.backgroundColor=e),!p(this,Gr))return;const t=p(this,Wo).highlightColors.values();for(const n of p(this,Gr).children)n.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=p(this,qo))==null||e.remove(),z(this,qo,null),z(this,Rf,null),(t=p(this,Gr))==null||t.remove(),z(this,Gr,null)}};qo=new WeakMap,Rf=new WeakMap,Xg=new WeakMap,Gr=new WeakMap,O0=new WeakMap,Yg=new WeakMap,D0=new WeakMap,j0=new WeakMap,Ih=new WeakMap,Wo=new WeakMap,Kg=new WeakMap,B0=new WeakMap,Fn=new WeakSet,Nb=function(){const e=document.createElement("div"),t=p(this,Wo)._signal;e.addEventListener("contextmenu",Ko,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,r]of p(this,Wo).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",r),s.title=n,s.setAttribute("data-l10n-id",p(qs,B0)[n]);const o=document.createElement("span");s.append(o),o.className="swatch",o.style.backgroundColor=r,s.setAttribute("aria-selected",r===p(this,Xg)),s.addEventListener("click",ne(this,Fn,kb).bind(this,r),{signal:t}),e.append(s)}return e.addEventListener("keydown",ne(this,Fn,Tb).bind(this),{signal:t}),e},kb=function(e,t){t.stopPropagation(),p(this,j0).dispatch("switchannotationeditorparams",{source:this,type:p(this,Kg),value:e})},Tb=function(e){qs._keyboardManager.exec(this,e)},Fd=function(e){if(p(this,Fn,uh)){this.hideDropdown();return}if(z(this,O0,e.detail===0),p(this,Ih)||(z(this,Ih,new AbortController),window.addEventListener("pointerdown",ne(this,Fn,VE).bind(this),{signal:p(this,Wo).combinedSignal(p(this,Ih))})),p(this,Gr)){p(this,Gr).classList.remove("hidden");return}const t=z(this,Gr,ne(this,Fn,Nb).call(this));p(this,qo).append(t)},VE=function(e){var t;(t=p(this,Gr))!=null&&t.contains(e.target)||this.hideDropdown()},uh=function(){return p(this,Gr)&&!p(this,Gr).classList.contains("hidden")},Z(qs,B0,null);let Q5=qs;var Qg,z0,ic,Ff,Jg,Gs,U0,H0,Mf,Qa,ba,Ai,Zg,sc,Yi,em,Ja,$0,Vt,Ib,A5,GE,XE,YE,Rb,Md,ro,Xp,KE,x5,r1,QE,JE,ZE,e6,t6;const _n=class _n extends cr{constructor(t){super({...t,name:"highlightEditor"});Z(this,Vt);Z(this,Qg,null);Z(this,z0,0);Z(this,ic);Z(this,Ff,null);Z(this,Jg,null);Z(this,Gs,null);Z(this,U0,null);Z(this,H0,0);Z(this,Mf,null);Z(this,Qa,null);Z(this,ba,null);Z(this,Ai,!1);Z(this,Zg,null);Z(this,sc);Z(this,Yi,null);Z(this,em,"");Z(this,Ja);Z(this,$0,"");this.color=t.color||_n._defaultColor,z(this,Ja,t.thickness||_n._defaultThickness),z(this,sc,t.opacity||_n._defaultOpacity),z(this,ic,t.boxes||null),z(this,$0,t.methodOfCreation||""),z(this,em,t.text||""),this._isDraggable=!1,t.highlightId>-1?(z(this,Ai,!0),ne(this,Vt,A5).call(this,t),ne(this,Vt,Md).call(this)):p(this,ic)&&(z(this,Qg,t.anchorNode),z(this,z0,t.anchorOffset),z(this,U0,t.focusNode),z(this,H0,t.focusOffset),ne(this,Vt,Ib).call(this),ne(this,Vt,Md).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=_n.prototype;return en(this,"_keyboardManager",new e2([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:p(this,Ai)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:p(this,Ja),methodOfCreation:p(this,$0)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,n){var r;cr.initialize(t,n),_n._defaultColor||(_n._defaultColor=((r=n.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(t,n){switch(t){case sn.HIGHLIGHT_DEFAULT_COLOR:_n._defaultColor=n;break;case sn.HIGHLIGHT_THICKNESS:_n._defaultThickness=n;break}}translateInPage(t,n){}get toolbarPosition(){return p(this,Zg)}updateParams(t,n){switch(t){case sn.HIGHLIGHT_COLOR:ne(this,Vt,GE).call(this,n);break;case sn.HIGHLIGHT_THICKNESS:ne(this,Vt,XE).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[sn.HIGHLIGHT_DEFAULT_COLOR,_n._defaultColor],[sn.HIGHLIGHT_THICKNESS,_n._defaultThickness]]}get propertiesToUpdate(){return[[sn.HIGHLIGHT_COLOR,this.color||_n._defaultColor],[sn.HIGHLIGHT_THICKNESS,p(this,Ja)||_n._defaultThickness],[sn.HIGHLIGHT_FREE,p(this,Ai)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(z(this,Jg,new Q5({editor:this})),t.addColorPicker(p(this,Jg))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(ne(this,Vt,r1).call(this))}getBaseTranslation(){return[0,0]}getRect(t,n){return super.getRect(t,n,ne(this,Vt,r1).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){ne(this,Vt,Rb).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(ne(this,Vt,Md).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let n=!1;this.parent&&!t?ne(this,Vt,Rb).call(this):t&&(ne(this,Vt,Md).call(this,t),n=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),n&&this.select()}rotate(t){var s,o,l;const{drawLayer:n}=this.parent;let r;p(this,Ai)?(t=(t-this.rotation+360)%360,r=ne(s=_n,ro,Xp).call(s,p(this,Qa).box,t)):r=ne(o=_n,ro,Xp).call(o,[this.x,this.y,this.width,this.height],t),n.updateProperties(p(this,ba),{bbox:r,root:{"data-main-rotation":t}}),n.updateProperties(p(this,Yi),{bbox:ne(l=_n,ro,Xp).call(l,p(this,Gs).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();p(this,em)&&(t.setAttribute("aria-label",p(this,em)),t.setAttribute("role","mark")),p(this,Ai)?t.classList.add("free"):this.div.addEventListener("keydown",ne(this,Vt,KE).bind(this),{signal:this._uiManager._signal});const n=z(this,Mf,document.createElement("div"));t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=p(this,Ff);const[r,s]=this.parentDimensions;return this.setDims(this.width*r,this.height*s),G5(this,p(this,Mf),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(p(this,Yi),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(p(this,Yi),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:ne(this,Vt,x5).call(this,!0);break;case 1:case 3:ne(this,Vt,x5).call(this,!1);break}}select(){var t;super.select(),p(this,Yi)&&((t=this.parent)==null||t.drawLayer.updateProperties(p(this,Yi),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),p(this,Yi)&&((t=this.parent)==null||t.drawLayer.updateProperties(p(this,Yi),{rootClass:{selected:!1}}),p(this,Ai)||ne(this,Vt,x5).call(this,!1))}get _mustFixPosition(){return!p(this,Ai)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(p(this,ba),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(p(this,Yi),{rootClass:{hidden:!t}}))}static startHighlighting(t,n,{target:r,x:s,y:o}){const{x:l,y:c,width:d,height:h}=r.getBoundingClientRect(),f=new AbortController,v=t.combinedSignal(f),g=b=>{f.abort(),ne(this,ro,e6).call(this,t,b)};window.addEventListener("blur",g,{signal:v}),window.addEventListener("pointerup",g,{signal:v}),window.addEventListener("pointerdown",La,{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",Ko,{signal:v}),r.addEventListener("pointermove",ne(this,ro,ZE).bind(this,t),{signal:v}),this._freeHighlight=new Pb({x:s,y:o},[l,c,d,h],t.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,n,r){var x,E,S,P;let s=null;if(t instanceof CE){const{data:{quadPoints:F,rect:M,rotation:$,id:H,color:q,opacity:T,popupRef:D},parent:{page:{pageNumber:J}}}=t;s=t={annotationType:Gt.HIGHLIGHT,color:Array.from(q),opacity:T,quadPoints:F,boxes:null,pageIndex:J-1,rect:M.slice(0),rotation:$,id:H,deleted:!1,popupRef:D}}else if(t instanceof kA){const{data:{inkLists:F,rect:M,rotation:$,id:H,color:q,borderStyle:{rawWidth:T},popupRef:D},parent:{page:{pageNumber:J}}}=t;s=t={annotationType:Gt.HIGHLIGHT,color:Array.from(q),thickness:T,inkLists:F,boxes:null,pageIndex:J-1,rect:M.slice(0),rotation:$,id:H,deleted:!1,popupRef:D}}const{color:o,quadPoints:l,inkLists:c,opacity:d}=t,h=await super.deserialize(t,n,r);h.color=St.makeHexColor(...o),z(h,sc,d||1),c&&z(h,Ja,t.thickness),h.annotationElementId=t.id||null,h._initialData=s;const[f,v]=h.pageDimensions,[g,b]=h.pageTranslation;if(l){const F=z(h,ic,[]);for(let M=0;M<l.length;M+=8)F.push({x:(l[M]-g)/f,y:1-(l[M+1]-b)/v,width:(l[M+2]-l[M])/f,height:(l[M+1]-l[M+5])/v});ne(x=h,Vt,Ib).call(x),ne(E=h,Vt,Md).call(E),h.rotate(h.rotation)}else if(c){z(h,Ai,!0);const F=c[0],M={x:F[0]-g,y:v-(F[1]-b)},$=new Pb(M,[0,0,f,v],1,p(h,Ja)/2,!0,.001);for(let T=0,D=F.length;T<D;T+=2)M.x=F[T]-g,M.y=v-(F[T+1]-b),$.add(M);const{id:H,clipPathId:q}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:h.color,"fill-opacity":h._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:$.toSVGPath()}},!0,!0);ne(S=h,Vt,A5).call(S,{highlightOutlines:$.getOutlines(),highlightId:H,clipPathId:q}),ne(P=h,Vt,Md).call(P)}return h}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),r=cr._colorManager.convert(this.color),s={annotationType:Gt.HIGHLIGHT,color:r,opacity:p(this,sc),thickness:p(this,Ja),quadPoints:ne(this,Vt,QE).call(this),outlines:ne(this,Vt,JE).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:ne(this,Vt,r1).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!ne(this,Vt,t6).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Qg=new WeakMap,z0=new WeakMap,ic=new WeakMap,Ff=new WeakMap,Jg=new WeakMap,Gs=new WeakMap,U0=new WeakMap,H0=new WeakMap,Mf=new WeakMap,Qa=new WeakMap,ba=new WeakMap,Ai=new WeakMap,Zg=new WeakMap,sc=new WeakMap,Yi=new WeakMap,em=new WeakMap,Ja=new WeakMap,$0=new WeakMap,Vt=new WeakSet,Ib=function(){const t=new Lb(p(this,ic),.001);z(this,Qa,t.getOutlines()),[this.x,this.y,this.width,this.height]=p(this,Qa).box;const n=new Lb(p(this,ic),.0025,.001,this._uiManager.direction==="ltr");z(this,Gs,n.getOutlines());const{lastPoint:r}=p(this,Gs);z(this,Zg,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},A5=function({highlightOutlines:t,highlightId:n,clipPathId:r}){var f,v;if(z(this,Qa,t),z(this,Gs,t.getNewOutline(p(this,Ja)/2+1.5,.0025)),n>=0)z(this,ba,n),z(this,Ff,r),this.parent.drawLayer.finalizeDraw(n,{bbox:t.box,path:{d:t.toSVGPath()}}),z(this,Yi,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:p(this,Gs).box,path:{d:p(this,Gs).toSVGPath()}},!0));else if(this.parent){const g=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(p(this,ba),{bbox:ne(f=_n,ro,Xp).call(f,p(this,Qa).box,(g-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(p(this,Yi),{bbox:ne(v=_n,ro,Xp).call(v,p(this,Gs).box,g),path:{d:p(this,Gs).toSVGPath()}})}const[o,l,c,d]=t.box;switch(this.rotation){case 0:this.x=o,this.y=l,this.width=c,this.height=d;break;case 90:{const[g,b]=this.parentDimensions;this.x=l,this.y=1-o,this.width=c*b/g,this.height=d*g/b;break}case 180:this.x=1-o,this.y=1-l,this.width=c,this.height=d;break;case 270:{const[g,b]=this.parentDimensions;this.x=1-l,this.y=o,this.width=c*b/g,this.height=d*g/b;break}}const{lastPoint:h}=p(this,Gs);z(this,Zg,[(h[0]-o)/c,(h[1]-l)/d])},GE=function(t){const n=(o,l)=>{var c,d;this.color=o,z(this,sc,l),(c=this.parent)==null||c.drawLayer.updateProperties(p(this,ba),{root:{fill:o,"fill-opacity":l}}),(d=p(this,Jg))==null||d.updateColor(o)},r=this.color,s=p(this,sc);this.addCommands({cmd:n.bind(this,t,_n._defaultOpacity),undo:n.bind(this,r,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:sn.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},XE=function(t){const n=p(this,Ja),r=s=>{z(this,Ja,s),ne(this,Vt,YE).call(this,s)};this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:sn.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},YE=function(t){if(!p(this,Ai))return;ne(this,Vt,A5).call(this,{highlightOutlines:p(this,Qa).getNewOutline(t/2)}),this.fixAndSetPosition();const[n,r]=this.parentDimensions;this.setDims(this.width*n,this.height*r)},Rb=function(){p(this,ba)===null||!this.parent||(this.parent.drawLayer.remove(p(this,ba)),z(this,ba,null),this.parent.drawLayer.remove(p(this,Yi)),z(this,Yi,null))},Md=function(t=this.parent){p(this,ba)===null&&({id:gs(this,ba)._,clipPathId:gs(this,Ff)._}=t.drawLayer.draw({bbox:p(this,Qa).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":p(this,sc)},rootClass:{highlight:!0,free:p(this,Ai)},path:{d:p(this,Qa).toSVGPath()}},!1,!0),z(this,Yi,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:p(this,Ai)},bbox:p(this,Gs).box,path:{d:p(this,Gs).toSVGPath()}},p(this,Ai))),p(this,Mf)&&(p(this,Mf).style.clipPath=p(this,Ff)))},ro=new WeakSet,Xp=function([t,n,r,s],o){switch(o){case 90:return[1-n-s,t,s,r];case 180:return[1-t-r,1-n-s,r,s];case 270:return[n,1-t-r,s,r]}return[t,n,r,s]},KE=function(t){_n._keyboardManager.exec(this,t)},x5=function(t){if(!p(this,Qg))return;const n=window.getSelection();t?n.setPosition(p(this,Qg),p(this,z0)):n.setPosition(p(this,U0),p(this,H0))},r1=function(){return p(this,Ai)?this.rotation:0},QE=function(){if(p(this,Ai))return null;const[t,n]=this.pageDimensions,[r,s]=this.pageTranslation,o=p(this,ic),l=new Float32Array(o.length*8);let c=0;for(const{x:d,y:h,width:f,height:v}of o){const g=d*t+r,b=(1-h)*n+s;l[c]=l[c+4]=g,l[c+1]=l[c+3]=b,l[c+2]=l[c+6]=g+f*t,l[c+5]=l[c+7]=b-v*n,c+=8}return l},JE=function(t){return p(this,Qa).serialize(t,ne(this,Vt,r1).call(this))},ZE=function(t,n){this._freeHighlight.add(n)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},e6=function(t,n){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},t6=function(t){const{color:n}=this._initialData;return t.color.some((r,s)=>r!==n[s])},Z(_n,ro),Tt(_n,"_defaultColor",null),Tt(_n,"_defaultOpacity",1),Tt(_n,"_defaultThickness",12),Tt(_n,"_type","highlight"),Tt(_n,"_editorType",Gt.HIGHLIGHT),Tt(_n,"_freeHighlightId",-1),Tt(_n,"_freeHighlight",null),Tt(_n,"_freeHighlightClipId","");let J5=_n;var Of;class g7{constructor(){Z(this,Of,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,n]of Object.entries(e))this.updateProperty(t,n)}updateSVGProperty(e,t){p(this,Of)[e]=t}toSVGProperties(){const e=p(this,Of);return z(this,Of,Object.create(null)),{root:e}}reset(){z(this,Of,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){jn("Not implemented")}}Of=new WeakMap;var Aa,tm,oi,Df,jf,Rh,Fh,Mh,Bf,dn,Mb,Ob,Db,i1,n6,S5,s1,Yp;const ft=class ft extends cr{constructor(t){super(t);Z(this,dn);Z(this,Aa,null);Z(this,tm);Tt(this,"_drawId",null);z(this,tm,t.mustBeCommitted||!1),t.drawOutlines&&(ne(this,dn,Mb).call(this,t),ne(this,dn,i1).call(this))}static _mergeSVGProperties(t,n){const r=new Set(Object.keys(t));for(const[s,o]of Object.entries(n))r.has(s)?Object.assign(t[s],o):t[s]=o;return t}static getDefaultDrawingOptions(t){jn("Not implemented")}static get typesMap(){jn("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,n){const r=this.typesMap.get(t);r&&this._defaultDrawingOptions.updateProperty(r,n),this._currentParent&&(p(ft,oi).updateProperty(r,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,n){const r=this.constructor.typesMap.get(t);r&&this._updateProperty(t,r,n)}static get defaultPropertiesToUpdate(){const t=[],n=this._defaultDrawingOptions;for(const[r,s]of this.typesMap)t.push([r,n[s]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:n}=this;for(const[r,s]of this.constructor.typesMap)t.push([r,n[s]]);return t}_updateProperty(t,n,r){const s=this._drawingOptions,o=s[n],l=c=>{var h;s.updateProperty(n,c);const d=p(this,Aa).updateProperty(n,c);d&&ne(this,dn,s1).call(this,d),(h=this.parent)==null||h.drawLayer.updateProperties(this._drawId,s.toSVGProperties())};this.addCommands({cmd:l.bind(this,r),undo:l.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,ft._mergeSVGProperties(p(this,Aa).getPathResizingSVGProperties(ne(this,dn,S5).call(this)),{bbox:ne(this,dn,Yp).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,ft._mergeSVGProperties(p(this,Aa).getPathResizedSVGProperties(ne(this,dn,S5).call(this)),{bbox:ne(this,dn,Yp).call(this)}))}_onTranslating(t,n){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,{bbox:ne(this,dn,Yp).call(this,t,n)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,ft._mergeSVGProperties(p(this,Aa).getPathTranslatedSVGProperties(ne(this,dn,S5).call(this),this.parentDimensions),{bbox:ne(this,dn,Yp).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,p(this,tm)&&(z(this,tm,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){ne(this,dn,Db).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(ne(this,dn,i1).call(this),ne(this,dn,s1).call(this,p(this,Aa).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let n=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),ne(this,dn,Db).call(this)):t&&(this._uiManager.addShouldRescale(this),ne(this,dn,i1).call(this,t),n=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),n&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,ft._mergeSVGProperties({bbox:ne(this,dn,Yp).call(this)},p(this,Aa).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&ne(this,dn,s1).call(this,p(this,Aa).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;const t=super.render();t.classList.add("draw");const n=document.createElement("div");t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal";const[r,s]=this.parentDimensions;return this.setDims(this.width*r,this.height*s),this._uiManager.addShouldRescale(this),this.disableEditing(),t}static createDrawerInstance(t,n,r,s,o){jn("Not implemented")}static startDrawing(t,n,r,s){var E;const{target:o,offsetX:l,offsetY:c,pointerId:d,pointerType:h}=s;if(p(ft,Fh)&&p(ft,Fh)!==h)return;const{viewport:{rotation:f}}=t,{width:v,height:g}=o.getBoundingClientRect(),b=z(ft,Df,new AbortController),x=t.combinedSignal(b);if(p(ft,Rh)||z(ft,Rh,d),p(ft,Fh)??z(ft,Fh,h),window.addEventListener("pointerup",S=>{var P;p(ft,Rh)===S.pointerId?this._endDraw(S):(P=p(ft,Mh))==null||P.delete(S.pointerId)},{signal:x}),window.addEventListener("pointercancel",S=>{var P;p(ft,Rh)===S.pointerId?this._currentParent.endDrawingSession():(P=p(ft,Mh))==null||P.delete(S.pointerId)},{signal:x}),window.addEventListener("pointerdown",S=>{p(ft,Fh)===S.pointerType&&((p(ft,Mh)||z(ft,Mh,new Set)).add(S.pointerId),p(ft,oi).isCancellable()&&(p(ft,oi).removeLastElement(),p(ft,oi).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:x}),window.addEventListener("contextmenu",Ko,{signal:x}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:x}),o.addEventListener("touchmove",S=>{S.timeStamp===p(ft,Bf)&&La(S)},{signal:x}),t.toggleDrawing(),(E=n._editorUndoBar)==null||E.hide(),p(ft,oi)){t.drawLayer.updateProperties(this._currentDrawId,p(ft,oi).startNew(l,c,v,g,f));return}n.updateUIForDefaultProperties(this),z(ft,oi,this.createDrawerInstance(l,c,v,g,f)),z(ft,jf,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(p(ft,jf).toSVGProperties(),p(ft,oi).defaultSVGProperties),!0,!1)}static _drawMove(t){var o;if(z(ft,Bf,-1),!p(ft,oi))return;const{offsetX:n,offsetY:r,pointerId:s}=t;if(p(ft,Rh)===s){if(((o=p(ft,Mh))==null?void 0:o.size)>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,p(ft,oi).add(n,r)),z(ft,Bf,t.timeStamp),La(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,z(ft,oi,null),z(ft,jf,null),z(ft,Fh,null),z(ft,Bf,NaN)),p(ft,Df)&&(p(ft,Df).abort(),z(ft,Df,null),z(ft,Rh,NaN),z(ft,Mh,null))}static _endDraw(t){const n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),t&&n.drawLayer.updateProperties(this._currentDrawId,p(ft,oi).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const r=p(ft,oi),s=this._currentDrawId,o=r.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(s,r.setLastElement(o))},undo:()=>{n.drawLayer.updateProperties(s,r.removeLastElement())},mustExec:!1,type:sn.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(sn.DRAW_STEP),!p(ft,oi).isEmpty()){const{pageDimensions:[r,s],scale:o}=n,l=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:p(ft,oi).getOutlines(r*o,s*o,o,this._INNER_MARGIN),drawingOptions:p(ft,jf),mustBeCommitted:!t});return this._cleanup(!0),l}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,n,r,s,o,l){jn("Not implemented")}static async deserialize(t,n,r){var f,v;const{rawDims:{pageWidth:s,pageHeight:o,pageX:l,pageY:c}}=n.viewport,d=this.deserializeDraw(l,c,s,o,this._INNER_MARGIN,t),h=await super.deserialize(t,n,r);return h.createDrawingOptions(t),ne(f=h,dn,Mb).call(f,{drawOutlines:d}),ne(v=h,dn,i1).call(v),h.onScaleChanging(),h.rotate(),h}serializeDraw(t){const[n,r]=this.pageTranslation,[s,o]=this.pageDimensions;return p(this,Aa).serialize([n,r,s,o],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Aa=new WeakMap,tm=new WeakMap,oi=new WeakMap,Df=new WeakMap,jf=new WeakMap,Rh=new WeakMap,Fh=new WeakMap,Mh=new WeakMap,Bf=new WeakMap,dn=new WeakSet,Mb=function({drawOutlines:t,drawId:n,drawingOptions:r}){z(this,Aa,t),this._drawingOptions||(this._drawingOptions=r),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,t.defaultProperties)):this._drawId=ne(this,dn,Ob).call(this,t,this.parent),ne(this,dn,s1).call(this,t.box)},Ob=function(t,n){const{id:r}=n.drawLayer.draw(ft._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return r},Db=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},i1=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=ne(this,dn,Ob).call(this,p(this,Aa),t)}},n6=function([t,n,r,s]){const{parentDimensions:[o,l],rotation:c}=this;switch(c){case 90:return[n,1-t,r*(l/o),s*(o/l)];case 180:return[1-t,1-n,r,s];case 270:return[1-n,t,r*(l/o),s*(o/l)];default:return[t,n,r,s]}},S5=function(){const{x:t,y:n,width:r,height:s,parentDimensions:[o,l],rotation:c}=this;switch(c){case 90:return[1-n,t,r*(o/l),s*(l/o)];case 180:return[1-t,1-n,r,s];case 270:return[n,1-t,r*(o/l),s*(l/o)];default:return[t,n,r,s]}},s1=function(t){if([this.x,this.y,this.width,this.height]=ne(this,dn,n6).call(this,t),this.div){this.fixAndSetPosition();const[n,r]=this.parentDimensions;this.setDims(this.width*n,this.height*r)}this._onResized()},Yp=function(){const{x:t,y:n,width:r,height:s,rotation:o,parentRotation:l,parentDimensions:[c,d]}=this;switch((o*4+l)/90){case 1:return[1-n-s,t,s,r];case 2:return[1-t-r,1-n-s,r,s];case 3:return[n,1-t-r,s,r];case 4:return[t,n-r*(c/d),s*(d/c),r*(c/d)];case 5:return[1-n,t,r*(c/d),s*(d/c)];case 6:return[1-t-s*(d/c),1-n,s*(d/c),r*(c/d)];case 7:return[n-r*(c/d),1-t-s*(d/c),r*(c/d),s*(d/c)];case 8:return[t-r,n-s,r,s];case 9:return[1-n,t-r,s,r];case 10:return[1-t,1-n,r,s];case 11:return[n-s,1-t,s,r];case 12:return[t-s*(d/c),n,s*(d/c),r*(c/d)];case 13:return[1-n-r*(c/d),t-s*(d/c),r*(c/d),s*(d/c)];case 14:return[1-t,1-n-r*(c/d),s*(d/c),r*(c/d)];case 15:return[n,1-t,r*(c/d),s*(d/c)];default:return[t,n,r,s]}},Tt(ft,"_currentDrawId",-1),Tt(ft,"_currentParent",null),Z(ft,oi,null),Z(ft,Df,null),Z(ft,jf,null),Z(ft,Rh,NaN),Z(ft,Fh,null),Z(ft,Mh,null),Z(ft,Bf,NaN),Tt(ft,"_INNER_MARGIN",3);let Fb=ft;var jl,li,ui,zf,nm,ys,xi,Za,Uf,Hf,$f,rm,_5;class m7{constructor(e,t,n,r,s,o){Z(this,rm);Z(this,jl,new Float64Array(6));Z(this,li);Z(this,ui);Z(this,zf);Z(this,nm);Z(this,ys);Z(this,xi,"");Z(this,Za,0);Z(this,Uf,new Z5);Z(this,Hf);Z(this,$f);z(this,Hf,n),z(this,$f,r),z(this,zf,s),z(this,nm,o),[e,t]=ne(this,rm,_5).call(this,e,t);const l=z(this,li,[NaN,NaN,NaN,NaN,e,t]);z(this,ys,[e,t]),z(this,ui,[{line:l,points:p(this,ys)}]),p(this,jl).set(l,0)}updateProperty(e,t){e==="stroke-width"&&z(this,nm,t)}isEmpty(){return!p(this,ui)||p(this,ui).length===0}isCancellable(){return p(this,ys).length<=10}add(e,t){[e,t]=ne(this,rm,_5).call(this,e,t);const[n,r,s,o]=p(this,jl).subarray(2,6),l=e-s,c=t-o;return Math.hypot(p(this,Hf)*l,p(this,$f)*c)<=2?null:(p(this,ys).push(e,t),isNaN(n)?(p(this,jl).set([s,o,e,t],2),p(this,li).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(p(this,jl)[0])&&p(this,li).splice(6,6),p(this,jl).set([n,r,s,o,e,t],0),p(this,li).push(...dt.createBezierPoints(n,r,s,o,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const n=this.add(e,t);return n||(p(this,ys).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,n,r,s){z(this,Hf,n),z(this,$f,r),z(this,zf,s),[e,t]=ne(this,rm,_5).call(this,e,t);const o=z(this,li,[NaN,NaN,NaN,NaN,e,t]);z(this,ys,[e,t]);const l=p(this,ui).at(-1);return l&&(l.line=new Float32Array(l.line),l.points=new Float32Array(l.points)),p(this,ui).push({line:o,points:p(this,ys)}),p(this,jl).set(o,0),z(this,Za,0),this.toSVGPath(),null}getLastElement(){return p(this,ui).at(-1)}setLastElement(e){return p(this,ui)?(p(this,ui).push(e),z(this,li,e.line),z(this,ys,e.points),z(this,Za,0),{path:{d:this.toSVGPath()}}):p(this,Uf).setLastElement(e)}removeLastElement(){if(!p(this,ui))return p(this,Uf).removeLastElement();p(this,ui).pop(),z(this,xi,"");for(let e=0,t=p(this,ui).length;e<t;e++){const{line:n,points:r}=p(this,ui)[e];z(this,li,n),z(this,ys,r),z(this,Za,0),this.toSVGPath()}return{path:{d:p(this,xi)}}}toSVGPath(){const e=dt.svgRound(p(this,li)[4]),t=dt.svgRound(p(this,li)[5]);if(p(this,ys).length===2)return z(this,xi,`${p(this,xi)} M ${e} ${t} Z`),p(this,xi);if(p(this,ys).length<=6){const r=p(this,xi).lastIndexOf("M");z(this,xi,`${p(this,xi).slice(0,r)} M ${e} ${t}`),z(this,Za,6)}if(p(this,ys).length===4){const r=dt.svgRound(p(this,li)[10]),s=dt.svgRound(p(this,li)[11]);return z(this,xi,`${p(this,xi)} L ${r} ${s}`),z(this,Za,12),p(this,xi)}const n=[];p(this,Za)===0&&(n.push(`M ${e} ${t}`),z(this,Za,6));for(let r=p(this,Za),s=p(this,li).length;r<s;r+=6){const[o,l,c,d,h,f]=p(this,li).slice(r,r+6).map(dt.svgRound);n.push(`C${o} ${l} ${c} ${d} ${h} ${f}`)}return z(this,xi,p(this,xi)+n.join(" ")),z(this,Za,p(this,li).length),p(this,xi)}getOutlines(e,t,n,r){const s=p(this,ui).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),p(this,Uf).build(p(this,ui),e,t,n,p(this,zf),p(this,nm),r),z(this,jl,null),z(this,li,null),z(this,ui,null),z(this,xi,null),p(this,Uf)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}jl=new WeakMap,li=new WeakMap,ui=new WeakMap,zf=new WeakMap,nm=new WeakMap,ys=new WeakMap,xi=new WeakMap,Za=new WeakMap,Uf=new WeakMap,Hf=new WeakMap,$f=new WeakMap,rm=new WeakSet,_5=function(e,t){return dt._normalizePoint(e,t,p(this,Hf),p(this,$f),p(this,zf))};var ws,q0,W0,xa,Bl,zl,im,sm,am,_i,Ou,r6,i6,s6;const MA=class MA extends dt{constructor(){super(...arguments);Z(this,_i);Z(this,ws);Z(this,q0,0);Z(this,W0);Z(this,xa);Z(this,Bl);Z(this,zl);Z(this,im);Z(this,sm);Z(this,am)}build(t,n,r,s,o,l,c){z(this,Bl,n),z(this,zl,r),z(this,im,s),z(this,sm,o),z(this,am,l),z(this,W0,c??0),z(this,xa,t),ne(this,_i,i6).call(this)}setLastElement(t){return p(this,xa).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return p(this,xa).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:n}of p(this,xa)){if(t.push(`M${dt.svgRound(n[4])} ${dt.svgRound(n[5])}`),n.length===6){t.push("Z");continue}if(n.length===12){t.push(`L${dt.svgRound(n[10])} ${dt.svgRound(n[11])}`);continue}for(let r=6,s=n.length;r<s;r+=6){const[o,l,c,d,h,f]=n.subarray(r,r+6).map(dt.svgRound);t.push(`C${o} ${l} ${c} ${d} ${h} ${f}`)}}return t.join("")}serialize([t,n,r,s],o){const l=[],c=[],[d,h,f,v]=ne(this,_i,r6).call(this);let g,b,x,E,S,P,F,M,$;switch(p(this,sm)){case 0:$=dt._rescale,g=t,b=n+s,x=r,E=-s,S=t+d*r,P=n+(1-h-v)*s,F=t+(d+f)*r,M=n+(1-h)*s;break;case 90:$=dt._rescaleAndSwap,g=t,b=n,x=r,E=s,S=t+h*r,P=n+d*s,F=t+(h+v)*r,M=n+(d+f)*s;break;case 180:$=dt._rescale,g=t+r,b=n,x=-r,E=s,S=t+(1-d-f)*r,P=n+h*s,F=t+(1-d)*r,M=n+(h+v)*s;break;case 270:$=dt._rescaleAndSwap,g=t+r,b=n+s,x=-r,E=-s,S=t+(1-h-v)*r,P=n+(1-d-f)*s,F=t+(1-h)*r,M=n+(1-d)*s;break}for(const{line:H,points:q}of p(this,xa))l.push($(H,g,b,x,E,o?new Array(H.length):null)),c.push($(q,g,b,x,E,o?new Array(q.length):null));return{lines:l,points:c,rect:[S,P,F,M]}}static deserialize(t,n,r,s,o,{paths:{lines:l,points:c},rotation:d,thickness:h}){const f=[];let v,g,b,x,E;switch(d){case 0:E=dt._rescale,v=-t/r,g=n/s+1,b=1/r,x=-1/s;break;case 90:E=dt._rescaleAndSwap,v=-n/s,g=-t/r,b=1/s,x=1/r;break;case 180:E=dt._rescale,v=t/r+1,g=-n/s,b=-1/r,x=1/s;break;case 270:E=dt._rescaleAndSwap,v=n/s+1,g=t/r+1,b=-1/s,x=-1/r;break}if(!l){l=[];for(const P of c){const F=P.length;if(F===2){l.push(new Float32Array([NaN,NaN,NaN,NaN,P[0],P[1]]));continue}if(F===4){l.push(new Float32Array([NaN,NaN,NaN,NaN,P[0],P[1],NaN,NaN,NaN,NaN,P[2],P[3]]));continue}const M=new Float32Array(3*(F-2));l.push(M);let[$,H,q,T]=P.subarray(0,4);M.set([NaN,NaN,NaN,NaN,$,H],0);for(let D=4;D<F;D+=2){const J=P[D],I=P[D+1];M.set(dt.createBezierPoints($,H,q,T,J,I),(D-2)*3),[$,H,q,T]=[q,T,J,I]}}}for(let P=0,F=l.length;P<F;P++)f.push({line:E(l[P].map(M=>M??NaN),v,g,b,x),points:E(c[P].map(M=>M??NaN),v,g,b,x)});const S=new MA;return S.build(f,r,s,1,d,h,o),S}get box(){return p(this,ws)}updateProperty(t,n){return t==="stroke-width"?ne(this,_i,s6).call(this,n):null}updateParentDimensions([t,n],r){const[s,o]=ne(this,_i,Ou).call(this);z(this,Bl,t),z(this,zl,n),z(this,im,r);const[l,c]=ne(this,_i,Ou).call(this),d=l-s,h=c-o,f=p(this,ws);return f[0]-=d,f[1]-=h,f[2]+=2*d,f[3]+=2*h,f}updateRotation(t){return z(this,q0,t),{path:{transform:this.rotationTransform}}}get viewBox(){return p(this,ws).map(dt.svgRound).join(" ")}get defaultProperties(){const[t,n]=p(this,ws);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${dt.svgRound(t)} ${dt.svgRound(n)}`}}}get rotationTransform(){const[,,t,n]=p(this,ws);let r=0,s=0,o=0,l=0,c=0,d=0;switch(p(this,q0)){case 90:s=n/t,o=-t/n,c=t;break;case 180:r=-1,l=-1,c=t,d=n;break;case 270:s=-n/t,o=t/n,d=n;break;default:return""}return`matrix(${r} ${s} ${o} ${l} ${dt.svgRound(c)} ${dt.svgRound(d)})`}getPathResizingSVGProperties([t,n,r,s]){const[o,l]=ne(this,_i,Ou).call(this),[c,d,h,f]=p(this,ws);if(Math.abs(h-o)<=dt.PRECISION||Math.abs(f-l)<=dt.PRECISION){const E=t+r/2-(c+h/2),S=n+s/2-(d+f/2);return{path:{"transform-origin":`${dt.svgRound(t)} ${dt.svgRound(n)}`,transform:`${this.rotationTransform} translate(${E} ${S})`}}}const v=(r-2*o)/(h-2*o),g=(s-2*l)/(f-2*l),b=h/r,x=f/s;return{path:{"transform-origin":`${dt.svgRound(c)} ${dt.svgRound(d)}`,transform:`${this.rotationTransform} scale(${b} ${x}) translate(${dt.svgRound(o)} ${dt.svgRound(l)}) scale(${v} ${g}) translate(${dt.svgRound(-o)} ${dt.svgRound(-l)})`}}}getPathResizedSVGProperties([t,n,r,s]){const[o,l]=ne(this,_i,Ou).call(this),c=p(this,ws),[d,h,f,v]=c;if(c[0]=t,c[1]=n,c[2]=r,c[3]=s,Math.abs(f-o)<=dt.PRECISION||Math.abs(v-l)<=dt.PRECISION){const S=t+r/2-(d+f/2),P=n+s/2-(h+v/2);for(const{line:F,points:M}of p(this,xa))dt._translate(F,S,P,F),dt._translate(M,S,P,M);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${dt.svgRound(t)} ${dt.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const g=(r-2*o)/(f-2*o),b=(s-2*l)/(v-2*l),x=-g*(d+o)+t+o,E=-b*(h+l)+n+l;if(g!==1||b!==1||x!==0||E!==0)for(const{line:S,points:P}of p(this,xa))dt._rescale(S,x,E,g,b,S),dt._rescale(P,x,E,g,b,P);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${dt.svgRound(t)} ${dt.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,n],r){const[s,o]=r,l=p(this,ws),c=t-l[0],d=n-l[1];if(p(this,Bl)===s&&p(this,zl)===o)for(const{line:h,points:f}of p(this,xa))dt._translate(h,c,d,h),dt._translate(f,c,d,f);else{const h=p(this,Bl)/s,f=p(this,zl)/o;z(this,Bl,s),z(this,zl,o);for(const{line:v,points:g}of p(this,xa))dt._rescale(v,c,d,h,f,v),dt._rescale(g,c,d,h,f,g);l[2]*=h,l[3]*=f}return l[0]=t,l[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${dt.svgRound(t)} ${dt.svgRound(n)}`}}}get defaultSVGProperties(){const t=p(this,ws);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${dt.svgRound(t[0])} ${dt.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}};ws=new WeakMap,q0=new WeakMap,W0=new WeakMap,xa=new WeakMap,Bl=new WeakMap,zl=new WeakMap,im=new WeakMap,sm=new WeakMap,am=new WeakMap,_i=new WeakSet,Ou=function(t=p(this,am)){const n=p(this,W0)+t/2*p(this,im);return p(this,sm)%180===0?[n/p(this,Bl),n/p(this,zl)]:[n/p(this,zl),n/p(this,Bl)]},r6=function(){const[t,n,r,s]=p(this,ws),[o,l]=ne(this,_i,Ou).call(this,0);return[t+o,n+l,r-2*o,s-2*l]},i6=function(){const t=z(this,ws,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of p(this,xa)){if(s.length<=12){for(let c=4,d=s.length;c<d;c+=6){const[h,f]=s.subarray(c,c+2);t[0]=Math.min(t[0],h),t[1]=Math.min(t[1],f),t[2]=Math.max(t[2],h),t[3]=Math.max(t[3],f)}continue}let o=s[4],l=s[5];for(let c=6,d=s.length;c<d;c+=6){const[h,f,v,g,b,x]=s.subarray(c,c+6);St.bezierBoundingBox(o,l,h,f,v,g,b,x,t),o=b,l=x}}const[n,r]=ne(this,_i,Ou).call(this);t[0]=Math.min(1,Math.max(0,t[0]-n)),t[1]=Math.min(1,Math.max(0,t[1]-r)),t[2]=Math.min(1,Math.max(0,t[2]+n)),t[3]=Math.min(1,Math.max(0,t[3]+r)),t[2]-=t[0],t[3]-=t[1]},s6=function(t){const[n,r]=ne(this,_i,Ou).call(this);z(this,am,t);const[s,o]=ne(this,_i,Ou).call(this),[l,c]=[s-n,o-r],d=p(this,ws);return d[0]-=l,d[1]-=c,d[2]+=2*l,d[3]+=2*c,d};let Z5=MA;var om;const OA=class OA extends g7{constructor(t){super();Z(this,om);z(this,om,t),super.updateProperties({fill:"none",stroke:cr._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,n){t==="stroke-width"&&(n??(n=this["stroke-width"]),n*=p(this,om).realScale),super.updateSVGProperty(t,n)}clone(){const t=new OA(p(this,om));return t.updateAll(this),t}};om=new WeakMap;let jb=OA;var vv,a6;const Zp=class Zp extends Fb{constructor(t){super({...t,name:"inkEditor"});Z(this,vv);this._willKeepAspectRatio=!0}static initialize(t,n){cr.initialize(t,n),this._defaultDrawingOptions=new jb(n.viewParameters)}static getDefaultDrawingOptions(t){const n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return en(this,"typesMap",new Map([[sn.INK_THICKNESS,"stroke-width"],[sn.INK_COLOR,"stroke"],[sn.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,n,r,s,o){return new m7(t,n,r,s,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,n,r,s,o,l){return Z5.deserialize(t,n,r,s,o,l)}static async deserialize(t,n,r){let s=null;if(t instanceof kA){const{data:{inkLists:l,rect:c,rotation:d,id:h,color:f,opacity:v,borderStyle:{rawWidth:g},popupRef:b},parent:{page:{pageNumber:x}}}=t;s=t={annotationType:Gt.INK,color:Array.from(f),thickness:g,opacity:v,paths:{points:l},boxes:null,pageIndex:x-1,rect:c.slice(0),rotation:d,id:h,deleted:!1,popupRef:b}}const o=await super.deserialize(t,n,r);return o.annotationElementId=t.id||null,o._initialData=s,o}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:n,parent:r}=this;n.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(t,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:n,opacity:r}){this._drawingOptions=Zp.getDefaultDrawingOptions({stroke:St.makeHexColor(...t),"stroke-width":n,"stroke-opacity":r})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:r,rect:s}=this.serializeDraw(t),{_drawingOptions:{stroke:o,"stroke-opacity":l,"stroke-width":c}}=this,d={annotationType:Gt.INK,color:cr._colorManager.convert(o),opacity:l,thickness:c,paths:{lines:n,points:r},pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?d:this.annotationElementId&&!ne(this,vv,a6).call(this,d)?null:(d.id=this.annotationElementId,d)}renderAnnotationElement(t){const{points:n,rect:r}=this.serializeDraw(!1);return t.updateEdited({rect:r,thickness:this._drawingOptions["stroke-width"],points:n}),null}};vv=new WeakSet,a6=function(t){const{color:n,thickness:r,opacity:s,pageIndex:o}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||t.color.some((l,c)=>l!==n[c])||t.thickness!==r||t.opacity!==s||t.pageIndex!==o},Tt(Zp,"_type","ink"),Tt(Zp,"_editorType",Gt.INK),Tt(Zp,"_defaultDrawingOptions",null);let Bb=Zp;var ur,Si,Oh,ac,Dh,lm,Ul,Hl,Sa,um,wn,a1,o1,E5,Ub,L5,Hb,C5,o6;const d1=class d1 extends cr{constructor(t){super({...t,name:"stampEditor"});Z(this,wn);Z(this,ur,null);Z(this,Si,null);Z(this,Oh,null);Z(this,ac,null);Z(this,Dh,null);Z(this,lm,"");Z(this,Ul,null);Z(this,Hl,null);Z(this,Sa,!1);Z(this,um,!1);z(this,ac,t.bitmapUrl),z(this,Dh,t.bitmapFile)}static initialize(t,n){cr.initialize(t,n)}static get supportedTypes(){return en(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return en(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,n){n.pasteEditor(Gt.STAMP,{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const n=t.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(t=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:o,height:l}=t||this.copyCanvas(null,null,!0).imageData,c=await r.guess({name:"altText",request:{data:s,width:o,height:l,channels:s.length/(o*l)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const d=c.output;return await this.setGuessedAltText(d),n&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}remove(){var t;p(this,Si)&&(z(this,ur,null),this._uiManager.imageManager.deleteId(p(this,Si)),(t=p(this,Ul))==null||t.remove(),z(this,Ul,null),p(this,Hl)&&(clearTimeout(p(this,Hl)),z(this,Hl,null))),super.remove()}rebuild(){if(!this.parent){p(this,Si)&&ne(this,wn,E5).call(this);return}super.rebuild(),this.div!==null&&(p(this,Si)&&p(this,Ul)===null&&ne(this,wn,E5).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(p(this,Oh)||p(this,ur)||p(this,ac)||p(this,Dh)||p(this,Si))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,n;if(this.width&&(t=this.x,n=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),p(this,ur)?ne(this,wn,Ub).call(this):ne(this,wn,E5).call(this),this.width&&!this.annotationElementId){const[r,s]=this.parentDimensions;this.setAt(t*r,n*s,this.width*r,this.height*s)}return this._uiManager.addShouldRescale(this),this.div}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;p(this,Hl)!==null&&clearTimeout(p(this,Hl)),z(this,Hl,setTimeout(()=>{z(this,Hl,null),ne(this,wn,Hb).call(this)},200))}copyCanvas(t,n,r=!1){var g;t||(t=224);const{width:s,height:o}=p(this,ur),l=new jw;let c=p(this,ur),d=s,h=o,f=null;if(n){if(s>n||o>n){const T=Math.min(n/s,n/o);d=Math.floor(s*T),h=Math.floor(o*T)}f=document.createElement("canvas");const b=f.width=Math.ceil(d*l.sx),x=f.height=Math.ceil(h*l.sy);p(this,Sa)||(c=ne(this,wn,L5).call(this,b,x));const E=f.getContext("2d");E.filter=this._uiManager.hcmFilter;let S="white",P="#cfcfd8";this._uiManager.hcmFilter!=="none"?P="black":(g=window.matchMedia)!=null&&g.call(window,"(prefers-color-scheme: dark)").matches&&(S="#8f8f9d",P="#42414d");const F=15,M=F*l.sx,$=F*l.sy,H=new OffscreenCanvas(M*2,$*2),q=H.getContext("2d");q.fillStyle=S,q.fillRect(0,0,M*2,$*2),q.fillStyle=P,q.fillRect(0,0,M,$),q.fillRect(M,$,M,$),E.fillStyle=E.createPattern(H,"repeat"),E.fillRect(0,0,b,x),E.drawImage(c,0,0,c.width,c.height,0,0,b,x)}let v=null;if(r){let b,x;if(l.symmetric&&c.width<t&&c.height<t)b=c.width,x=c.height;else if(c=p(this,ur),s>t||o>t){const P=Math.min(t/s,t/o);b=Math.floor(s*P),x=Math.floor(o*P),p(this,Sa)||(c=ne(this,wn,L5).call(this,b,x))}const S=new OffscreenCanvas(b,x).getContext("2d",{willReadFrequently:!0});S.drawImage(c,0,0,c.width,c.height,0,0,b,x),v={width:b,height:x,data:S.getImageData(0,0,b,x).data}}return{canvas:f,width:d,height:h,imageData:v}}getImageForAltText(){return p(this,Ul)}static async deserialize(t,n,r){var x;let s=null;if(t instanceof PE){const{data:{rect:E,rotation:S,id:P,structParent:F,popupRef:M},container:$,parent:{page:{pageNumber:H}}}=t,q=$.querySelector("canvas"),T=r.imageManager.getFromCanvas($.id,q);q.remove();const D=((x=await n._structTree.getAriaAttributes(`${xA}${P}`))==null?void 0:x.get("aria-label"))||"";s=t={annotationType:Gt.STAMP,bitmapId:T.id,bitmap:T.bitmap,pageIndex:H-1,rect:E.slice(0),rotation:S,id:P,deleted:!1,accessibilityData:{decorative:!1,altText:D},isSvg:!1,structParent:F,popupRef:M}}const o=await super.deserialize(t,n,r),{rect:l,bitmap:c,bitmapUrl:d,bitmapId:h,isSvg:f,accessibilityData:v}=t;h&&r.imageManager.isValidId(h)?(z(o,Si,h),c&&z(o,ur,c)):z(o,ac,d),z(o,Sa,f);const[g,b]=o.pageDimensions;return o.width=(l[2]-l[0])/g,o.height=(l[3]-l[1])/b,o.annotationElementId=t.id||null,v&&(o.altTextData=v),o._initialData=s,z(o,um,!!s),o}serialize(t=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:Gt.STAMP,bitmapId:p(this,Si),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:p(this,Sa),structTreeParentId:this._structTreeParentId};if(t)return r.bitmapUrl=ne(this,wn,C5).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r;const{decorative:s,altText:o}=this.serializeAltText(!1);if(!s&&o&&(r.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const c=ne(this,wn,o6).call(this,r);if(c.isSame)return null;c.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,n===null)return r;n.stamps||(n.stamps=new Map);const l=p(this,Sa)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!n.stamps.has(p(this,Si)))n.stamps.set(p(this,Si),{area:l,serialized:r}),r.bitmap=ne(this,wn,C5).call(this,!1);else if(p(this,Sa)){const c=n.stamps.get(p(this,Si));l>c.area&&(c.area=l,c.serialized.bitmap.close(),c.serialized.bitmap=ne(this,wn,C5).call(this,!1))}return r}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}};ur=new WeakMap,Si=new WeakMap,Oh=new WeakMap,ac=new WeakMap,Dh=new WeakMap,lm=new WeakMap,Ul=new WeakMap,Hl=new WeakMap,Sa=new WeakMap,um=new WeakMap,wn=new WeakSet,a1=function(t,n=!1){if(!t){this.remove();return}z(this,ur,t.bitmap),n||(z(this,Si,t.id),z(this,Sa,t.isSvg)),t.file&&z(this,lm,t.file.name),ne(this,wn,Ub).call(this)},o1=function(){if(z(this,Oh,null),this._uiManager.enableWaiting(!1),!!p(this,Ul)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&p(this,ur)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&p(this,ur)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},E5=function(){if(p(this,Si)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(p(this,Si)).then(r=>ne(this,wn,a1).call(this,r,!0)).finally(()=>ne(this,wn,o1).call(this));return}if(p(this,ac)){const r=p(this,ac);z(this,ac,null),this._uiManager.enableWaiting(!0),z(this,Oh,this._uiManager.imageManager.getFromUrl(r).then(s=>ne(this,wn,a1).call(this,s)).finally(()=>ne(this,wn,o1).call(this)));return}if(p(this,Dh)){const r=p(this,Dh);z(this,Dh,null),this._uiManager.enableWaiting(!0),z(this,Oh,this._uiManager.imageManager.getFromFile(r).then(s=>ne(this,wn,a1).call(this,s)).finally(()=>ne(this,wn,o1).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=d1.supportedTypesStr;const n=this._uiManager._signal;z(this,Oh,new Promise(r=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),ne(this,wn,a1).call(this,s)}r()},{signal:n}),t.addEventListener("cancel",()=>{this.remove(),r()},{signal:n})}).finally(()=>ne(this,wn,o1).call(this))),t.click()},Ub=function(){var f;const{div:t}=this;let{width:n,height:r}=p(this,ur);const[s,o]=this.pageDimensions,l=.75;if(this.width)n=this.width*s,r=this.height*o;else if(n>l*s||r>l*o){const v=Math.min(l*s/n,l*o/r);n*=v,r*=v}const[c,d]=this.parentDimensions;this.setDims(n*c/s,r*d/o),this._uiManager.enableWaiting(!1);const h=z(this,Ul,document.createElement("canvas"));h.setAttribute("role","img"),this.addContainer(h),this.width=n/s,this.height=r/o,(f=this._initialOptions)!=null&&f.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),ne(this,wn,Hb).call(this),p(this,um)||(this.parent.addUndoableEditor(this),z(this,um,!0)),this._reportTelemetry({action:"inserted_image"}),p(this,lm)&&h.setAttribute("aria-label",p(this,lm))},L5=function(t,n){const{width:r,height:s}=p(this,ur);let o=r,l=s,c=p(this,ur);for(;o>2*t||l>2*n;){const d=o,h=l;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),l>2*n&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const f=new OffscreenCanvas(o,l);f.getContext("2d").drawImage(c,0,0,d,h,0,0,o,l),c=f.transferToImageBitmap()}return c},Hb=function(){const[t,n]=this.parentDimensions,{width:r,height:s}=this,o=new jw,l=Math.ceil(r*t*o.sx),c=Math.ceil(s*n*o.sy),d=p(this,Ul);if(!d||d.width===l&&d.height===c)return;d.width=l,d.height=c;const h=p(this,Sa)?p(this,ur):ne(this,wn,L5).call(this,l,c),f=d.getContext("2d");f.filter=this._uiManager.hcmFilter,f.drawImage(h,0,0,h.width,h.height,0,0,l,c)},C5=function(t){if(t){if(p(this,Sa)){const s=this._uiManager.imageManager.getSvgUrl(p(this,Si));if(s)return s}const n=document.createElement("canvas");return{width:n.width,height:n.height}=p(this,ur),n.getContext("2d").drawImage(p(this,ur),0,0),n.toDataURL()}if(p(this,Sa)){const[n,r]=this.pageDimensions,s=Math.round(this.width*n*Kh.PDF_TO_CSS_UNITS),o=Math.round(this.height*r*Kh.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(s,o);return l.getContext("2d").drawImage(p(this,ur),0,0,p(this,ur).width,p(this,ur).height,0,0,s,o),l.transferToImageBitmap()}return structuredClone(p(this,ur))},o6=function(t){var l;const{pageIndex:n,accessibilityData:{altText:r}}=this._initialData,s=t.pageIndex===n,o=(((l=t.accessibilityData)==null?void 0:l.alt)||"")===r;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&s&&o,isSameAltText:o}},Tt(d1,"_type","stamp"),Tt(d1,"_editorType",Gt.STAMP);let zb=d1;var qf,cm,$l,jh,oc,eo,Bh,hm,Wf,Vo,lc,Ki,uc,bt,zh,ir,l6,Ll,qb,Wb,P5;const Ro=class Ro{constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:r,accessibilityManager:s,annotationLayer:o,drawLayer:l,textLayer:c,viewport:d,l10n:h}){Z(this,ir);Z(this,qf);Z(this,cm,!1);Z(this,$l,null);Z(this,jh,null);Z(this,oc,null);Z(this,eo,new Map);Z(this,Bh,!1);Z(this,hm,!1);Z(this,Wf,!1);Z(this,Vo,null);Z(this,lc,null);Z(this,Ki,null);Z(this,uc,null);Z(this,bt);const f=[...p(Ro,zh).values()];if(!Ro._initialized){Ro._initialized=!0;for(const v of f)v.initialize(h,e)}e.registerEditorTypes(f),z(this,bt,e),this.pageIndex=t,this.div=n,z(this,qf,s),z(this,$l,o),this.viewport=d,z(this,Ki,c),this.drawLayer=l,this._structTree=r,p(this,bt).addLayer(this)}get isEmpty(){return p(this,eo).size===0}get isInvisible(){return this.isEmpty&&p(this,bt).getMode()===Gt.NONE}updateToolbar(e){p(this,bt).updateToolbar(e)}updateMode(e=p(this,bt).getMode()){switch(ne(this,ir,P5).call(this),e){case Gt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Gt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Gt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of p(Ro,zh).values())t.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=p(this,Ki))==null?void 0:t.div)}setEditingState(e){p(this,bt).setEditingState(e)}addCommands(e){p(this,bt).addCommands(e)}cleanUndoStack(e){p(this,bt).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=p(this,$l))==null||t.div.classList.toggle("disabled",!e)}async enable(){z(this,Wf,!0),this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const n of p(this,eo).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(p(this,bt).removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!p(this,$l)){z(this,Wf,!1);return}const t=p(this,$l).getEditableAnnotations();for(const n of t){if(n.hide(),p(this,bt).isDeletedAnnotationElement(n.data.id)||e.has(n.data.id))continue;const r=await this.deserialize(n);r&&(this.addOrRebuild(r),r.enableEditing())}z(this,Wf,!1)}disable(){var r;z(this,hm,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const s of p(this,eo).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else t.set(s.annotationElementId,s);(r=this.getEditableAnnotation(s.annotationElementId))==null||r.show(),s.remove()}if(p(this,$l)){const s=p(this,$l).getEditableAnnotations();for(const o of s){const{id:l}=o.data;if(p(this,bt).isDeletedAnnotationElement(l))continue;let c=t.get(l);if(c){c.resetAnnotationElement(o),c.show(!1),o.show();continue}c=e.get(l),c&&(p(this,bt).addChangedExistingAnnotation(c),c.renderAnnotationElement(o)&&c.show(!1)),o.show()}}ne(this,ir,P5).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const s of p(Ro,zh).values())n.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),z(this,hm,!1)}getEditableAnnotation(e){var t;return((t=p(this,$l))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){p(this,bt).getActive()!==e&&p(this,bt).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=p(this,Ki))!=null&&e.div&&!p(this,uc)){z(this,uc,new AbortController);const t=p(this,bt).combinedSignal(p(this,uc));p(this,Ki).div.addEventListener("pointerdown",ne(this,ir,l6).bind(this),{signal:t}),p(this,Ki).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=p(this,Ki))!=null&&e.div&&p(this,uc)&&(p(this,uc).abort(),z(this,uc,null),p(this,Ki).div.classList.remove("highlighting"))}enableClick(){if(p(this,jh))return;z(this,jh,new AbortController);const e=p(this,bt).combinedSignal(p(this,jh));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=p(this,jh))==null||e.abort(),z(this,jh,null)}attach(e){p(this,eo).set(e.id,e);const{annotationElementId:t}=e;t&&p(this,bt).isDeletedAnnotationElement(t)&&p(this,bt).removeDeletedAnnotationElement(e)}detach(e){var t;p(this,eo).delete(e.id),(t=p(this,qf))==null||t.removePointerInTextLayer(e.contentDiv),!p(this,hm)&&e.annotationElementId&&p(this,bt).addDeletedAnnotationElement(e)}remove(e){this.detach(e),p(this,bt).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(p(this,bt).addDeletedAnnotationElement(e.annotationElementId),cr.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),p(this,bt).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!p(this,Wf)),p(this,bt).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!p(this,oc)&&(e._focusEventsAllowed=!1,z(this,oc,setTimeout(()=>{z(this,oc,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:p(this,bt)._signal}),t.focus())},0))),e._structTreeParentId=(n=p(this,qf))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getNextId(){return p(this,bt).getId()}combinedSignal(e){return p(this,bt).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=p(this,ir,Ll))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){p(this,bt).updateToolbar(e),p(this,bt).updateMode(e);const{offsetX:n,offsetY:r}=ne(this,ir,Wb).call(this),s=this.getNextId(),o=ne(this,ir,qb).call(this,{parent:this,id:s,x:n,y:r,uiManager:p(this,bt),isCentered:!0,...t});o&&this.add(o)}async deserialize(e){var t;return await((t=p(Ro,zh).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,p(this,bt)))||null}createAndAddNewEditor(e,t,n={}){const r=this.getNextId(),s=ne(this,ir,qb).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:p(this,bt),isCentered:t,...n});return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor(ne(this,ir,Wb).call(this),!0)}setSelected(e){p(this,bt).setSelected(e)}toggleSelected(e){p(this,bt).toggleSelected(e)}unselect(e){p(this,bt).unselect(e)}pointerup(e){var n;const{isMac:t}=xs.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&p(this,Bh)&&(z(this,Bh,!1),!((n=p(this,ir,Ll))!=null&&n.isDrawer&&p(this,ir,Ll).supportMultipleDrawings))){if(!p(this,cm)){z(this,cm,!0);return}if(p(this,bt).getMode()===Gt.STAMP){p(this,bt).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){var r;if(p(this,bt).getMode()===Gt.HIGHLIGHT&&this.enableTextSelection(),p(this,Bh)){z(this,Bh,!1);return}const{isMac:t}=xs.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(z(this,Bh,!0),(r=p(this,ir,Ll))!=null&&r.isDrawer){this.startDrawingSession(e);return}const n=p(this,bt).getActive();z(this,cm,!n||n.isEmpty())}startDrawingSession(e){if(this.div.focus(),p(this,Vo)){p(this,ir,Ll).startDrawing(this,p(this,bt),!1,e);return}p(this,bt).setCurrentDrawingSession(this),z(this,Vo,new AbortController);const t=p(this,bt).combinedSignal(p(this,Vo));this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(z(this,lc,null),this.commitOrRemove())},{signal:t}),p(this,ir,Ll).startDrawing(this,p(this,bt),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&z(this,lc,t);return}p(this,lc)&&setTimeout(()=>{var t;(t=p(this,lc))==null||t.focus(),z(this,lc,null)},0)}endDrawingSession(e=!1){return p(this,Vo)?(p(this,bt).setCurrentDrawingSession(null),p(this,Vo).abort(),z(this,Vo,null),z(this,lc,null),p(this,ir,Ll).endDrawing(e)):null}findNewParent(e,t,n){const r=p(this,bt).findParent(t,n);return r===null||r===this?!1:(r.changeParent(e),!0)}commitOrRemove(){return p(this,Vo)?(this.endDrawingSession(),!0):!1}onScaleChanging(){p(this,Vo)&&p(this,ir,Ll).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=p(this,bt).getActive())==null?void 0:e.parent)===this&&(p(this,bt).commitOrRemove(),p(this,bt).setActiveEditor(null)),p(this,oc)&&(clearTimeout(p(this,oc)),z(this,oc,null));for(const n of p(this,eo).values())(t=p(this,qf))==null||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,p(this,eo).clear(),p(this,bt).removeLayer(this)}render({viewport:e}){this.viewport=e,Zf(this.div,e);for(const t of p(this,bt).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){p(this,bt).commitOrRemove(),ne(this,ir,P5).call(this);const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,Zf(this.div,{rotation:n}),t!==n)for(const r of p(this,eo).values())r.rotate(n)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return p(this,bt).viewParameters.realScale}};qf=new WeakMap,cm=new WeakMap,$l=new WeakMap,jh=new WeakMap,oc=new WeakMap,eo=new WeakMap,Bh=new WeakMap,hm=new WeakMap,Wf=new WeakMap,Vo=new WeakMap,lc=new WeakMap,Ki=new WeakMap,uc=new WeakMap,bt=new WeakMap,zh=new WeakMap,ir=new WeakSet,l6=function(e){p(this,bt).unselectAll();const{target:t}=e;if(t===p(this,Ki).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&p(this,Ki).div.contains(t)){const{isMac:n}=xs.platform;if(e.button!==0||e.ctrlKey&&n)return;p(this,bt).showAllEditors("highlight",!0,!0),p(this,Ki).div.classList.add("free"),this.toggleDrawing(),J5.startHighlighting(this,p(this,bt).direction==="ltr",{target:p(this,Ki).div,x:e.x,y:e.y}),p(this,Ki).div.addEventListener("pointerup",()=>{p(this,Ki).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:p(this,bt)._signal}),e.preventDefault()}},Ll=function(){return p(Ro,zh).get(p(this,bt).getMode())},qb=function(e){const t=p(this,ir,Ll);return t?new t.prototype.constructor(e):null},Wb=function(){const{x:e,y:t,width:n,height:r}=this.div.getBoundingClientRect(),s=Math.max(0,e),o=Math.max(0,t),l=Math.min(window.innerWidth,e+n),c=Math.min(window.innerHeight,t+r),d=(s+l)/2-e,h=(o+c)/2-t,[f,v]=this.viewport.rotation%180===0?[d,h]:[h,d];return{offsetX:f,offsetY:v}},P5=function(){for(const e of p(this,eo).values())e.isEmpty()&&e.remove()},Tt(Ro,"_initialized",!1),Z(Ro,zh,new Map([_b,Bb,zb,J5].map(e=>[e._editorType,e])));let $b=Ro;var Go,V0,bs,Vf,yv,u6,Kl,Gb,c6,Xb;const Vi=class Vi{constructor({pageIndex:e}){Z(this,Kl);Z(this,Go,null);Z(this,V0,0);Z(this,bs,new Map);Z(this,Vf,new Map);this.pageIndex=e}setParent(e){if(!p(this,Go)){z(this,Go,e);return}if(p(this,Go)!==e){if(p(this,bs).size>0)for(const t of p(this,bs).values())t.remove(),e.append(t);z(this,Go,e)}}static get _svgFactory(){return en(this,"_svgFactory",new NA)}draw(e,t=!1,n=!1){const r=gs(this,V0)._++,s=ne(this,Kl,Gb).call(this),o=Vi._svgFactory.createElement("defs");s.append(o);const l=Vi._svgFactory.createElement("path");o.append(l);const c=`path_p${this.pageIndex}_${r}`;l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke"),t&&p(this,Vf).set(r,l);const d=n?ne(this,Kl,c6).call(this,o,c):null,h=Vi._svgFactory.createElement("use");return s.append(h),h.setAttribute("href",`#${c}`),this.updateProperties(s,e),p(this,bs).set(r,s),{id:r,clipPathId:`url(#${d})`}}drawOutline(e,t){const n=gs(this,V0)._++,r=ne(this,Kl,Gb).call(this),s=Vi._svgFactory.createElement("defs");r.append(s);const o=Vi._svgFactory.createElement("path");s.append(o);const l=`path_p${this.pageIndex}_${n}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke");let c;if(t){const f=Vi._svgFactory.createElement("mask");s.append(f),c=`mask_p${this.pageIndex}_${n}`,f.setAttribute("id",c),f.setAttribute("maskUnits","objectBoundingBox");const v=Vi._svgFactory.createElement("rect");f.append(v),v.setAttribute("width","1"),v.setAttribute("height","1"),v.setAttribute("fill","white");const g=Vi._svgFactory.createElement("use");f.append(g),g.setAttribute("href",`#${l}`),g.setAttribute("stroke","none"),g.setAttribute("fill","black"),g.setAttribute("fill-rule","nonzero"),g.classList.add("mask")}const d=Vi._svgFactory.createElement("use");r.append(d),d.setAttribute("href",`#${l}`),c&&d.setAttribute("mask",`url(#${c})`);const h=d.cloneNode();return r.append(h),d.classList.add("mainOutline"),h.classList.add("secondaryOutline"),this.updateProperties(r,e),p(this,bs).set(n,r),n}finalizeDraw(e,t){p(this,Vf).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var c;if(!t)return;const{root:n,bbox:r,rootClass:s,path:o}=t,l=typeof e=="number"?p(this,bs).get(e):e;if(l){if(n&&ne(this,Kl,Xb).call(this,l,n),r&&ne(c=Vi,yv,u6).call(c,l,r),s){const{classList:d}=l;for(const[h,f]of Object.entries(s))d.toggle(h,f)}if(o){const h=l.firstChild.firstChild;ne(this,Kl,Xb).call(this,h,o)}}}updateParent(e,t){if(t===this)return;const n=p(this,bs).get(e);n&&(p(t,Go).append(n),p(this,bs).delete(e),p(t,bs).set(e,n))}remove(e){p(this,Vf).delete(e),p(this,Go)!==null&&(p(this,bs).get(e).remove(),p(this,bs).delete(e))}destroy(){z(this,Go,null);for(const e of p(this,bs).values())e.remove();p(this,bs).clear(),p(this,Vf).clear()}};Go=new WeakMap,V0=new WeakMap,bs=new WeakMap,Vf=new WeakMap,yv=new WeakSet,u6=function(e,[t,n,r,s]){const{style:o}=e;o.top=`${100*n}%`,o.left=`${100*t}%`,o.width=`${100*r}%`,o.height=`${100*s}%`},Kl=new WeakSet,Gb=function(){const e=Vi._svgFactory.create(1,1,!0);return p(this,Go).append(e),e.setAttribute("aria-hidden",!0),e},c6=function(e,t){const n=Vi._svgFactory.createElement("clipPath");e.append(n);const r=`clip_${t}`;n.setAttribute("id",r),n.setAttribute("clipPathUnits","objectBoundingBox");const s=Vi._svgFactory.createElement("use");return n.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),r},Xb=function(e,t){for(const[n,r]of Object.entries(t))r===null?e.removeAttribute(n):e.setAttribute(n,r)},Z(Vi,yv);let Vb=Vi;globalThis.pdfjsTestingUtils={HighlightOutliner:Lb};zt.AbortException;zt.AnnotationEditorLayer;zt.AnnotationEditorParamsType;zt.AnnotationEditorType;zt.AnnotationEditorUIManager;zt.AnnotationLayer;zt.AnnotationMode;zt.ColorPicker;zt.DOMSVGFactory;zt.DrawLayer;zt.FeatureTest;var v7=zt.GlobalWorkerOptions;zt.ImageKind;zt.InvalidPDFException;zt.MissingPDFException;zt.OPS;zt.OutputScale;zt.PDFDataRangeTransport;zt.PDFDateString;zt.PDFWorker;zt.PasswordResponses;zt.PermissionFlag;zt.PixelsPerInch;zt.RenderingCancelledException;zt.TextLayer;zt.TouchManager;zt.UnexpectedResponseException;zt.Util;zt.VerbosityLevel;zt.XfaLayer;zt.build;zt.createValidAbsoluteUrl;zt.fetchData;var y7=zt.getDocument;zt.getFilenameFromUrl;zt.getPdfFilenameFromUrl;zt.getXfaPageViewport;zt.isDataScheme;zt.isPdfFile;zt.noContextMenu;zt.normalizeUnicode;zt.setLayerDimensions;zt.shadow;zt.stopEvent;zt.version;const w7="/assets/pdf.worker-BgryrOlp.mjs";v7.workerSrc=w7;const b7=()=>{const[i,e]=oe.useState([]),[t,n]=oe.useState(""),[r,s]=oe.useState(!1),o=async d=>{const h=d.target.files[0];if(s(!0),!h){console.log("No file selected!");return}n(h.name);const f=new FileReader;f.readAsArrayBuffer(h),f.onload=async v=>{const g=new Uint8Array(v.target.result),b=await y7({data:g}).promise,x=[];for(let E=1;E<=b.numPages;E++){const S=await b.getPage(E),F=S.getViewport({scale:2}),M=document.createElement("canvas"),$=M.getContext("2d");M.width=F.width,M.height=F.height,await S.render({canvasContext:$,viewport:F}).promise,x.push(M.toDataURL("image/png"))}e(x),s(!1)}},l=(d,h)=>{const f=document.createElement("a");f.href=d,f.download=`${t.replace(".pdf","")}_page_${h+1}.png`,document.body.appendChild(f),f.click(),document.body.removeChild(f)},c=()=>{i.forEach((d,h)=>{setTimeout(()=>l(d,h),h*500)})};return be.jsxs("div",{className:"p-5",children:[be.jsx("h2",{className:"text-xl font-bold mb-4",children:"Convert PDF to Images"}),be.jsx("div",{className:"flex justify-center items-center",children:i.length===0?be.jsxs("label",{htmlFor:"file-upload",className:"flex flex-col items-center justify-center w-90 h-60 border-2 border-dashed border-gray-300 rounded-xl shadow-lg cursor-pointer hover:bg-gray-100",children:[be.jsxs("div",{className:"flex flex-col items-center justify-center p-5",children:[be.jsx(bv,{className:"text-5xl text-blue-500 mb-3"}),be.jsx("span",{className:"text-gray-600 text-lg font-semibold",children:"Upload PDF"}),be.jsx("span",{className:"text-gray-400 text-sm mt-1",children:"or, drag and drop a PDF here"})]}),be.jsx("input",{id:"file-upload",type:"file",accept:"application/pdf",onChange:o,className:"hidden"}),r&&be.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50 ",children:be.jsxs("div",{className:"flex flex-col items-center",children:[be.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),be.jsxs("span",{className:"text-white mt-4 font-medium",children:["Upload Pdf...",be.jsx("br",{}),"Please Waite"]})]})})]}):be.jsxs("div",{className:"text-center",children:[be.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["File: ",t]}),be.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:i.map((d,h)=>be.jsxs("div",{className:"flex flex-col items-center",children:[be.jsx("img",{src:d,alt:`Page ${h+1}`,className:"w-70 h-auto rounded shadow-md"}),be.jsxs("button",{onClick:()=>l(d,h),className:"mt-2 px-4 py-2 bg-green-500 text-white rounded flex items-center gap-2 hover:bg-green-700",children:[be.jsx(Jx,{}),"Download Page ",h+1]})]},h))}),be.jsxs("div",{className:"flex justify-center gap-4",children:[be.jsxs("button",{onClick:c,className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded flex items-center gap-2 hover:bg-blue-700",children:[be.jsx(Jx,{}),"Download All"]}),be.jsxs("button",{onClick:()=>e([]),className:"mt-4 px-4 py-2 bg-red-500 text-white rounded flex items-center gap-2 hover:bg-red-700",children:[be.jsx(mL,{}),"Clear"]})]})]})})]})},A7=()=>be.jsx(be.Fragment,{children:be.jsx("h2",{className:"text-xl font-bold mb-4 mt-5",children:"future features"})}),x7=()=>{const[i,e]=oe.useState(null),[t,n]=oe.useState(null),[r,s]=oe.useState(null),[o,l]=oe.useState("image/png"),[c,d]=oe.useState(null),h=g=>{const b=g.target.files&&g.target.files[0];b&&(e(b),d((b.size/1024).toFixed(2)),n(URL.createObjectURL(b)),s(null))},f=()=>{if(!i)return;const g=new Image;g.src=t,g.onload=()=>{const b=document.createElement("canvas"),x=b.getContext("2d");b.width=g.width,b.height=g.height,x.drawImage(g,0,0);const E=b.toDataURL(o);s(E)}},v=()=>{if(!r)return;const g=document.createElement("a");g.href=r,g.download="converted_image.png",document.body.appendChild(g),g.click(),document.body.removeChild(g)};return be.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto",fontFamily:"Arial, sans-serif"},children:[be.jsx("h2",{className:"text-xl font-bold mb-4",children:"JPG TO PNG"}),be.jsx("div",{className:"flex justify-center items-center ",children:i?be.jsx(be.Fragment,{children:"file uploaded"}):be.jsx(be.Fragment,{children:be.jsxs("label",{htmlFor:"file-upload",className:"flex flex-col items-center justify-center w-90 h-60  border-2 border-dashed border-gray-300 rounded-xl shadow-lg cursor-pointer hover:bg-gray-100 ",children:[be.jsxs("div",{className:"flex flex-col items-center justify-center p-5",children:[be.jsx(bv,{className:"text-5xl text-blue-500 mb-3"}),be.jsx("span",{className:"text-gray-600 text-lg font-semibold",children:"Upload Image"}),be.jsx("span",{className:"text-gray-400 text-sm mt-1",children:i?i.name:"or, drag and drop an image here"})]}),be.jsx("input",{id:"file-upload",type:"file",accept:"image/*",onChange:h,className:"hidden"})]})})}),c&&be.jsxs("p",{children:["Original Size: ",be.jsx("strong",{children:c})," KB"]}),be.jsx("button",{onClick:f,className:"px-4 py-2 mb-2 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-md transition duration-300",children:"Convert Image"}),r&&be.jsxs("div",{children:[be.jsx("h3",{children:"Converted Image:"}),be.jsx("img",{src:r,alt:"Converted Preview",style:{width:"100%",marginBottom:"10px"}}),be.jsx("button",{onClick:v,className:"px-4 py-2 mb-2 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-md transition duration-300",children:"Download PNG Image"})]})]})};function S7(){return be.jsx(be.Fragment,{children:be.jsxs(gC,{future:{v7_startTransition:!0},children:[be.jsx(m8,{}),be.jsxs(lC,{children:[be.jsx(Io,{path:"/",element:be.jsx(v8,{})}),be.jsx(Io,{path:"/resize",element:be.jsx(vL,{})}),be.jsx(Io,{path:"/image-resizer",element:be.jsx("h1",{children:"Image Resizer Page"})}),be.jsx(Io,{path:"/crop-image",element:be.jsx("h1",{children:"Crop Image Page"})}),be.jsx(Io,{path:"/compress/mb-to-kb"}),be.jsx(Io,{path:"/compress/jpg-to-png",element:be.jsx(x7,{})}),be.jsx(Io,{path:"/convert/img-to-pdf",element:be.jsx(vT,{})}),be.jsx(Io,{path:"/convert/pdf-to-img",element:be.jsx(b7,{})}),be.jsx(Io,{path:"/convert/webp-to-png",element:be.jsx("h1",{children:"WEBP to PNG Page"})}),be.jsx(Io,{path:"/bulk-resize",element:be.jsx(A7,{})})]})]})})}eL.createRoot(document.getElementById("root")).render(be.jsx(oe.StrictMode,{children:be.jsx(S7,{})}));export{In as _,E7 as c,V6 as g};
